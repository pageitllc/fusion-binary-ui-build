{"version":3,"file":"fusion-binary-ui.es.js","sources":["../node_modules/lucide-vue-next/dist/esm/shared/src/utils.js","../node_modules/lucide-vue-next/dist/esm/defaultAttributes.js","../node_modules/lucide-vue-next/dist/esm/Icon.js","../node_modules/lucide-vue-next/dist/esm/createLucideIcon.js","../node_modules/lucide-vue-next/dist/esm/icons/bell.js","../node_modules/lucide-vue-next/dist/esm/icons/check.js","../node_modules/lucide-vue-next/dist/esm/icons/chevron-down.js","../node_modules/lucide-vue-next/dist/esm/icons/chevron-left.js","../node_modules/lucide-vue-next/dist/esm/icons/chevron-right.js","../node_modules/lucide-vue-next/dist/esm/icons/chevron-up.js","../node_modules/lucide-vue-next/dist/esm/icons/circle-alert.js","../node_modules/lucide-vue-next/dist/esm/icons/circle-check-big.js","../node_modules/lucide-vue-next/dist/esm/icons/circle-check.js","../node_modules/lucide-vue-next/dist/esm/icons/circle-x.js","../node_modules/lucide-vue-next/dist/esm/icons/ellipsis-vertical.js","../node_modules/lucide-vue-next/dist/esm/icons/eye-off.js","../node_modules/lucide-vue-next/dist/esm/icons/eye.js","../node_modules/lucide-vue-next/dist/esm/icons/file-text.js","../node_modules/lucide-vue-next/dist/esm/icons/info.js","../node_modules/lucide-vue-next/dist/esm/icons/maximize-2.js","../node_modules/lucide-vue-next/dist/esm/icons/minimize-2.js","../node_modules/lucide-vue-next/dist/esm/icons/monitor-smartphone.js","../node_modules/lucide-vue-next/dist/esm/icons/square-pen.js","../node_modules/lucide-vue-next/dist/esm/icons/trash-2.js","../node_modules/lucide-vue-next/dist/esm/icons/triangle-alert.js","../node_modules/lucide-vue-next/dist/esm/icons/video.js","../node_modules/lucide-vue-next/dist/esm/icons/x.js","../src/components/StatusDropdown/FusionStatusDropdown.vue","../src/components/actionButton/FusionActionButton.vue","../src/components/TextInput/EditableDisplayField.vue","../src/components/TextInput/FusionTextInput.vue","../src/components/accordion/FusionAccordion.vue","../src/components/autocomplete/FusionAutocomplete.vue","../src/components/avatar/UserStatus.ts","../src/components/avatar/FuAvatar.vue","../src/components/avatar/FuAvatarGroup.vue","../src/components/badge/FusionBadge.vue","../src/components/button/FusionButton.vue","../src/components/cards/FusionStatCard.vue","../src/components/checkbox/FusionCheckbox.vue","../src/components/codeInput/FusionCodeInput.vue","../src/components/colourPallet/FuColorPopover.vue","../src/components/combobox/FuCombobox.vue","../node_modules/dayjs/dayjs.min.js","../node_modules/dayjs/plugin/customParseFormat.js","../src/components/datePicker/dateField/FusionDatePicker.vue","../src/components/datePicker/datePickerBackup.vue","../src/components/datePicker/monthPicker/FusionMonthPicker.vue","../src/components/datePicker/plainDate/FusionPlainDatePicker.vue","../src/components/datePicker/time/FusionTimePicker.vue","../src/components/drawer/FusionDrawer.vue","../src/components/dropdown/FusionDropdownButton.vue","../src/components/dropdownInline/FusionDropdownInline.vue","../src/components/dropdownMenu/DropdownMenu.vue","../src/components/editWrapper/EditableFieldWrapper.vue","../src/components/fileUploader/FusionUpload.vue","../src/components/filterDropdown/FusionFilterDropdown.vue","../src/components/floatingHeader/FusionSmartHeader.vue","../src/components/icons/FusionTrashIcon.vue","../src/components/items/activity/FusionActivityItem.vue","../src/components/items/attachments/FusionAttachment.vue","../src/components/items/notes/FusionNoteCard.vue","../src/components/items/task/FusionTaskItem.vue","../src/components/kanban/Kanban.vue","../src/components/modal/FusionModal.vue","../src/components/layout/AppShell.vue","../src/components/list/FusionListView.vue","../src/components/modal/FusionConfirmDialog.vue","../src/components/modal/FusionPreviewModal.vue","../src/components/modulemenu/FusionModuleMenu.vue","../src/components/notification/FuNotification.vue","../src/components/notifications/FuAlert.vue","../src/components/notifications/FusionToast.vue","../src/components/pagination/FusionPagination.vue","../src/components/panel/FuPanel.vue","../src/components/password/FusionPasswordInput.vue","../src/components/progress/FusionProgressStepper.vue","../src/components/radio/FusionRadio.vue","../src/components/rangeControl/FusionRangeControl.vue","../src/components/section/FuSectionHeader.vue","../src/components/sidebarmenu/FusionSidebar.vue","../src/components/splitButton/FusionSplitButton.vue","../src/components/switch/FusionSwitch.vue","../src/components/tabs/FusionTab.vue","../src/components/textArea/FusionTextArea.vue","../src/components/theme/FuThemeSelector.vue","../src/components/toolbar/FusionToolbar.vue","../src/composables/useToast.ts","../src/composables/useTheme.ts","../src/index.ts"],"sourcesContent":["/**\n * @license lucide-vue-next v0.544.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nconst toKebabCase = (string) => string.replace(/([a-z0-9])([A-Z])/g, \"$1-$2\").toLowerCase();\nconst toCamelCase = (string) => string.replace(\n  /^([A-Z])|[\\s-_]+(\\w)/g,\n  (match, p1, p2) => p2 ? p2.toUpperCase() : p1.toLowerCase()\n);\nconst toPascalCase = (string) => {\n  const camelCase = toCamelCase(string);\n  return camelCase.charAt(0).toUpperCase() + camelCase.slice(1);\n};\nconst mergeClasses = (...classes) => classes.filter((className, index, array) => {\n  return Boolean(className) && className.trim() !== \"\" && array.indexOf(className) === index;\n}).join(\" \").trim();\nconst isEmptyString = (value) => value === \"\";\n\nexport { isEmptyString, mergeClasses, toCamelCase, toKebabCase, toPascalCase };\n//# sourceMappingURL=utils.js.map\n","/**\n * @license lucide-vue-next v0.544.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nvar defaultAttributes = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  width: 24,\n  height: 24,\n  viewBox: \"0 0 24 24\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  \"stroke-width\": 2,\n  \"stroke-linecap\": \"round\",\n  \"stroke-linejoin\": \"round\"\n};\n\nexport { defaultAttributes as default };\n//# sourceMappingURL=defaultAttributes.js.map\n","/**\n * @license lucide-vue-next v0.544.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport { h } from 'vue';\nimport { mergeClasses, toKebabCase, toPascalCase, isEmptyString } from './shared/src/utils.js';\nimport defaultAttributes from './defaultAttributes.js';\n\nconst Icon = ({\n  name,\n  iconNode,\n  absoluteStrokeWidth,\n  \"absolute-stroke-width\": absoluteStrokeWidthKebabCase,\n  strokeWidth,\n  \"stroke-width\": strokeWidthKebabCase,\n  size = defaultAttributes.width,\n  color = defaultAttributes.stroke,\n  ...props\n}, { slots }) => {\n  return h(\n    \"svg\",\n    {\n      ...defaultAttributes,\n      ...props,\n      width: size,\n      height: size,\n      stroke: color,\n      \"stroke-width\": isEmptyString(absoluteStrokeWidth) || isEmptyString(absoluteStrokeWidthKebabCase) || absoluteStrokeWidth === true || absoluteStrokeWidthKebabCase === true ? Number(strokeWidth || strokeWidthKebabCase || defaultAttributes[\"stroke-width\"]) * 24 / Number(size) : strokeWidth || strokeWidthKebabCase || defaultAttributes[\"stroke-width\"],\n      class: mergeClasses(\n        \"lucide\",\n        props.class,\n        ...name ? [`lucide-${toKebabCase(toPascalCase(name))}-icon`, `lucide-${toKebabCase(name)}`] : [\"lucide-icon\"]\n      )\n    },\n    [...iconNode.map((child) => h(...child)), ...slots.default ? [slots.default()] : []]\n  );\n};\n\nexport { Icon as default };\n//# sourceMappingURL=Icon.js.map\n","/**\n * @license lucide-vue-next v0.544.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport { h } from 'vue';\nimport Icon from './Icon.js';\n\nconst createLucideIcon = (iconName, iconNode) => (props, { slots, attrs }) => h(\n  Icon,\n  {\n    ...attrs,\n    ...props,\n    iconNode,\n    name: iconName\n  },\n  slots\n);\n\nexport { createLucideIcon as default };\n//# sourceMappingURL=createLucideIcon.js.map\n","/**\n * @license lucide-vue-next v0.544.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Bell = createLucideIcon(\"bell\", [\n  [\"path\", { d: \"M10.268 21a2 2 0 0 0 3.464 0\", key: \"vwvbt9\" }],\n  [\n    \"path\",\n    {\n      d: \"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326\",\n      key: \"11g9vi\"\n    }\n  ]\n]);\n\nexport { Bell as default };\n//# sourceMappingURL=bell.js.map\n","/**\n * @license lucide-vue-next v0.544.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Check = createLucideIcon(\"check\", [[\"path\", { d: \"M20 6 9 17l-5-5\", key: \"1gmf2c\" }]]);\n\nexport { Check as default };\n//# sourceMappingURL=check.js.map\n","/**\n * @license lucide-vue-next v0.544.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ChevronDown = createLucideIcon(\"chevron-down\", [\n  [\"path\", { d: \"m6 9 6 6 6-6\", key: \"qrunsl\" }]\n]);\n\nexport { ChevronDown as default };\n//# sourceMappingURL=chevron-down.js.map\n","/**\n * @license lucide-vue-next v0.544.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ChevronLeft = createLucideIcon(\"chevron-left\", [\n  [\"path\", { d: \"m15 18-6-6 6-6\", key: \"1wnfg3\" }]\n]);\n\nexport { ChevronLeft as default };\n//# sourceMappingURL=chevron-left.js.map\n","/**\n * @license lucide-vue-next v0.544.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ChevronRight = createLucideIcon(\"chevron-right\", [\n  [\"path\", { d: \"m9 18 6-6-6-6\", key: \"mthhwq\" }]\n]);\n\nexport { ChevronRight as default };\n//# sourceMappingURL=chevron-right.js.map\n","/**\n * @license lucide-vue-next v0.544.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ChevronUp = createLucideIcon(\"chevron-up\", [\n  [\"path\", { d: \"m18 15-6-6-6 6\", key: \"153udz\" }]\n]);\n\nexport { ChevronUp as default };\n//# sourceMappingURL=chevron-up.js.map\n","/**\n * @license lucide-vue-next v0.544.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst CircleAlert = createLucideIcon(\"circle-alert\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"8\", y2: \"12\", key: \"1pkeuh\" }],\n  [\"line\", { x1: \"12\", x2: \"12.01\", y1: \"16\", y2: \"16\", key: \"4dfq90\" }]\n]);\n\nexport { CircleAlert as default };\n//# sourceMappingURL=circle-alert.js.map\n","/**\n * @license lucide-vue-next v0.544.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst CircleCheckBig = createLucideIcon(\"circle-check-big\", [\n  [\"path\", { d: \"M21.801 10A10 10 0 1 1 17 3.335\", key: \"yps3ct\" }],\n  [\"path\", { d: \"m9 11 3 3L22 4\", key: \"1pflzl\" }]\n]);\n\nexport { CircleCheckBig as default };\n//# sourceMappingURL=circle-check-big.js.map\n","/**\n * @license lucide-vue-next v0.544.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst CircleCheck = createLucideIcon(\"circle-check\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"path\", { d: \"m9 12 2 2 4-4\", key: \"dzmm74\" }]\n]);\n\nexport { CircleCheck as default };\n//# sourceMappingURL=circle-check.js.map\n","/**\n * @license lucide-vue-next v0.544.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst CircleX = createLucideIcon(\"circle-x\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"path\", { d: \"m15 9-6 6\", key: \"1uzhvr\" }],\n  [\"path\", { d: \"m9 9 6 6\", key: \"z0biqf\" }]\n]);\n\nexport { CircleX as default };\n//# sourceMappingURL=circle-x.js.map\n","/**\n * @license lucide-vue-next v0.544.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst EllipsisVertical = createLucideIcon(\"ellipsis-vertical\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"1\", key: \"41hilf\" }],\n  [\"circle\", { cx: \"12\", cy: \"5\", r: \"1\", key: \"gxeob9\" }],\n  [\"circle\", { cx: \"12\", cy: \"19\", r: \"1\", key: \"lyex9k\" }]\n]);\n\nexport { EllipsisVertical as default };\n//# sourceMappingURL=ellipsis-vertical.js.map\n","/**\n * @license lucide-vue-next v0.544.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst EyeOff = createLucideIcon(\"eye-off\", [\n  [\n    \"path\",\n    {\n      d: \"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49\",\n      key: \"ct8e1f\"\n    }\n  ],\n  [\"path\", { d: \"M14.084 14.158a3 3 0 0 1-4.242-4.242\", key: \"151rxh\" }],\n  [\n    \"path\",\n    {\n      d: \"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143\",\n      key: \"13bj9a\"\n    }\n  ],\n  [\"path\", { d: \"m2 2 20 20\", key: \"1ooewy\" }]\n]);\n\nexport { EyeOff as default };\n//# sourceMappingURL=eye-off.js.map\n","/**\n * @license lucide-vue-next v0.544.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Eye = createLucideIcon(\"eye\", [\n  [\n    \"path\",\n    {\n      d: \"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0\",\n      key: \"1nclc0\"\n    }\n  ],\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"3\", key: \"1v7zrd\" }]\n]);\n\nexport { Eye as default };\n//# sourceMappingURL=eye.js.map\n","/**\n * @license lucide-vue-next v0.544.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst FileText = createLucideIcon(\"file-text\", [\n  [\"path\", { d: \"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z\", key: \"1rqfz7\" }],\n  [\"path\", { d: \"M14 2v4a2 2 0 0 0 2 2h4\", key: \"tnqrlb\" }],\n  [\"path\", { d: \"M10 9H8\", key: \"b1mrlr\" }],\n  [\"path\", { d: \"M16 13H8\", key: \"t4e002\" }],\n  [\"path\", { d: \"M16 17H8\", key: \"z1uh3a\" }]\n]);\n\nexport { FileText as default };\n//# sourceMappingURL=file-text.js.map\n","/**\n * @license lucide-vue-next v0.544.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Info = createLucideIcon(\"info\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"path\", { d: \"M12 16v-4\", key: \"1dtifu\" }],\n  [\"path\", { d: \"M12 8h.01\", key: \"e9boi3\" }]\n]);\n\nexport { Info as default };\n//# sourceMappingURL=info.js.map\n","/**\n * @license lucide-vue-next v0.544.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Maximize2 = createLucideIcon(\"maximize-2\", [\n  [\"path\", { d: \"M15 3h6v6\", key: \"1q9fwt\" }],\n  [\"path\", { d: \"m21 3-7 7\", key: \"1l2asr\" }],\n  [\"path\", { d: \"m3 21 7-7\", key: \"tjx5ai\" }],\n  [\"path\", { d: \"M9 21H3v-6\", key: \"wtvkvv\" }]\n]);\n\nexport { Maximize2 as default };\n//# sourceMappingURL=maximize-2.js.map\n","/**\n * @license lucide-vue-next v0.544.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Minimize2 = createLucideIcon(\"minimize-2\", [\n  [\"path\", { d: \"m14 10 7-7\", key: \"oa77jy\" }],\n  [\"path\", { d: \"M20 10h-6V4\", key: \"mjg0md\" }],\n  [\"path\", { d: \"m3 21 7-7\", key: \"tjx5ai\" }],\n  [\"path\", { d: \"M4 14h6v6\", key: \"rmj7iw\" }]\n]);\n\nexport { Minimize2 as default };\n//# sourceMappingURL=minimize-2.js.map\n","/**\n * @license lucide-vue-next v0.544.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst MonitorSmartphone = createLucideIcon(\"monitor-smartphone\", [\n  [\"path\", { d: \"M18 8V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h8\", key: \"10dyio\" }],\n  [\"path\", { d: \"M10 19v-3.96 3.15\", key: \"1irgej\" }],\n  [\"path\", { d: \"M7 19h5\", key: \"qswx4l\" }],\n  [\"rect\", { width: \"6\", height: \"10\", x: \"16\", y: \"12\", rx: \"2\", key: \"1egngj\" }]\n]);\n\nexport { MonitorSmartphone as default };\n//# sourceMappingURL=monitor-smartphone.js.map\n","/**\n * @license lucide-vue-next v0.544.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst SquarePen = createLucideIcon(\"square-pen\", [\n  [\"path\", { d: \"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7\", key: \"1m0v6g\" }],\n  [\n    \"path\",\n    {\n      d: \"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z\",\n      key: \"ohrbg2\"\n    }\n  ]\n]);\n\nexport { SquarePen as default };\n//# sourceMappingURL=square-pen.js.map\n","/**\n * @license lucide-vue-next v0.544.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Trash2 = createLucideIcon(\"trash-2\", [\n  [\"path\", { d: \"M10 11v6\", key: \"nco0om\" }],\n  [\"path\", { d: \"M14 11v6\", key: \"outv1u\" }],\n  [\"path\", { d: \"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6\", key: \"miytrc\" }],\n  [\"path\", { d: \"M3 6h18\", key: \"d0wm0j\" }],\n  [\"path\", { d: \"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2\", key: \"e791ji\" }]\n]);\n\nexport { Trash2 as default };\n//# sourceMappingURL=trash-2.js.map\n","/**\n * @license lucide-vue-next v0.544.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst TriangleAlert = createLucideIcon(\"triangle-alert\", [\n  [\n    \"path\",\n    {\n      d: \"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3\",\n      key: \"wmoenq\"\n    }\n  ],\n  [\"path\", { d: \"M12 9v4\", key: \"juzpu7\" }],\n  [\"path\", { d: \"M12 17h.01\", key: \"p32p05\" }]\n]);\n\nexport { TriangleAlert as default };\n//# sourceMappingURL=triangle-alert.js.map\n","/**\n * @license lucide-vue-next v0.544.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Video = createLucideIcon(\"video\", [\n  [\n    \"path\",\n    {\n      d: \"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5\",\n      key: \"ftymec\"\n    }\n  ],\n  [\"rect\", { x: \"2\", y: \"6\", width: \"14\", height: \"12\", rx: \"2\", key: \"158x01\" }]\n]);\n\nexport { Video as default };\n//# sourceMappingURL=video.js.map\n","/**\n * @license lucide-vue-next v0.544.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst X = createLucideIcon(\"x\", [\n  [\"path\", { d: \"M18 6 6 18\", key: \"1bl5f8\" }],\n  [\"path\", { d: \"m6 6 12 12\", key: \"d8bk6v\" }]\n]);\n\nexport { X as default };\n//# sourceMappingURL=x.js.map\n","<template>\n  <div class=\"fu-status-dropdown\" ref=\"dropdown\">\n    <div v-if=\"label\" class=\"fu-status-dropdown__label-text\">\n      {{ label }}\n    </div>\n\n    <button class=\"fu-status-dropdown__button\" @click=\"toggleDropdown\">\n      <span v-if=\"selected\">\n        <component\n          v-if=\"selected.icon\"\n          :is=\"selected.icon\"\n          class=\"fu-status-dropdown__icon\"\n        />\n        <span\n          v-else-if=\"selected.color\"\n          class=\"fu-status-dropdown__dot\"\n          :style=\"{ backgroundColor: selected.color }\"\n        />\n      </span>\n\n      <span\n        class=\"fu-status-dropdown__label\"\n        :class=\"{ 'fu-status-dropdown__placeholder': !selected }\"\n      >\n        {{ selected?.label || placeholder }}\n      </span>\n\n      <ChevronDown class=\"fu-status-dropdown__chevron\" />\n    </button>\n\n    <!-- Teleported menu -->\n    <Teleport to=\"body\">\n      <transition name=\"fade\">\n        <ul\n          v-if=\"dropdownOpen\"\n          ref=\"menuRef\"\n          class=\"fu-status-dropdown__menu\"\n          :style=\"menuStyle\"\n        >\n          <li\n            v-for=\"option in options\"\n            :key=\"option.label\"\n            class=\"fu-status-dropdown__item\"\n            @click=\"selectStatus(option)\"\n          >\n            <component\n              v-if=\"option.icon\"\n              :is=\"option.icon\"\n              class=\"fu-status-dropdown__icon\"\n            />\n            <span\n              v-else-if=\"option.color\"\n              class=\"fu-status-dropdown__dot\"\n              :style=\"{ backgroundColor: option.color }\"\n            />\n            <span class=\"fu-status-dropdown__item-label\">\n              {{ option.label }}\n            </span>\n          </li>\n        </ul>\n      </transition>\n    </Teleport>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ChevronDown } from \"lucide-vue-next\";\nimport { ref, watch, onMounted, onBeforeUnmount, reactive, nextTick } from \"vue\";\nimport type { Component } from \"vue\";\n\ninterface Option {\n  label: string;\n  color?: string;\n  icon?: Component;\n}\n\ninterface Props {\n  modelValue: Option | null;\n  options: Option[];\n  align?: \"left\" | \"center\" | \"right\";\n  label?: string;\n  placeholder?: string;\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  align: \"left\",\n  label: \"\",\n  placeholder: \"Select Status\",\n});\n\nconst emit = defineEmits([\"update:modelValue\"]);\n\nconst dropdownOpen = ref(false);\nconst dropdown = ref<HTMLElement | null>(null);\nconst menuRef = ref<HTMLElement | null>(null);\nconst selected = ref<Option | null>(props.modelValue || null);\n\nconst menuStyle = reactive<Record<string, string>>({\n  position: \"absolute\",\n  visibility: \"hidden\",\n  opacity: \"0\",\n  zIndex: \"9999\",\n});\n\nwatch(\n  () => props.modelValue,\n  (val) => (selected.value = val)\n);\n\n/* --------------------------------------------------\n   Smart positioning (auto flip)\n-------------------------------------------------- */\nfunction calculatePosition() {\n  if (!dropdown.value || !menuRef.value) return;\n\n  const triggerRect = dropdown.value.getBoundingClientRect();\n  const menuRect = menuRef.value.getBoundingClientRect();\n  const viewportHeight = window.innerHeight;\n\n  const spaceBelow = viewportHeight - triggerRect.bottom;\n  const spaceAbove = triggerRect.top;\n\n  const openUpwards = spaceBelow < menuRect.height && spaceAbove > spaceBelow;\n\n  // Horizontal alignment\n  let left = triggerRect.left + window.scrollX;\n  let transform = \"none\";\n\n  if (props.align === \"center\") {\n    left += triggerRect.width / 2;\n    transform = \"translateX(-50%)\";\n  }\n\n  if (props.align === \"right\") {\n    left = triggerRect.right + window.scrollX;\n    transform = \"translateX(-100%)\";\n  }\n\n  menuStyle.left = `${left}px`;\n  menuStyle.transform = transform;\n  menuStyle.minWidth = `${triggerRect.width}px`;\n\n  // Vertical positioning\n  if (openUpwards) {\n    menuStyle.top = `${triggerRect.top + window.scrollY - menuRect.height - 6}px`;\n  } else {\n    menuStyle.top = `${triggerRect.bottom + window.scrollY + 6}px`;\n  }\n\n  menuStyle.visibility = \"visible\";\n  menuStyle.opacity = \"1\";\n}\n\n/* --------------------------------------------------\n   Actions\n-------------------------------------------------- */\nconst toggleDropdown = async () => {\n  dropdownOpen.value = !dropdownOpen.value;\n\n  if (dropdownOpen.value) {\n    await nextTick();\n    calculatePosition();\n    await nextTick();\n    calculatePosition(); // second pass for safety\n  }\n};\n\nconst selectStatus = (option: Option) => {\n  selected.value = option;\n  emit(\"update:modelValue\", option);\n  dropdownOpen.value = false;\n};\n\n/* --------------------------------------------------\n   Close helpers\n-------------------------------------------------- */\nconst handleClickOutside = (e: MouseEvent) => {\n  const target = e.target as Node;\n  if (\n    dropdownOpen.value &&\n    dropdown.value &&\n    menuRef.value &&\n    !dropdown.value.contains(target) &&\n    !menuRef.value.contains(target)\n  ) {\n    dropdownOpen.value = false;\n  }\n};\n\nconst handleViewportChange = () => {\n  if (dropdownOpen.value) dropdownOpen.value = false;\n};\n\nconst handleKeyDown = (e: KeyboardEvent) => {\n  if (e.key === \"Escape\") dropdownOpen.value = false;\n};\n\nonMounted(() => {\n  document.addEventListener(\"click\", handleClickOutside);\n  window.addEventListener(\"resize\", handleViewportChange);\n  window.addEventListener(\"scroll\", handleViewportChange, true);\n  document.addEventListener(\"keydown\", handleKeyDown);\n});\n\nonBeforeUnmount(() => {\n  document.removeEventListener(\"click\", handleClickOutside);\n  window.removeEventListener(\"resize\", handleViewportChange);\n  window.removeEventListener(\"scroll\", handleViewportChange, true);\n  document.removeEventListener(\"keydown\", handleKeyDown);\n});\n</script>\n\n<style scoped lang=\"scss\">\n@import \"./FusionStatusDropdown.scss\";\n</style>\n","<template>\n  <div class=\"fu-action-btn-wrapper\" :class=\"{ 'has-tooltip': tooltip }\">\n    <button\n      class=\"fu-action-btn\"\n      :class=\"[`fu-action-btn--${size}`, `fu-action-btn--${variant}`, { 'is-loading': loading }]\"\n      :disabled=\"disabled || loading\"\n      @click=\"!loading ? $emit('click', $event) : null\"\n    >\n      <span v-if=\"loading\" class=\"fu-spinner\"></span>\n\n      <!-- icon only -->\n      <component\n        v-else-if=\"icon\"\n        :is=\"icon\"\n        class=\"fu-action-btn__icon\"\n        :size=\"20\"\n      />\n    </button>\n\n    <span v-if=\"tooltip\" class=\"fu-tooltip\">\n      {{ tooltip }}\n    </span>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport type { Component } from \"vue\";\n\ninterface Props {\n  disabled?: boolean;\n  size?: \"sm\" | \"md\" | \"lg\";\n  variant?: \"solid\" | \"subtle\" | \"outline\" | \"ghost\" | \"danger\";\n  tooltip?: string | null;\n  loading?: boolean;\n  icon?: Component | null;\n}\n\nwithDefaults(defineProps<Props>(), {\n  disabled: false,\n  size: \"md\",\n  variant: \"subtle\",\n  tooltip: null,\n  loading: false,\n  icon: null,\n});\n\ndefineEmits<{\n  (e: \"click\", ev: MouseEvent): void;\n}>();\n\n\n\n</script>\n\n<style scoped lang=\"scss\">\n@import \"./FusionActionButton.scss\";\n\n\n</style>\n","<template>\n    <div class=\"edf-container\">\n        <label v-if=\"label\" class=\"edf-label\">{{ label }}</label>\n\n        <div class=\"edf-wrapper\" :class=\"[`edf--${variant}`]\" @mouseenter=\"hover = true\" @mouseleave=\"hover = false\"\n            ref=\"container\">\n            <!-- TEXT -->\n            <span class=\"edf-text\">{{ text }}</span>\n\n            <!-- ACTION BUTTON -->\n            <FusionActionButton v-if=\"hover\" class=\"edf-edit-btn\" :icon=\"Edit\" size=\"sm\" variant=\"subtle\"\n                @click=\"triggerEdit\" />\n        </div>\n    </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref } from \"vue\";\nimport FusionActionButton from \"@/components/actionButton/FusionActionButton.vue\";\nimport { Edit } from \"lucide-vue-next\";\n\nconst props = withDefaults(defineProps<{\n    text: string;\n    label?: string;\n    variant?: \"solid\" | \"outline\" | \"ghost\";\n}>(), {\n    variant: \"solid\",\n    label: \"\"\n});\n\nconst emit = defineEmits<{\n    (e: \"edit\", event: MouseEvent): void;\n}>();\n\nconst hover = ref(false);\n\nfunction triggerEdit(event: MouseEvent) {\n    emit(\"edit\", event);\n}\n</script>\n\n<style scoped>\n.edf-container {\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    gap: 4px;\n    margin-bottom: .8rem;\n    \n}\n\n.edf-label {\n    display: flex;\n    align-items: center;\n    gap: 2px;\n    margin-bottom: .25rem;\n    font-weight: 500;\n    font-size: .8rem;\n    color: var(--fu-label-text);\n}\n\n\n.edf-wrapper {\n    padding: 0 .2rem;\n    border-radius: 6px;\n    display: flex;\n    align-items: center;\n    cursor: pointer;\n    transition: background 0.18s ease, border-color 0.18s ease;\n    width: 100%;\n    height: 28px;\n}\n\n.edf-text {\n    flex: 1;\n    font-size: 14px;\n    color: var(--fu-color-text);\n    line-height: 1.3;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    font-weight: 600;\n}\n\n\n.edf-edit-btn {\n    opacity: 0;\n    transition: opacity 0.18s ease;\n}\n\n.edf-wrapper:hover .edf-edit-btn {\n    opacity: 1;\n}\n\n\n\n\n.edf--solid {\n    background: #f5f5f5;\n}\n\n.edf--solid:hover {\n    background: #ececec;\n}\n\n.edf--outline {\n    background: transparent;\n    border-color: transparent;\n}\n\n.edf--outline:hover {\n\n    box-shadow: 0 0 0 1px #18302880;\n    background: rgba(0, 0, 0, 0.015);\n}\n\n.edf--ghost {\n    background: transparent;\n    border-color: transparent;\n}\n\n.edf--ghost:hover {\n    background: rgba(0, 0, 0, 0.03);\n    box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.05);\n}\n</style>\n","<template>\n  <div class=\"fu-input-wrapper\" :style=\"{ width: formWrapperWidth }\">\n    <!-- Label -->\n    <label v-if=\"label\" class=\"fu-input-label\">\n      {{ label }}\n      <span v-if=\"required\" class=\"fu-input-required\">*</span>\n    </label>\n\n    <div class=\"fu-input-container\" :class=\"[`fu-input--${size}`, `fu-input--${variant}`, { 'fu-input--error': error }]\">\n      <!-- Left Slot (icon/avatar/etc.) -->\n      <div v-if=\"$slots.left\" class=\"fu-input-icon fu-input-icon--left\">\n        <slot name=\"left\" />\n      </div>\n\n      <!-- Input Field -->\n      <input\n        v-bind=\"$attrs\"\n        class=\"fu-input \"\n        :type=\"type\"\n        :placeholder=\"placeholder\"\n        :disabled=\"disabled\"\n        :required=\"required\"\n        :inputmode=\"type === 'number' ? 'numeric' : undefined\"\n        :pattern=\"type === 'number' ? '[0-9]*' : undefined\"\n        :min=\"type === 'number' ? min : undefined\"\n        :max=\"type === 'number' ? max : undefined\"\n        :step=\"type === 'number' ? step : undefined\"\n        v-model=\"innerValue\"\n      />\n\n      <!-- Right Slot (clear button, icon, etc.) -->\n      <div v-if=\"$slots.right\" class=\"fu-input-icon fu-input-icon--right\">\n        <slot name=\"right\" />\n      </div>\n    </div>\n\n    <!-- Error message -->\n    <span v-if=\"error\" class=\"fu-input-error\">{{ error }}</span>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, watch } from \"vue\";\n\ninterface Props {\n  modelValue?: string | number;\n  label?: string;\n  placeholder?: string;\n  type?: \"text\" | \"email\" | \"password\" | \"number\" | \"tel\" | \"url\" | \"search\" ;\n  size?: \"sm\" | \"md\" | \"lg\";\n  variant?: \"subtle\" | \"outline\" | \"plain\";\n  disabled?: boolean;\n  error?: string | null;\n  min?: number;\n  max?: number;\n  step?: number;\n  required?: boolean;\n  formWrapperWidth?: string;\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  modelValue: \"\",\n  label: \"\",\n  placeholder: \"\",\n  type: \"text\",\n  size: \"sm\",\n  variant: \"outline\",\n  disabled: false,\n  error: null,\n  min: undefined,\n  max: undefined,\n  step: undefined,\n  required: false,\n  formWrapperWidth: \"fit-content\",\n});\n\nconst emit = defineEmits<{\n  (e: \"update:modelValue\", value: string | number): void;\n}>();\n\nconst innerValue = ref(props.modelValue);\n\n// sync input â†’ parent\nwatch(innerValue, (val) => emit(\"update:modelValue\", val));\n\n// sync parent â†’ input\nwatch(\n  () => props.modelValue,\n  (val) => (innerValue.value = val)\n);\n</script>\n\n<style scoped lang=\"scss\">\n\n@import \"./FusionTextInput.scss\";\n\n\n</style>\n\n","<template>\n  <div class=\"fu-accordion\" :class=\"[`fu-accordion--${theme}`]\">\n    <div v-for=\"item in items\" :key=\"item.key\" class=\"fu-accordion__item\">\n      <button\n        class=\"fu-accordion__header\"\n        :class=\"{\n          'is-open': isOpen(item.key),\n          'is-disabled': item.disabled,\n        }\"\n        @click=\"toggle(item.key)\"\n        :disabled=\"item.disabled\"\n      >\n        <div class=\"fu-accordion__header-content\">\n          <component\n            v-if=\"item.icon\"\n            :is=\"item.icon\"\n            :size=\"16\"\n            class=\"fu-accordion__icon\"\n          />\n          <span>{{ item.title }}</span>\n        </div>\n\n        <svg\n          class=\"fu-accordion__chevron\"\n          :class=\"{ 'is-open': isOpen(item.key) }\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          width=\"16\"\n          height=\"16\"\n          fill=\"none\"\n          viewBox=\"0 0 24 24\"\n          stroke=\"currentColor\"\n        >\n          <path\n            stroke-linecap=\"round\"\n            stroke-linejoin=\"round\"\n            stroke-width=\"2\"\n            d=\"M6 9l6 6 6-6\"\n          />\n        </svg>\n      </button>\n\n      <div class=\"fu-accordion__body\" v-show=\"isOpen(item.key)\">\n        <slot :name=\"item.key\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref } from \"vue\";\n\nexport interface AccordionItem {\n  key: string;\n  title: string;\n  icon?: any;\n  disabled?: boolean;\n}\n\nconst props = defineProps<{\n  items: AccordionItem[];\n  defaultOpen?: string[];\n  type?: \"single\" | \"multiple\";\n  theme?: \"default\" | \"plain\";\n}>();\n\nconst openKeys = ref<string[]>(props.defaultOpen || []);\n\nfunction isOpen(key: string) {\n  return openKeys.value.includes(key);\n}\n\nfunction toggle(key: string) {\n  const currentlyOpen = isOpen(key);\n\n  if (props.type === \"single\") {\n    openKeys.value = currentlyOpen ? [] : [key];\n  } else {\n    if (currentlyOpen) {\n      openKeys.value = openKeys.value.filter((k) => k !== key);\n    } else {\n      openKeys.value.push(key);\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.fu-accordion {\n  display: flex;\n  flex-direction: column;\n  border: 1px solid var(--fu-border);\n  border-radius: var(--fu-btn-radius);\n  overflow: hidden;\n  transition: all 0.2s ease;\n\n  &__item + &__item {\n    border-top: 1px solid var(--fu-border);\n  }\n\n  &__header {\n    width: 100%;\n    text-align: left;\n    // padding: 0.75rem 1rem;\n    padding: 0px 0px 10px 0px;\n    background: transparent;\n    border: none;\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    color: var(--fu-color-text);\n    transition: all 0.2s ease;\n    font-size: 14px;\n    font-weight: 600;\n    &:hover:not(:disabled),\n    &.is-open {\n      background: var(--fu-color-surface-gray-2);\n      color: var(--fu-color-text);\n    }\n\n    &:disabled {\n      opacity: 0.6;\n      cursor: not-allowed;\n    }\n  }\n\n  &__header-content {\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n  }\n\n  &__icon {\n    margin-right: 0.25rem;\n  }\n\n  &__chevron {\n    transition: transform 0.2s ease;\n    &.is-open {\n      transform: rotate(180deg);\n    }\n  }\n\n  &__body {\n    // padding: 1rem;\n    background: var(--fu-color-surface-white);\n    border-top: 1px solid var(--fu-border);\n    color: var(--fu-color-text);\n    font-size: 0.95rem;\n    padding-bottom: 2rem;\n    padding: 0.2rem;\n  }\n\n  &--plain {\n    border: none;\n    border-radius: 0;\n    background: transparent;\n\n    .fu-accordion__item + .fu-accordion__item {\n      border-top: none;\n    }\n\n    .fu-accordion__header {\n      background: transparent;\n      border-radius: 0;\n      color: var(--fu-color-text);\n\n      &:hover:not(:disabled),\n      &.is-open {\n        background: transparent !important;\n        color: var(--fu-color-text);\n      }\n    }\n\n    .fu-accordion__body {\n      background: transparent;\n      border-top: none;\n      // padding: 0.75rem 1rem;\n    }\n  }\n}\n</style>\n","<template>\n  <div class=\"fu-status-dropdown\" ref=\"dropdownRef\">\n    <div v-if=\"label\" class=\"fu-status-dropdown__label-text\">\n      {{ label }}\n    </div>\n\n    <!-- BUTTON VARIANT -->\n    <div v-if=\"variant === 'button'\">\n      <button\n        class=\"fu-status-dropdown__button\"\n        :class=\"[`fu-input--${size}`, { 'fu-input--error': error }]\"\n        @click=\"toggleDropdown\"\n      >\n        <div v-if=\"multiple\">\n          <template v-if=\"selectedItems.length\">\n            <span v-for=\"item in selectedItems\" :key=\"item.value\" class=\"fu-tag\">\n              <component v-if=\"item.type === 'icon'\" :is=\"item.icon\" size=\"14\" />\n              <img\n                v-else-if=\"item.type === 'image'\"\n                :src=\"item.imageUrl\"\n                class=\"fu-option-image\"\n                alt=\"User Image\"\n              />\n              {{ item.label }}\n              <span class=\"fu-tag__remove\" @click.stop=\"removeItem(item)\">Ã—</span>\n            </span>\n          </template>\n          <span v-else class=\"fu-placeholder\">{{ placeholder }}</span>\n        </div>\n\n        <div v-else class=\"flex flex--center flex--gap-md\">\n          <component\n            v-if=\"selectedOption?.type === 'icon'\"\n            :is=\"selectedOption.icon\"\n            size=\"16\"\n          />\n          <img\n            v-else-if=\"selectedOption?.type === 'image'\"\n            :src=\"selectedOption.imageUrl\"\n            class=\"fu-option-image\"\n            alt=\"User Image\"\n          />\n          <span>{{ selectedOption?.label || placeholder }}</span>\n        </div>\n\n        <svg class=\"fu-status-dropdown__chevron\" viewBox=\"0 0 20 20\">\n          <path d=\"M6 8l4 4 4-4\" stroke=\"currentColor\" stroke-width=\"1.5\" />\n        </svg>\n      </button>\n    </div>\n\n    <!-- INPUT VARIANT -->\n    <div v-else class=\"fu-status-dropdown__input-trigger\">\n      <FusionTextInput\n        :size=\"size\"\n        readonly\n        variant=\"outline\"\n        :formWrapperWidth=\"formWrapperWidth\"\n        :placeholder=\"selectedOption?.label || placeholder\"\n        @focus=\"toggleDropdown\"\n        @click=\"toggleDropdown\"\n      />\n    </div>\n\n    <!-- DROPDOWN -->\n    <teleport to=\"body\">\n      <transition name=\"fade\">\n        <div\n          v-if=\"isOpen\"\n          class=\"fu-status-dropdown__menu\"\n          :style=\"dropdownStyle\"\n          ref=\"menuRef\"\n        >\n          <!-- SEARCH -->\n          <div v-if=\"searchable\" class=\"fu-search-wrapper\">\n            <FusionTextInput\n              ref=\"searchInputRef\"\n              v-model=\"searchQuery\"\n              type=\"text\"\n              :placeholder=\"searchPlaceholder\"\n              :size=\"size\"\n              formWrapperWidth=\"100%\"\n            >\n              <template #right>\n                <button class=\"fu-search-clear\" @click=\"searchQuery = ''\">Ã—</button>\n              </template>\n            </FusionTextInput>\n          </div>\n\n          <!-- OPTIONS -->\n          <div\n            v-if=\"filteredOptions.length\"\n            class=\"fu-options-scroll scrollbar__control customScrollBar\"\n          >\n            <div\n              v-for=\"item in filteredOptions\"\n              :key=\"item.value\"\n              class=\"fu-status-dropdown__item\"\n              @click=\"selectItem(item)\"\n            >\n              <component v-if=\"item.type === 'icon'\" :is=\"item.icon\" size=\"16\" />\n              <img\n                v-else-if=\"item.type === 'image'\"\n                :src=\"item.imageUrl\"\n                class=\"fu-option-image\"\n              />\n              <span>{{ item.label }}</span>\n            </div>\n\n            <div class=\"fu-status-dropdown__slot-actions\" ref=\"actionsRef\">\n              <slot name=\"actions\" />\n            </div>\n          </div>\n\n          <!-- EMPTY -->\n          <div v-else class=\"fu-status-dropdown__empty\">\n            {{ noResultsText }}\n          </div>\n        </div>\n      </transition>\n    </teleport>\n\n    <span v-if=\"error\" class=\"fu-input-error\">\n      {{ error }}\n    </span>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, watch, onMounted, onBeforeUnmount, nextTick } from \"vue\";\nimport FusionTextInput from \"@/components/TextInput/FusionTextInput.vue\";\n\ninterface Option {\n  label: string;\n  value: string | number;\n  type?: \"icon\" | \"image\";\n  icon?: any;\n  imageUrl?: string;\n}\n\ninterface Props {\n  options: Option[];\n  modelValue?: Option | Option[] | null;\n  multiple?: boolean;\n  placeholder?: string;\n  searchable?: boolean;\n  noResultsText?: string;\n  searchPlaceholder?: string;\n  label?: string;\n  variant?: \"button\" | \"input\";\n  size?: \"sm\" | \"md\" | \"lg\";\n  formWrapperWidth?: string;\n  error?: string | null;\n\n  async?: boolean;\n  minSearchLength?: number;\n  loading?: boolean;\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  modelValue: null,\n  multiple: false,\n  placeholder: \"Select...\",\n  searchable: true,\n  noResultsText: \"No results found\",\n  searchPlaceholder: \"Search...\",\n  label: \"\",\n  variant: \"button\",\n  size: \"md\",\n  formWrapperWidth: \"\",\n  error: null,\n\n  async: false,\n  minSearchLength: 2,\n  loading: false,\n});\n\nconst emit = defineEmits([\"update:modelValue\", \"search\"]);\n\nconst isOpen = ref(false);\nconst searchQuery = ref(\"\");\nconst dropdownRef = ref<HTMLElement | null>(null);\nconst menuRef = ref<HTMLElement | null>(null);\nconst actionsRef = ref<HTMLElement | null>(null);\nconst searchInputRef = ref<any>(null);\nconst dropdownStyle = ref<Record<string, string>>({});\n\nconst selectedOption = ref<Option | null>(null);\nconst selectedItems = ref<Option[]>([]);\n\nconst isAsync = computed(() => props.async === true);\n\n// sync model\nwatch(\n  () => props.modelValue,\n  (val) => {\n    if (props.multiple && Array.isArray(val)) selectedItems.value = val;\n    else selectedOption.value = val as Option | null;\n  },\n  { immediate: true }\n);\n\n// async search\nwatch(searchQuery, (query) => {\n  if (!isAsync.value) return;\n  if (query.length < props.minSearchLength) return;\n  emit(\"search\", query);\n});\n\n// filtering\nconst filteredOptions = computed(() => {\n  if (isAsync.value) return props.options;\n  if (!searchQuery.value) return props.options;\n  return props.options.filter((o) =>\n    o.label.toLowerCase().includes(searchQuery.value.toLowerCase())\n  );\n});\n\nfunction toggleDropdown() {\n  isOpen.value = !isOpen.value;\n\n  if (isOpen.value) {\n    nextTick(() => {\n      const trigger = dropdownRef.value?.querySelector(\"button, input\") as HTMLElement;\n      if (!trigger || !menuRef.value) return;\n\n      const rect = trigger.getBoundingClientRect();\n      dropdownStyle.value = {\n        position: \"absolute\",\n        top: `${rect.bottom + window.scrollY}px`,\n        left: `${rect.left + window.scrollX}px`,\n        width: `${rect.width}px`,\n        zIndex: \"9999\",\n      };\n\n      // ðŸ”¥ AUTO FOCUS SEARCH INPUT\n      if (props.searchable) {\n        nextTick(() => {\n          const inputEl =\n            searchInputRef.value?.$el?.querySelector(\"input\") ||\n            menuRef.value?.querySelector(\"input\");\n\n          inputEl?.focus();\n          inputEl?.select();\n        });\n      }\n    });\n  }\n}\n\nfunction selectItem(item: Option) {\n  if (props.multiple) {\n    const exists = selectedItems.value.find((i) => i.value === item.value);\n    selectedItems.value = exists\n      ? selectedItems.value.filter((i) => i.value !== item.value)\n      : [...selectedItems.value, item];\n    emit(\"update:modelValue\", selectedItems.value);\n  } else {\n    selectedOption.value = item;\n    emit(\"update:modelValue\", item);\n    isOpen.value = false;\n  }\n}\n\nfunction removeItem(item: Option) {\n  selectedItems.value = selectedItems.value.filter((i) => i.value !== item.value);\n  emit(\"update:modelValue\", selectedItems.value);\n}\n\nfunction closeDropdown(e: MouseEvent) {\n  if (\n    dropdownRef.value?.contains(e.target as Node) ||\n    menuRef.value?.contains(e.target as Node)\n  )\n    return;\n  isOpen.value = false;\n}\n\nonMounted(() => document.addEventListener(\"click\", closeDropdown));\nonBeforeUnmount(() => document.removeEventListener(\"click\", closeDropdown));\n</script>\n\n<style scoped lang=\"scss\">\n.fu-status-dropdown {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n  height: auto;\n  width: 100%;\n\n  &__label-text {\n    font-size: 0.8rem;\n    font-weight: 500;\n    color: var(--fu-color-text-muted);\n    margin-bottom: 4px;\n    display: block;\n  }\n\n  &__button {\n    width: 100%;\n    height: 100%;\n\n    display: inline-flex;\n    align-items: center;\n    justify-content: space-between;\n\n    background: var(--fu-form-control);\n    border: 0.5px solid var(--fu-border);\n    border-radius: var(--fu-radius);\n\n    color: var(--fu-color-text);\n    cursor: pointer;\n\n    padding: 0.5rem 0.5rem;\n\n    &:hover {\n      background-color: var(--fu-color-surface-gray-3);\n    }\n  }\n\n  &__chevron {\n    width: 16px;\n    height: 16px;\n    margin-left: auto;\n    color: var(--fu-color-text);\n  }\n\n  &__menu {\n    margin-top: 0.5em;\n    background-color: var(--fu-surface-background);\n    border: 0.5px solid var(--fu-border);\n    border-radius: var(--fu-radius, 6px);\n    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);\n    padding: 4px 0;\n    min-width: fit-content;\n    overflow: hidden;\n    animation: fadeIn 0.15s ease-out;\n  }\n\n  &__empty {\n    padding: 0.6rem 0.75rem;\n    text-align: center;\n    color: var(--fu-color-text-light, #777);\n    font-size: 13px;\n  }\n}\n\n.fu-status-dropdown__item {\n  font-size: 14px;\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  padding: 0.4rem 0.6rem;\n  cursor: pointer;\n  border-radius: var(--fu-radius, 6px);\n  margin: 0.25rem;\n  color: var(--fu-color-text, #222);\n  transition: background 0.15s ease;\n\n  .fu-option-image {\n    width: 20px;\n    height: 20px;\n    border-radius: 50%;\n    object-fit: cover;\n    flex-shrink: 0;\n  }\n\n  &:hover {\n    background-color: var(--fu-surface-alt);\n  }\n}\n\n.fu-search-wrapper {\n  position: relative;\n  padding: 4px 6px;\n  display: flex;\n  align-items: center;\n  border-bottom: 0.5px solid var(--fu-border);\n}\n\n.fu-search-clear {\n  background: transparent;\n  border: none;\n  color: var(--fu-color-text);\n  font-size: 16px;\n  cursor: pointer;\n  padding: 2px 4px;\n}\n\n.fu-tag {\n  display: inline-flex;\n  align-items: center;\n  background: var(--fu-color-surface-gray-2);\n  border-radius: var(--fu-radius);\n  padding: 2px 6px;\n  font-size: 13px;\n  margin-right: 4px;\n\n  .fu-tag__remove {\n    margin-left: 4px;\n    cursor: pointer;\n  }\n}\n\n.fu-placeholder {\n  color: var(--fu-color-text-light);\n}\n\n.fade-enter-active,\n.fade-leave-active {\n  transition: opacity 0.2s ease;\n}\n\n.fade-enter-from,\n.fade-leave-to {\n  opacity: 0;\n}\n\n.fu-option-image {\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  object-fit: cover;\n  flex-shrink: 0;\n}\n\n.fu-options-scroll {\n  max-height: 220px;\n  overflow-y: auto;\n  overflow-x: hidden;\n  -webkit-overflow-scrolling: touch;\n  padding: 2px 0;\n}\n\n.fu-status-dropdown__slot-actions {\n  border-top: 1px solid var(--fu-border);\n  margin-top: 4px;\n  padding-top: 4px;\n\n  ::v-slotted(*) {\n    display: flex;\n    align-items: center;\n    gap: 6px;\n    font-size: 14px;\n    cursor: pointer;\n    border-radius: var(--fu-radius, 6px);\n    padding: 0.4rem 0.6rem;\n    margin: 0.25rem;\n    color: var(--fu-color-text, #222);\n    transition: background 0.15s ease;\n\n    &:hover {\n      background-color: var(--fu-surface-alt);\n    }\n  }\n}\n\n.fu-input--sm {\n  height: 28px;\n}\n\n.fu-input--md {\n  height: 34px;\n}\n\n.fu-input--lg {\n  height: 40px;\n}\n\n.fu-input-error {\n  font-size: 12px;\n  color: var(--fu-color-danger, #dc2626);\n  margin-top: 2px;\n}\n</style>\n","\nexport enum UserStatus {\n  Offline = 0,\n  Active = 1,\n  Away = 2,\n  Busy = 3,\n  DoNotDisturb = 4,\n  Invisible = 5,\n}\n","<template>\n  <div\n    class=\"fu-avatar\"\n    :class=\"[`fu-avatar--${size}`, { 'fu-avatar--editable': editable }]\"\n  >\n    <div class=\"fu-avatar__wrapper\" @click=\"onAvatarClick\">\n      <img v-if=\"src\" :src=\"src\" :alt=\"alt\" class=\"fu-avatar__image\" />\n      <span v-else class=\"fu-avatar__placeholder\">{{ initials }}</span>\n\n      <!-- Edit overlay -->\n      <span v-if=\"editable\" class=\"fu-avatar__edit-overlay\"> Edit </span>\n\n      <!-- Remove button (only if image exists) -->\n      <button\n        v-if=\"editable && src && allowRemove\"\n        class=\"fu-avatar__remove\"\n        @click.stop=\"removeImage\"\n        aria-label=\"Remove photo\"\n      >\n        Ã—\n      </button>\n\n      <!-- Status Dot -->\n      <span\n        v-if=\"showStatus && status !== undefined\"\n        class=\"fu-status-dot\"\n        :class=\"statusClass\"\n      ></span>\n\n      <!-- Hidden file input -->\n      <input\n        ref=\"fileInput\"\n        type=\"file\"\n        accept=\"image/*\"\n        class=\"fu-avatar__file-input\"\n        @change=\"onFileChange\"\n      />\n    </div>\n\n    <!-- <span v-if=\"name\" class=\"fu-avatar__name\">{{ name }}</span> -->\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, ref } from \"vue\";\nimport { UserStatus } from \"./UserStatus\";\n\nconst props = withDefaults(\n  defineProps<{\n    src?: string;\n    alt?: string;\n    name?: string;\n    size?: \"xs\" | \"sm\" | \"md\" | \"lg\" | \"xl\" | \"2xl\" | \"3xl\";\n    status?: UserStatus | number;\n    showStatus?: boolean;\n    editable?: boolean;\n    allowRemove?: boolean;\n  }>(),\n  {\n    size: \"md\",\n    showStatus: true,\n    editable: false,\n    allowRemove: true,\n  }\n);\n\nconst emit = defineEmits<{\n  (e: \"update:src\", value: string): void;\n  (e: \"remove\"): void;\n}>();\n\nconst fileInput = ref<HTMLInputElement | null>(null);\n\n// Initials\nconst initials = computed(() =>\n  props.name\n    ? props.name\n        .split(\" \")\n        .map((n) => n[0])\n        .join(\"\")\n        .slice(0, 2)\n        .toUpperCase()\n    : \"\"\n);\n\n// Avatar click handler\nconst onAvatarClick = () => {\n  if (!props.editable) return;\n  fileInput.value?.click();\n};\n\n// Handle upload\nconst onFileChange = (e: Event) => {\n  const file = (e.target as HTMLInputElement)?.files?.[0];\n  if (!file) return;\n\n  const reader = new FileReader();\n  reader.onload = () => {\n    emit(\"update:src\", reader.result as string);\n  };\n  reader.readAsDataURL(file);\n};\n\n// Remove image\nconst removeImage = () => {\n  emit(\"remove\");\n};\n\n// Status class\nconst statusClass = computed(() => {\n  switch (props.status) {\n    case UserStatus.Active:\n    case 1:\n      return \"fu-status-dot--active\";\n    case UserStatus.Away:\n    case 2:\n      return \"fu-status-dot--away\";\n    case UserStatus.Busy:\n    case 3:\n      return \"fu-status-dot--busy\";\n    case UserStatus.DoNotDisturb:\n    case 4:\n      return \"fu-status-dot--dnd\";\n    case UserStatus.Invisible:\n    case 5:\n      return \"fu-status-dot--invisible\";\n    default:\n      return \"fu-status-dot--offline\";\n  }\n});\n</script>\n\n<style scoped lang=\"scss\">\n.fu-avatar {\n  display: inline-flex;\n  align-items: center;\n  gap: 0.5rem;\n  cursor: pointer;\n\n  &__wrapper {\n    position: relative;\n    display: inline-block;\n  }\n\n  &__image,\n  &__placeholder {\n    border-radius: 50%;\n    object-fit: cover;\n    display: inline-block;\n  }\n\n  &__placeholder {\n    background: #e5e7eb;\n    color: var(--fu-color-text);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-weight: 600;\n    text-transform: uppercase;\n  }\n\n  &__name {\n    font-weight: inherit;\n    color: var(--fu-color-text);\n  }\n\n  .fu-status-dot {\n    position: absolute;\n    bottom: 2px;\n    right: 2px;\n    width: 7px;\n    height: 7px;\n    border: 2px solid #fff;\n    border-radius: 50%;\n  }\n\n  .fu-status-dot--active {\n    background-color: #22c55e;\n  }\n  .fu-status-dot--away {\n    background-color: #facc15;\n  }\n  .fu-status-dot--busy {\n    background-color: #ef4444;\n  }\n  .fu-status-dot--dnd {\n    background-color: #7c3aed;\n  }\n  .fu-status-dot--invisible {\n    background-color: #6b7280;\n  }\n  .fu-status-dot--offline {\n    background-color: #9ca3af;\n  }\n\n  /* Sizes */\n  &--xs .fu-avatar__image,\n  &--xs .fu-avatar__placeholder {\n    width: 20px;\n    height: 20px;\n    font-size: 0.625rem;\n  }\n\n  &--sm .fu-avatar__image,\n  &--sm .fu-avatar__placeholder {\n    width: 28px;\n    height: 28px;\n    font-size: 0.75rem;\n  }\n\n  &--md .fu-avatar__image,\n  &--md .fu-avatar__placeholder {\n    width: 36px;\n    height: 36px;\n    font-size: 0.875rem;\n  }\n\n  &--lg .fu-avatar__image,\n  &--lg .fu-avatar__placeholder {\n    width: 48px;\n    height: 48px;\n    font-size: 1rem;\n  }\n\n  &--xl .fu-avatar__image,\n  &--xl .fu-avatar__placeholder {\n    width: 64px;\n    height: 64px;\n    font-size: 1.125rem;\n  }\n\n  &--2xl .fu-avatar__image,\n  &--2xl .fu-avatar__placeholder {\n    width: 80px;\n    height: 80px;\n    font-size: 1.25rem;\n  }\n\n  &--3xl .fu-avatar__image,\n  &--3xl .fu-avatar__placeholder {\n    width: 96px;\n    height: 96px;\n    font-size: 1.5rem;\n  }\n}\n\n.fu-avatar__file-input {\n  display: none;\n}\n\n.fu-avatar--editable .fu-avatar__wrapper {\n  cursor: pointer;\n}\n\n.fu-avatar__edit-overlay {\n  position: absolute;\n  inset: 0;\n  border-radius: 50%;\n  background: rgba(0, 0, 0, 0.45);\n  color: #fff;\n  font-size: 0.75rem;\n  font-weight: 600;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  opacity: 0;\n  transition: opacity 0.2s ease;\n}\n\n.fu-avatar--editable .fu-avatar__wrapper:hover .fu-avatar__edit-overlay {\n  opacity: 1;\n}\n\n.fu-avatar__remove {\n  position: absolute;\n  top: -4px;\n  right: -4px;\n  width: 18px;\n  height: 18px;\n  border-radius: 50%;\n  border: none;\n  background: #111827;\n  color: #fff;\n  font-size: 14px;\n  line-height: 1;\n  cursor: pointer;\n}\n</style>\n","<template>\n  <div class=\"fu-avatar-group\" @click=\"$emit('click')\">\n    <template v-for=\"(user, index) in visibleAvatars\" :key=\"user.id || index\">\n      <FuAvatar :src=\"user.src\" :name=\"user.name\" :alt=\"user.alt\" :size=\"size\" />\n    </template>\n\n    <div\n      v-if=\"hiddenCount > 0\"\n      class=\"fu-avatar fu-avatar--more\"\n      :class=\"`fu-avatar--${size}`\"\n    >\n      +{{ hiddenCount }}\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport FuAvatar from \"./FuAvatar.vue\";\n\ninterface User {\n  id?: string | number;\n  src: string;\n  alt?: string;\n  name?: string;\n}\n\nconst props = defineProps<{\n  users: User[];\n  max?: number;\n  size?: \"xs\" | \"sm\" | \"md\" | \"lg\" | \"xl\" | \"2xl\" | \"3xl\";\n}>();\n\ndefineEmits<{\n  (e: \"click\"): void;\n}>();\n\nconst max = props.max ?? 3;\nconst visibleAvatars = props.users.slice(0, max);\nconst hiddenCount = props.users.length - max;\n</script>\n\n<style lang=\"scss\" scoped>\n.fu-avatar-group {\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n\n  .fu-avatar {\n    margin-left: -0.5rem;\n\n    &:first-child {\n      margin-left: 0;\n    }\n  }\n\n  .fu-avatar--more {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    border-radius: 50%;\n    background: var(--fu-color-text);\n    color: #fff;\n    font-weight: 600;\n    border: 2px solid #fff;\n\n    &.fu-avatar--xs {\n      width: 20px;\n      height: 20px;\n      font-size: 0.625rem;\n    }\n    &.fu-avatar--sm {\n      width: 28px;\n      height: 28px;\n      font-size: 0.75rem;\n    }\n    &.fu-avatar--md {\n      width: 36px;\n      height: 36px;\n      font-size: 0.75rem;\n    }\n    &.fu-avatar--lg {\n      width: 48px;\n      height: 48px;\n      font-size: 0.875rem;\n    }\n    &.fu-avatar--xl {\n      width: 64px;\n      height: 64px;\n      font-size: 1rem;\n    }\n    &.fu-avatar--2xl {\n      width: 80px;\n      height: 80px;\n      font-size: 1.125rem;\n    }\n    &.fu-avatar--3xl {\n      width: 96px;\n      height: 96px;\n      font-size: 1.25rem;\n    }\n  }\n}\n</style>\n","<template>\n  <span\n    class=\"fu-badge\"\n    :class=\"[\n      `fu-badge--${variant}`,\n      `fu-badge--${size}`,\n      themeClass\n    ]\"\n  >\n    <slot>{{ text }}</slot>\n  </span>\n</template>\n\n<script setup lang=\"ts\">\ninterface Props {\n  text?: string;\n  size?: \"sm\" | \"md\" | \"lg\";\n  variant?: \"solid\" | \"subtle\" | \"outline\" | \"ghost\";\n  /** \n   * Theme color class e.g. \n   * \"fu-badge--success\" | \"fu-badge--warning\" | \"fu-badge--published\"\n   */\n  themeClass?: string;\n}\n\nwithDefaults(defineProps<Props>(), {\n  text: \"Badge\",\n  size: \"md\",\n  variant: \"solid\",\n  themeClass: \"\",\n});\n</script>\n\n<style scoped lang=\"scss\">\n@import \"./FusionBadge.scss\";\n</style>\n","<template>\n  <div class=\"fu-btn-wrapper\" :class=\"{ 'has-tooltip': tooltip }\" :style=\"buttonWidth ? { width: buttonWidth } : {}\">\n\n    <component :is=\"link ? 'a' : 'button'\" class=\"fu-btn\" :class=\"[\n      `fu-btn--${variant}`,\n      `fu-btn--${size}`,\n      { 'is-loading': loading }\n    ]\" :href=\"link || undefined\" :target=\"link ? target : undefined\"\n      :rel=\"link && target === '_blank' ? 'noopener noreferrer' : undefined\" :disabled=\"!link && (disabled || loading)\"\n      @click=\"!link && !loading ? $emit('click', $event) : null\"\n      :style=\"buttonWidth ? { width: buttonWidth } : {}\">\n\n      <!-- Spinner -->\n      <span v-if=\"loading\" class=\"fu-spinner\"></span>\n\n      <!-- Icon -->\n      <component v-if=\"icon\" :is=\"icon\" class=\"fu-btn-icon\" :size=\"16\" />\n\n      <!-- Content -->\n      <span v-if=\"loading\">\n        {{ loadingText || \"Loading...\" }}\n      </span>\n      <span v-else>\n        <slot>{{ text }}</slot>\n      </span>\n    </component>\n\n    <!-- Tooltip -->\n    <span v-if=\"tooltip\" class=\"fu-tooltip\">\n      {{ tooltip }}\n    </span>\n\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport type { Component } from \"vue\";\n\ninterface Props {\n  text?: string;\n  disabled?: boolean;\n  size?: \"sm\" | \"md\" | \"lg\";\n  variant?: \"solid\" | \"subtle\" | \"outline\" | \"ghost\" | \"danger\";\n  tooltip?: string | null;\n  loading?: boolean;\n  loadingText?: string | null;\n  link?: string | null;\n  icon?: Component | null;\n  target?: \"_parent\" | \"_blank\";\n  buttonWidth?: string | null;\n}\n\nwithDefaults(defineProps<Props>(), {\n  text: \"Click Me\",\n  disabled: false,\n  size: \"sm\",\n  variant: \"solid\",\n  tooltip: null,\n  loading: false,\n  loadingText: null,\n  link: null,\n  icon: null,\n  target: \"_parent\",\n\n  // NEW DEFAULT\n  buttonWidth: \"\",\n});\n\ndefineEmits<{\n  (e: \"click\", ev: MouseEvent): void;\n}>();\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"./FusionButton.scss\";\n</style>\n","<template>\n  <div\n    class=\"fu-stat-card\"\n    :class=\"[`variant-${variant}`, bordered ? 'bordered' : '', shadow ? 'shadow' : '']\"\n  >\n    <!-- VARIANT 1: Icon Left -->\n    <template v-if=\"variant === 'icon-left'\">\n      <div class=\"icon-box\" v-if=\"icon\">\n        <component :is=\"icon\" class=\"fu-icon\" />\n      </div>\n      <div class=\"content\">\n        <div class=\"value\">{{ value }}</div>\n        <div class=\"subtitle\">{{ title }}</div>\n        <div v-if=\"subtitle\" class=\"caption\">{{ subtitle }}</div>\n      </div>\n    </template>\n\n    <!-- VARIANT 2: Title Top -->\n    <template v-else>\n      <div class=\"title\">{{ title }}</div>\n      <div class=\"value\">{{ value }}</div>\n      <div v-if=\"subtitle\" class=\"caption\">{{ subtitle }}</div>\n    </template>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport type { FunctionalComponent } from \"vue\"\n\nexport interface FusionStatCardProps {\n  variant?: \"icon-left\" | \"title-top\"\n  title: string\n  value?: string | number\n  subtitle?: string\n  icon?: FunctionalComponent | object | string | null\n  bordered?: boolean\n  shadow?: boolean\n}\n\nconst props = withDefaults(defineProps<FusionStatCardProps>(), {\n  variant: \"icon-left\",\n  value: \"\",\n  subtitle: \"\",\n  icon: null,\n  bordered: true,\n  shadow: false,\n})\n</script>\n\n<style scoped>\n.fu-stat-card {\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  gap: 12px;\n  background-color: var(--fu-surface-background);\n  padding: 16px 20px;\n  border-radius: var(--fu-rounded-lg);\n  transition: all 0.2s ease;\n  font-family: var(--fu-font-family, \"Inter\", sans-serif);\n  color:var(--fu-color-text);\n  width: 100%;\n  height: 100%;\n  max-width: 100%;\n  min-height: 120px;\n  box-sizing: border-box;\n}\n\n\n\n\n\n\n/* Variants */\n.variant-icon-left {\n  flex-direction: row;\n}\n\n.variant-title-top {\n  flex-direction: column;\n  align-items: flex-start;\n}\n\n\n.bordered {\n  border: 1px solid var(--fu-border)\n}\n\n.shadow {\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.05);\n}\n\n/* Icon box */\n.icon-box {\n  width: 40px;\n  height: 40px;\n  border-radius: 8px;\n  background: #f3f4f6;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-shrink: 0;\n}\n\n.fu-icon {\n  width: 18px;\n  height: 18px;\n  color: var(--fu-color-text);\n}\n\n\n.content {\n  display: flex;\n  flex-direction: column;\n  gap: 2px;\n  flex: 1;\n  min-width: 0;\n}\n\n.value {\n  font-weight: 600;\n  font-size: 1.1rem;\n  line-height: 1.2;\ncolor:var(--fu-color-text);\n  word-break: break-word;\n}\n\n.subtitle {\n  font-size: 14px;\n  color:gray;\n  line-height: 1.3;\n}\n\n.caption {\n  font-size: 13px;\n  color: var(--fu-color-text);\n  line-height: 1.3;\n}\n\n/* For title-top variant */\n.variant-title-top .title {\n  font-size: 15px;\n color: var(--fu-color-text);\n  font-weight: 400;\n}\n\n.variant-title-top .value {\n  font-size: 20px;\n  font-weight: 600;\n  color: var(--fu-color-text);\n  margin-top: 4px;\n}\n\n</style>\n","<template>\n    <label class=\"fu-checkbox\" :class=\"[`fu-checkbox--${size}`, { 'fu-checkbox--disabled': disabled }]\" :for=\"id\">\n        <input type=\"checkbox\" class=\"fu-checkbox__input\" :id=\"id\" :checked=\"modelValue\" :disabled=\"disabled\"\n            @change=\"$emit('update:modelValue', ($event.target as HTMLInputElement).checked)\" />\n        <span class=\"fu-checkbox__box\"></span>\n        <span v-if=\"label\" class=\"fu-checkbox__label\">{{ label }}</span>\n    </label>\n</template>\n\n<script setup lang=\"ts\">\nconst props = withDefaults(defineProps<{\n    modelValue?: boolean;\n    label?: string;\n    id?: string;\n    size?: \"sm\" | \"md\";\n    disabled?: boolean;\n}>(), {\n    size: \"md\",\n    modelValue: false,\n});\n\ndefineEmits<{\n    (e: \"update:modelValue\", value: boolean): void;\n}>();\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"Fucheckbox.scss\";\n</style>\n","<template>\n    <div class=\"fu-input-wrapper\" :style=\"{ width: formWrapperWidth }\">\n        <!-- Label -->\n        <label v-if=\"label\" class=\"fu-input-label\">\n            {{ label }}\n            <span v-if=\"required\" class=\"fu-input-required\">*</span>\n        </label>\n\n        <div class=\"fu-code-container\" :class=\"[\n            `fu-input--${size}`,\n            `fu-input--${variant}`,\n            { 'fu-input--error': error }\n        ]\">\n            <input\n                v-for=\"(digit, index) in codeDigits\"\n                :key=\"index\"\n                :ref=\"el => (inputs[index] = el as HTMLInputElement)\"\n                type=\"text\"\n                maxlength=\"1\"\n                inputmode=\"numeric\"\n                pattern=\"[0-9]*\"\n                class=\"fu-code-box fu-input-container\"\n                v-model=\"codeDigits[index]\"\n                @input=\"onInput(index, $event)\"\n                @keydown.backspace=\"onBackspace(index)\"\n                @paste=\"onPaste\"\n                :disabled=\"disabled\"\n            />\n        </div>\n\n        <!-- Error message -->\n        <span v-if=\"error\" class=\"fu-input-error\">{{ error }}</span>\n    </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, watch, nextTick } from \"vue\";\n\ninterface Props {\n    modelValue?: string;\n    label?: string;\n    length?: number;\n    size?: \"sm\" | \"md\" | \"lg\";\n    variant?: \"outline\" | \"subtle\" | \"plain\";\n    disabled?: boolean;\n    error?: string | null;\n    required?: boolean;\n    formWrapperWidth?: string;\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n    modelValue: \"\",\n    label: \"\",\n    length: 6,\n    size: \"md\",\n    variant: \"outline\",\n    disabled: false,\n    error: null,\n    required: false,\n    formWrapperWidth: \"fit-content\",\n});\n\nconst emit = defineEmits<{\n    (e: \"update:modelValue\", value: string): void;\n}>();\n\n// Internal digits\nconst codeDigits = ref<string[]>(Array(props.length).fill(\"\"));\n\n// Track input DOM nodes\nconst inputs = ref<HTMLInputElement[]>([]);\n\n/* -----------------------------\n   SYNC: parent â†’ component\n-------------------------------- */\nwatch(\n    () => props.modelValue,\n    (val) => {\n        if (!val) {\n            codeDigits.value = Array(props.length).fill(\"\");\n            return;\n        }\n\n        const arr = val.split(\"\").slice(0, props.length);\n\n        while (arr.length < props.length) arr.push(\"\");\n\n        codeDigits.value = arr;\n    },\n    { immediate: true }\n);\n\n/* -----------------------------\n   SYNC: component â†’ parent\n-------------------------------- */\nwatch(\n    codeDigits,\n    () => {\n        emit(\"update:modelValue\", codeDigits.value.join(\"\"));\n    },\n    { deep: true }\n);\n\n/* -----------------------------\n   Input Handling\n-------------------------------- */\nfunction onInput(index: number, e: Event) {\n    const el = e.target as HTMLInputElement;\n    const value = el.value.replace(/\\D/g, \"\");\n\n    codeDigits.value[index] = value;\n\n    if (value && index < props.length - 1) {\n        nextTick(() => inputs.value[index + 1]?.focus());\n    }\n}\n\nfunction onBackspace(index: number) {\n    if (!codeDigits.value[index] && index > 0) {\n        nextTick(() => inputs.value[index - 1]?.focus());\n    }\n}\n\n/* -----------------------------\n   Pasting full OTP\n-------------------------------- */\nfunction onPaste(e: ClipboardEvent) {\n    e.preventDefault();\n\n    const pasted = e.clipboardData?.getData(\"text\") || \"\";\n    const digits = pasted.replace(/\\D/g, \"\").slice(0, props.length).split(\"\");\n\n    if (digits.length === 0) return;\n\n    // Fill digits into boxes\n    digits.forEach((d, i) => {\n        codeDigits.value[i] = d;\n    });\n\n    // Clear remaining boxes\n    for (let i = digits.length; i < props.length; i++) {\n        codeDigits.value[i] = \"\";\n    }\n\n    nextTick(() => {\n        const lastIndex = Math.min(digits.length - 1, props.length - 1);\n        inputs.value[lastIndex]?.focus();\n    });\n}\n</script>\n\n<style scoped lang=\"scss\">\n@import \"../textInput/FusionTextInput.scss\";\n\n/* Base Layout */\n.fu-code-container {\n    display: flex;\n    gap: 0.5rem;\n    justify-content: space-between;\n}\n\n/* Input boxes */\n.fu-code-box {\n    text-align: center;\n    border-radius: var(--fu-radius, 8px);\n    border: 0.5px solid var(--fu-border, #ddd);\n    color: var(--fu-color-text, #111);\n    outline: none;\n    transition: all 0.2s ease;\n    font-weight: 600;\n    background: var(--fu-form-control);\n\n    &:disabled {\n        background: var(--fu-color-surface-gray-2, #f3f3f3);\n        cursor: not-allowed;\n    }\n}\n\n/* Sizes */\n.fu-input--sm .fu-code-box {\n    width: 32px;\n    height: 36px;\n    font-size: 13px;\n}\n\n.fu-input--md .fu-code-box {\n    width: 40px;\n    height: 45px;\n    font-size: 15px;\n}\n\n.fu-input--lg .fu-code-box {\n    width: 48px;\n    height: 55px;\n    font-size: 17px;\n}\n\n/* Variants */\n.fu-input--outline .fu-code-box {\n    background: var(--fu-form-control);\n    border: 0.5px solid var(--fu-border, #ccc);\n}\n\n.fu-input--subtle .fu-code-box {\n    background: var(--fu-color-surface-gray-1, #fafafa);\n    border: 0.5px solid var(--fu-color-surface-gray-3, #ddd);\n}\n\n.fu-input--plain .fu-code-box {\n    background: transparent;\n    border: none;\n    border-bottom: 1px solid var(--fu-border, #ccc);\n    border-radius: 0;\n}\n\n/* Error */\n.fu-input--error .fu-code-box {\n    border-color: var(--fu-color-danger, #dc2626);\n}\n\n.fu-input-error {\n    font-size: 12px;\n    color: var(--fu-color-danger, #dc2626);\n    margin-top: 0.5rem;\n}\n</style>\n","<template>\n  <!-- Trigger (Circle Swatch) -->\n  <div\n    ref=\"triggerRef\"\n    class=\"fu-color-trigger\"\n    :style=\"{ backgroundColor: hexString }\"\n    role=\"button\"\n    tabindex=\"0\"\n    @click=\"togglePopover\"\n    @keydown.enter.prevent=\"togglePopover\"\n    @keydown.space.prevent=\"togglePopover\"\n  />\n\n  <!-- Teleported popover -->\n  <Teleport to=\"body\">\n    <div\n      v-if=\"open\"\n      class=\"fu-color-popover\"\n      :style=\"popoverStyle\"\n    >\n      <div\n        class=\"fu-saturation\"\n        :style=\"paletteStyle\"\n        @pointerdown=\"onPalettePointer\"\n        @pointermove=\"e => e.buttons === 1 && onPalettePointer(e)\"\n      >\n        <div\n          class=\"fu-cursor\"\n          :style=\"{ left: sat + '%', top: (100 - val) + '%' }\"\n        />\n      </div>\n\n      <div class=\"fu-controls\">\n        <div\n          class=\"fu-preview\"\n          :style=\"{ backgroundColor: hexString }\"\n        />\n\n        <div class=\"fu-sliders\">\n          <input\n            type=\"range\"\n            min=\"0\"\n            max=\"360\"\n            v-model=\"hue\"\n            class=\"fu-hue\"\n          />\n        </div>\n      </div>\n\n      <input\n        class=\"fu-output\"\n        :value=\"outputInput\"\n        @input=\"onOutputInput\"\n        @blur=\"onOutputBlur\"\n        @keydown=\"onOutputKeydown\"\n        placeholder=\"#RRGGBB or rgb(...)\"\n      />\n    </div>\n  </Teleport>\n</template>\n\n<script setup lang=\"ts\">\nimport {\n  ref,\n  computed,\n  watch,\n  nextTick,\n  onMounted,\n  onBeforeUnmount\n} from 'vue'\n\n/* ===============================\n   TYPES\n=============================== */\ntype PopoverStyle = {\n  top: string\n  left: string\n  transformOrigin?: string\n}\n\n/* ===============================\n   PROPS / EMITS\n=============================== */\nconst props = defineProps<{\n  modelValue?: string\n}>()\n\nconst emit = defineEmits<{\n  (e: 'update:modelValue', value: string): void\n}>()\n\n/* ===============================\n   FORMAT STATE\n=============================== */\ntype ColorFormat = 'hex' | 'rgb'\nconst format = ref<ColorFormat>('hex')\n\n/* ===============================\n   POPOVER STATE\n=============================== */\nconst open = ref(false)\nconst triggerRef = ref<HTMLElement | null>(null)\n\nconst popoverStyle = ref<PopoverStyle>({\n  top: '0px',\n  left: '0px',\n})\n\nfunction togglePopover() {\n  open.value = !open.value\n  if (open.value) nextTick(positionPopover)\n}\n\nfunction positionPopover() {\n  if (!triggerRef.value) return\n\n  const trigger = triggerRef.value.getBoundingClientRect()\n  const popoverWidth = 260\n  const popoverHeight = 320\n  const padding = 8\n\n  let top = trigger.bottom + 6\n  let left = trigger.left\n  let origin = 'top left'\n\n  /* ---------- Horizontal ---------- */\n  if (left + popoverWidth > window.innerWidth - padding) {\n    left = trigger.right - popoverWidth\n    origin = 'top right'\n  }\n\n  left = Math.max(padding, left)\n\n  /* ---------- Vertical ---------- */\n  if (top + popoverHeight > window.innerHeight - padding) {\n    top = trigger.top - popoverHeight - 6\n    origin = origin.includes('right') ? 'bottom right' : 'bottom left'\n  }\n\n  top = Math.max(padding, top)\n\n  popoverStyle.value = {\n    top: `${top + window.scrollY}px`,\n    left: `${left + window.scrollX}px`,\n    transformOrigin: origin,\n  }\n}\n\nfunction onDocumentClick(e: MouseEvent) {\n  if (!open.value) return\n  const t = e.target as Node\n\n  if (\n    triggerRef.value?.contains(t) ||\n    (t as HTMLElement).closest('.fu-color-popover')\n  ) return\n\n  open.value = false\n}\n\nonMounted(() => {\n  window.addEventListener('mousedown', onDocumentClick)\n  window.addEventListener('resize', positionPopover)\n})\n\nonBeforeUnmount(() => {\n  window.removeEventListener('mousedown', onDocumentClick)\n  window.removeEventListener('resize', positionPopover)\n})\n\n/* ===============================\n   HSV STATE\n=============================== */\nconst hue = ref(0)\nconst sat = ref(100)\nconst val = ref(100)\n\nconst outputInput = ref('')\nconst isTyping = ref(false)\n\n/* ===============================\n   COLOR MATH\n=============================== */\nfunction hsvToRgb(h: number, s: number, v: number) {\n  s /= 100; v /= 100\n  const c = v * s\n  const x = c * (1 - Math.abs(((h / 60) % 2) - 1))\n  const m = v - c\n\n  let r = 0, g = 0, b = 0\n  if (h < 60) [r, g, b] = [c, x, 0]\n  else if (h < 120) [r, g, b] = [x, c, 0]\n  else if (h < 180) [r, g, b] = [0, c, x]\n  else if (h < 240) [r, g, b] = [0, x, c]\n  else if (h < 300) [r, g, b] = [x, 0, c]\n  else [r, g, b] = [c, 0, x]\n\n  return {\n    r: Math.round((r + m) * 255),\n    g: Math.round((g + m) * 255),\n    b: Math.round((b + m) * 255)\n  }\n}\n\nfunction rgbToHsv(r: number, g: number, b: number) {\n  r /= 255; g /= 255; b /= 255\n  const max = Math.max(r, g, b)\n  const min = Math.min(r, g, b)\n  const d = max - min\n\n  let h = 0\n  if (d) {\n    if (max === r) h = ((g - b) / d) % 6\n    else if (max === g) h = (b - r) / d + 2\n    else h = (r - g) / d + 4\n    h *= 60\n    if (h < 0) h += 360\n  }\n\n  return {\n    h: Math.round(h),\n    s: Math.round((max === 0 ? 0 : d / max) * 100),\n    v: Math.round(max * 100)\n  }\n}\n\nfunction rgbToHex(r: number, g: number, b: number) {\n  return '#' + [r, g, b]\n    .map(v => v.toString(16).padStart(2, '0'))\n    .join('')\n    .toUpperCase()\n}\n\nfunction rgbToString(r: number, g: number, b: number) {\n  return `rgb(${r}, ${g}, ${b})`\n}\n\n/* ===============================\n   COMPUTED\n=============================== */\nconst rgb = computed(() => hsvToRgb(hue.value, sat.value, val.value))\nconst hexString = computed(() =>\n  rgbToHex(rgb.value.r, rgb.value.g, rgb.value.b)\n)\n\nconst paletteStyle = computed(() => ({\n  background: `\n    linear-gradient(to top, black, transparent),\n    linear-gradient(to right, white, hsl(${hue.value}, 100%, 50%))\n  `\n}))\n\nfunction emitColor() {\n  const { r, g, b } = rgb.value\n  emit(\n    'update:modelValue',\n    format.value === 'rgb'\n      ? rgbToString(r, g, b)\n      : hexString.value\n  )\n}\n\n/* ===============================\n   INPUT\n=============================== */\nfunction applyInput(value: string) {\n  const v = value.trim().replace(/;$/, '')\n  let parsed: { r: number; g: number; b: number } | null = null\n\n  if (/^#([0-9a-f]{6})$/i.test(v)) {\n    format.value = 'hex'\n    parsed = {\n      r: parseInt(v.slice(1, 3), 16),\n      g: parseInt(v.slice(3, 5), 16),\n      b: parseInt(v.slice(5, 7), 16)\n    }\n  }\n\n  const m = v.match(\n    /^rgba?\\((\\d{1,3}),\\s*(\\d{1,3}),\\s*(\\d{1,3})/\n  )\n\n  if (m) {\n    format.value = 'rgb'\n    parsed = {\n      r: +m[1],\n      g: +m[2],\n      b: +m[3]\n    }\n  }\n\n  if (!parsed) return\n\n  const hsv = rgbToHsv(parsed.r, parsed.g, parsed.b)\n  hue.value = hsv.h\n  sat.value = hsv.s\n  val.value = hsv.v\n\n  emitColor()\n}\n\nfunction onOutputInput(e: Event) {\n  isTyping.value = true\n  outputInput.value = (e.target as HTMLInputElement).value\n}\n\nfunction onOutputBlur() {\n  isTyping.value = false\n  applyInput(outputInput.value)\n}\n\nfunction onOutputKeydown(e: KeyboardEvent) {\n  if (e.key === 'Enter') onOutputBlur()\n}\n\n/* ===============================\n   PALETTE\n=============================== */\nfunction onPalettePointer(e: PointerEvent) {\n  format.value = 'hex'\n\n  const el = e.currentTarget as HTMLElement\n  const r = el.getBoundingClientRect()\n  const x = Math.min(Math.max(0, e.clientX - r.left), r.width)\n  const y = Math.min(Math.max(0, e.clientY - r.top), r.height)\n\n  sat.value = Math.round((x / r.width) * 100)\n  val.value = Math.round(100 - (y / r.height) * 100)\n\n  emitColor()\n}\n\nonMounted(() => {\n  if (props.modelValue) {\n    outputInput.value = props.modelValue\n    applyInput(props.modelValue)\n  }\n})\n\n\nwatch(() => props.modelValue, v => {\n  if (!v) return\n  outputInput.value = v\n  applyInput(v)\n})\n</script>\n\n<style scoped>\n/* (styles unchanged from yours â€” safe to keep) */\n</style>\n\n\n<style scoped>\n.fu-color-trigger {\n  width: 30px;\n  height: 30px;\n  border-radius: 50%;\n  cursor: pointer;\n\n  border: 2px solid #fff;\n  box-shadow:\n    0 0 0 1px #ccc,\n    0 2px 6px rgba(0, 0, 0, 0.15);\n\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n\n  transition:\n    transform 0.15s ease,\n    box-shadow 0.15s ease;\n}\n\n.fu-color-trigger:hover {\n  transform: scale(1.05);\n}\n\n.fu-color-trigger:focus-visible {\n  outline: none;\n  box-shadow:\n    0 0 0 2px var(--fu-color-primary, #3b82f6),\n    0 2px 6px rgba(0, 0, 0, 0.2);\n}\n\n/* ===== Popover ===== */\n.fu-color-popover {\n  position: absolute;\n  z-index: 1000;\n  width: 260px;\n  background: #fff;\n  padding: 10px;\n  border-radius: 8px;\n  box-shadow: 0 10px 30px rgba(0,0,0,.15);\n}\n\n/* ===== Saturation ===== */\n.fu-saturation {\n  position: relative;\n  height: 160px;\n  border-radius: 6px;\n  cursor: crosshair;\n}\n\n.fu-cursor {\n  position: absolute;\n  width: 12px;\n  height: 12px;\n  border: 2px solid #fff;\n  border-radius: 50%;\n  box-shadow: 0 0 0 2px #000;\n  transform: translate(-50%, -50%);\n}\n\n/* ===== Controls ===== */\n.fu-controls {\n  display: flex;\n  gap: 10px;\n  margin-top: 10px;\n}\n\n.fu-preview {\n  width: 36px;\n  height: 36px;\n  border-radius: 50%;\n  border: 1px solid #ccc;\n}\n\n.fu-sliders {\n  flex: 1;\n}\n\n.fu-hue {\n  width: 100%;\n  appearance: none;\n  height: 10px;\n  border-radius: 5px;\n  background: linear-gradient(\n    to right,\n    red,\n    yellow,\n    lime,\n    cyan,\n    blue,\n    magenta,\n    red\n  );\n}\n\n/* ===== Output ===== */\n.fu-output {\n  margin-top: 10px;\n  width: 100%;\n  padding: 8px 2px;\n  border-radius: 4px;\n  border: 1px solid #ddd;\n  font-size: 13px;\n}\n\n.fu-color-popover {\n  animation: pop-in 0.12s ease-out;\n}\n\n@keyframes pop-in {\n  from {\n    transform: scale(0.96);\n    opacity: 0;\n  }\n  to {\n    transform: scale(1);\n    opacity: 1;\n  }\n}\n\n</style>\n","<template>\n    <div class=\"fu-combobox\" :class=\"{ 'fu-combobox--disabled': disabled }\" ref=\"comboboxRef\">\n        <!-- Control -->\n        <div class=\"fu-combobox__control\">\n            <input type=\"text\" :value=\"isOpen ? searchQuery : selectedOption?.label || ''\" :placeholder=\"placeholder\"\n                class=\"fu-combobox__input\" :disabled=\"disabled\" @input=\"onInput\"\n                @focus=\"!disabled && (isOpen = true)\" />\n            <span class=\"fu-combobox__icon\" @click.stop=\"toggleOpen\">\n                <ChevronDown :size=\"18\" :stroke-width=\"1\" />\n            </span>\n        </div>\n\n        <!-- Dropdown -->\n        <div v-if=\"isOpen && !disabled\" class=\"fu-combobox__dropdown scrollbar__control customScrollBar\">\n            <template v-if=\"groupedOptions.length > 0\">\n                <div v-for=\"group in groupedOptions\" :key=\"group.title\" class=\"fu-combobox__group\">\n                    <div class=\"fu-combobox__group-title\">{{ group.title }}</div>\n\n                    <div v-for=\"option in group.items\" :key=\"option.value\" class=\"fu-combobox__option\" :class=\"{\n                        'fu-combobox__option--selected':\n                            option.value === selectedOption?.value,\n                    }\" @click=\"selectOption(option)\">\n                        <!-- Left -->\n                        <div class=\"fu-combobox__option-left\">\n                            <slot name=\"option\" :option=\"option\">\n                                <component v-if=\"option.icon\" :is=\"option.icon\" class=\"fu-combobox__option-icon\" />\n                                <span>{{ option.label }}</span>\n                            </slot>\n                        </div>\n\n                        <!-- Right -->\n                        <div class=\"fu-combobox__option-right\">\n                            <Check v-if=\"option.value === selectedOption?.value\" class=\"fu-combobox__check\" />\n                        </div>\n                    </div>\n                </div>\n            </template>\n            <div v-else class=\"fu-combobox__empty\">No results found</div>\n        </div>\n    </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, watch, onMounted, onBeforeUnmount } from \"vue\";\nimport { ChevronDown, Check } from \"lucide-vue-next\";\n\nexport interface ComboboxOption {\n    label: string;\n    value: string | number;\n    icon?: any;\n    group?: string;\n}\n\nconst props = defineProps<{\n    options: ComboboxOption[];\n    modelValue?: string | number | null;\n    placeholder?: string;\n    disabled?: boolean;\n}>();\n\nconst emit = defineEmits<{\n    (e: \"update:modelValue\", value: string | number | null): void;\n}>();\n\nconst isOpen = ref(false);\nconst searchQuery = ref(\"\");\nconst selectedOption = ref<ComboboxOption | null>(null);\nconst comboboxRef = ref<HTMLElement | null>(null);\n\n// Group + filter options\nconst groupedOptions = computed(() => {\n    // If there is no search â†’ show all options\n    if (!searchQuery.value) {\n        return buildGroups(props.options);\n    }\n\n    // If the search text === selected option label â†’ show all options but keep highlight\n    if (\n        selectedOption.value &&\n        searchQuery.value.toLowerCase() ===\n        selectedOption.value.label.toLowerCase()\n    ) {\n        return buildGroups(props.options);\n    }\n\n    // Otherwise â†’ filter\n    const filtered = props.options.filter((opt) =>\n        opt.label.toLowerCase().includes(searchQuery.value.toLowerCase())\n    );\n    return buildGroups(filtered);\n});\n\n// Helper for grouping\nfunction buildGroups(list: ComboboxOption[]) {\n    const groups: Record<string, ComboboxOption[]> = {};\n    list.forEach((opt) => {\n        const group = opt.group || \"Options\";\n        if (!groups[group]) groups[group] = [];\n        groups[group].push(opt);\n    });\n    return Object.entries(groups).map(([title, items]) => ({ title, items }));\n}\n\n// Sync selected option with modelValue\nwatch(\n    () => props.modelValue,\n    (val) => {\n        selectedOption.value =\n            props.options.find((opt) => opt.value === val) || null;\n\n        // Always sync searchQuery with selected label when closed\n        if (!isOpen.value && selectedOption.value) {\n            searchQuery.value = selectedOption.value.label;\n        }\n    },\n    { immediate: true }\n);\n\nfunction onInput(e: Event) {\n    searchQuery.value = (e.target as HTMLInputElement).value;\n}\n\nfunction selectOption(option: ComboboxOption) {\n    selectedOption.value = option;\n    searchQuery.value = option.label;\n    emit(\"update:modelValue\", option.value);\n    isOpen.value = false;\n}\n\nfunction toggleOpen() {\n    isOpen.value = !isOpen.value;\n}\n\nfunction handleClickOutside(e: MouseEvent) {\n    if (comboboxRef.value && !comboboxRef.value.contains(e.target as Node)) {\n        isOpen.value = false;\n\n        if (selectedOption.value) {\n            searchQuery.value = selectedOption.value.label;\n        }\n    }\n}\n\nonMounted(() => {\n    document.addEventListener(\"click\", handleClickOutside);\n});\n\nonBeforeUnmount(() => {\n    document.removeEventListener(\"click\", handleClickOutside);\n});\n</script>\n\n\n<style lang=\"scss\" scoped>\n@import \"FuCombobox.scss\";\n</style>\n","!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).dayjs=e()}(this,(function(){\"use strict\";var t=1e3,e=6e4,n=36e5,r=\"millisecond\",i=\"second\",s=\"minute\",u=\"hour\",a=\"day\",o=\"week\",c=\"month\",f=\"quarter\",h=\"year\",d=\"date\",l=\"Invalid Date\",$=/^(\\d{4})[-/]?(\\d{1,2})?[-/]?(\\d{0,2})[Tt\\s]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?[.:]?(\\d+)?$/,y=/\\[([^\\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M={name:\"en\",weekdays:\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),months:\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\"),ordinal:function(t){var e=[\"th\",\"st\",\"nd\",\"rd\"],n=t%100;return\"[\"+t+(e[(n-20)%10]||e[n]||e[0])+\"]\"}},m=function(t,e,n){var r=String(t);return!r||r.length>=e?t:\"\"+Array(e+1-r.length).join(n)+t},v={s:m,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?\"+\":\"-\")+m(r,2,\"0\")+\":\"+m(i,2,\"0\")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,c),s=n-i<0,u=e.clone().add(r+(s?-1:1),c);return+(-(r+(n-i)/(s?i-u:u-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:c,y:h,w:o,d:a,D:d,h:u,m:s,s:i,ms:r,Q:f}[t]||String(t||\"\").toLowerCase().replace(/s$/,\"\")},u:function(t){return void 0===t}},g=\"en\",D={};D[g]=M;var p=\"$isDayjsObject\",S=function(t){return t instanceof _||!(!t||!t[p])},w=function t(e,n,r){var i;if(!e)return g;if(\"string\"==typeof e){var s=e.toLowerCase();D[s]&&(i=s),n&&(D[s]=n,i=s);var u=e.split(\"-\");if(!i&&u.length>1)return t(u[0])}else{var a=e.name;D[a]=e,i=a}return!r&&i&&(g=i),i||!r&&g},O=function(t,e){if(S(t))return t.clone();var n=\"object\"==typeof e?e:{};return n.date=t,n.args=arguments,new _(n)},b=v;b.l=w,b.i=S,b.w=function(t,e){return O(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var _=function(){function M(t){this.$L=w(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[p]=!0}var m=M.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(b.u(e))return new Date;if(e instanceof Date)return new Date(e);if(\"string\"==typeof e&&!/Z$/i.test(e)){var r=e.match($);if(r){var i=r[2]-1||0,s=(r[7]||\"0\").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(e)}(t),this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return b},m.isValid=function(){return!(this.$d.toString()===l)},m.isSame=function(t,e){var n=O(t);return this.startOf(e)<=n&&n<=this.endOf(e)},m.isAfter=function(t,e){return O(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<O(t)},m.$g=function(t,e,n){return b.u(t)?this[e]:this.set(n,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var n=this,r=!!b.u(e)||e,f=b.p(t),l=function(t,e){var i=b.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?i:i.endOf(a)},$=function(t,e){return b.w(n.toDate()[t].apply(n.toDate(\"s\"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},y=this.$W,M=this.$M,m=this.$D,v=\"set\"+(this.$u?\"UTC\":\"\");switch(f){case h:return r?l(1,0):l(31,11);case c:return r?l(1,M):l(0,M+1);case o:var g=this.$locale().weekStart||0,D=(y<g?y+7:y)-g;return l(r?m-D:m+(6-D),M);case a:case d:return $(v+\"Hours\",0);case u:return $(v+\"Minutes\",1);case s:return $(v+\"Seconds\",2);case i:return $(v+\"Milliseconds\",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var n,o=b.p(t),f=\"set\"+(this.$u?\"UTC\":\"\"),l=(n={},n[a]=f+\"Date\",n[d]=f+\"Date\",n[c]=f+\"Month\",n[h]=f+\"FullYear\",n[u]=f+\"Hours\",n[s]=f+\"Minutes\",n[i]=f+\"Seconds\",n[r]=f+\"Milliseconds\",n)[o],$=o===a?this.$D+(e-this.$W):e;if(o===c||o===h){var y=this.clone().set(d,1);y.$d[l]($),y.init(),this.$d=y.set(d,Math.min(this.$D,y.daysInMonth())).$d}else l&&this.$d[l]($);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[b.p(t)]()},m.add=function(r,f){var d,l=this;r=Number(r);var $=b.p(f),y=function(t){var e=O(l);return b.w(e.date(e.date()+Math.round(t*r)),l)};if($===c)return this.set(c,this.$M+r);if($===h)return this.set(h,this.$y+r);if($===a)return y(1);if($===o)return y(7);var M=(d={},d[s]=e,d[u]=n,d[i]=t,d)[$]||1,m=this.$d.getTime()+r*M;return b.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||l;var r=t||\"YYYY-MM-DDTHH:mm:ssZ\",i=b.z(this),s=this.$H,u=this.$m,a=this.$M,o=n.weekdays,c=n.months,f=n.meridiem,h=function(t,n,i,s){return t&&(t[n]||t(e,r))||i[n].slice(0,s)},d=function(t){return b.s(s%12||12,t,\"0\")},$=f||function(t,e,n){var r=t<12?\"AM\":\"PM\";return n?r.toLowerCase():r};return r.replace(y,(function(t,r){return r||function(t){switch(t){case\"YY\":return String(e.$y).slice(-2);case\"YYYY\":return b.s(e.$y,4,\"0\");case\"M\":return a+1;case\"MM\":return b.s(a+1,2,\"0\");case\"MMM\":return h(n.monthsShort,a,c,3);case\"MMMM\":return h(c,a);case\"D\":return e.$D;case\"DD\":return b.s(e.$D,2,\"0\");case\"d\":return String(e.$W);case\"dd\":return h(n.weekdaysMin,e.$W,o,2);case\"ddd\":return h(n.weekdaysShort,e.$W,o,3);case\"dddd\":return o[e.$W];case\"H\":return String(s);case\"HH\":return b.s(s,2,\"0\");case\"h\":return d(1);case\"hh\":return d(2);case\"a\":return $(s,u,!0);case\"A\":return $(s,u,!1);case\"m\":return String(u);case\"mm\":return b.s(u,2,\"0\");case\"s\":return String(e.$s);case\"ss\":return b.s(e.$s,2,\"0\");case\"SSS\":return b.s(e.$ms,3,\"0\");case\"Z\":return i}return null}(t)||i.replace(\":\",\"\")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(r,d,l){var $,y=this,M=b.p(d),m=O(r),v=(m.utcOffset()-this.utcOffset())*e,g=this-m,D=function(){return b.m(y,m)};switch(M){case h:$=D()/12;break;case c:$=D();break;case f:$=D()/3;break;case o:$=(g-v)/6048e5;break;case a:$=(g-v)/864e5;break;case u:$=g/n;break;case s:$=g/e;break;case i:$=g/t;break;default:$=g}return l?$:b.a($)},m.daysInMonth=function(){return this.endOf(c).$D},m.$locale=function(){return D[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=w(t,e,!0);return r&&(n.$L=r),n},m.clone=function(){return b.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},M}(),k=_.prototype;return O.prototype=k,[[\"$ms\",r],[\"$s\",i],[\"$m\",s],[\"$H\",u],[\"$W\",a],[\"$M\",c],[\"$y\",h],[\"$D\",d]].forEach((function(t){k[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),O.extend=function(t,e){return t.$i||(t(e,_,O),t.$i=!0),O},O.locale=w,O.isDayjs=S,O.unix=function(t){return O(1e3*t)},O.en=D[g],O.Ls=D,O.p={},O}));","!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):(e=\"undefined\"!=typeof globalThis?globalThis:e||self).dayjs_plugin_customParseFormat=t()}(this,(function(){\"use strict\";var e={LTS:\"h:mm:ss A\",LT:\"h:mm A\",L:\"MM/DD/YYYY\",LL:\"MMMM D, YYYY\",LLL:\"MMMM D, YYYY h:mm A\",LLLL:\"dddd, MMMM D, YYYY h:mm A\"},t=/(\\[[^[]*\\])|([-_:/.,()\\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,n=/\\d/,r=/\\d\\d/,i=/\\d\\d?/,o=/\\d*[^-_:/,()\\s\\d]+/,s={},a=function(e){return(e=+e)+(e>68?1900:2e3)};var f=function(e){return function(t){this[e]=+t}},h=[/[+-]\\d\\d:?(\\d\\d)?|Z/,function(e){(this.zone||(this.zone={})).offset=function(e){if(!e)return 0;if(\"Z\"===e)return 0;var t=e.match(/([+-]|\\d\\d)/g),n=60*t[1]+(+t[2]||0);return 0===n?0:\"+\"===t[0]?-n:n}(e)}],u=function(e){var t=s[e];return t&&(t.indexOf?t:t.s.concat(t.f))},d=function(e,t){var n,r=s.meridiem;if(r){for(var i=1;i<=24;i+=1)if(e.indexOf(r(i,0,t))>-1){n=i>12;break}}else n=e===(t?\"pm\":\"PM\");return n},c={A:[o,function(e){this.afternoon=d(e,!1)}],a:[o,function(e){this.afternoon=d(e,!0)}],Q:[n,function(e){this.month=3*(e-1)+1}],S:[n,function(e){this.milliseconds=100*+e}],SS:[r,function(e){this.milliseconds=10*+e}],SSS:[/\\d{3}/,function(e){this.milliseconds=+e}],s:[i,f(\"seconds\")],ss:[i,f(\"seconds\")],m:[i,f(\"minutes\")],mm:[i,f(\"minutes\")],H:[i,f(\"hours\")],h:[i,f(\"hours\")],HH:[i,f(\"hours\")],hh:[i,f(\"hours\")],D:[i,f(\"day\")],DD:[r,f(\"day\")],Do:[o,function(e){var t=s.ordinal,n=e.match(/\\d+/);if(this.day=n[0],t)for(var r=1;r<=31;r+=1)t(r).replace(/\\[|\\]/g,\"\")===e&&(this.day=r)}],w:[i,f(\"week\")],ww:[r,f(\"week\")],M:[i,f(\"month\")],MM:[r,f(\"month\")],MMM:[o,function(e){var t=u(\"months\"),n=(u(\"monthsShort\")||t.map((function(e){return e.slice(0,3)}))).indexOf(e)+1;if(n<1)throw new Error;this.month=n%12||n}],MMMM:[o,function(e){var t=u(\"months\").indexOf(e)+1;if(t<1)throw new Error;this.month=t%12||t}],Y:[/[+-]?\\d+/,f(\"year\")],YY:[r,function(e){this.year=a(e)}],YYYY:[/\\d{4}/,f(\"year\")],Z:h,ZZ:h};function l(n){var r,i;r=n,i=s&&s.formats;for(var o=(n=r.replace(/(\\[[^\\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,n,r){var o=r&&r.toUpperCase();return n||i[r]||e[r]||i[o].replace(/(\\[[^\\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}))).match(t),a=o.length,f=0;f<a;f+=1){var h=o[f],u=c[h],d=u&&u[0],l=u&&u[1];o[f]=l?{regex:d,parser:l}:h.replace(/^\\[|\\]$/g,\"\")}return function(e){for(var t={},n=0,r=0;n<a;n+=1){var i=o[n];if(\"string\"==typeof i)r+=i.length;else{var s=i.regex,f=i.parser,h=e.slice(r),u=s.exec(h)[0];f.call(t,u),e=e.replace(u,\"\")}}return function(e){var t=e.afternoon;if(void 0!==t){var n=e.hours;t?n<12&&(e.hours+=12):12===n&&(e.hours=0),delete e.afternoon}}(t),t}}return function(e,t,n){n.p.customParseFormat=!0,e&&e.parseTwoDigitYear&&(a=e.parseTwoDigitYear);var r=t.prototype,i=r.parse;r.parse=function(e){var t=e.date,r=e.utc,o=e.args;this.$u=r;var a=o[1];if(\"string\"==typeof a){var f=!0===o[2],h=!0===o[3],u=f||h,d=o[2];h&&(d=o[2]),s=this.$locale(),!f&&d&&(s=n.Ls[d]),this.$d=function(e,t,n,r){try{if([\"x\",\"X\"].indexOf(t)>-1)return new Date((\"X\"===t?1e3:1)*e);var i=l(t)(e),o=i.year,s=i.month,a=i.day,f=i.hours,h=i.minutes,u=i.seconds,d=i.milliseconds,c=i.zone,m=i.week,M=new Date,Y=a||(o||s?1:M.getDate()),p=o||M.getFullYear(),v=0;o&&!s||(v=s>0?s-1:M.getMonth());var D,w=f||0,g=h||0,y=u||0,L=d||0;return c?new Date(Date.UTC(p,v,Y,w,g,y,L+60*c.offset*1e3)):n?new Date(Date.UTC(p,v,Y,w,g,y,L)):(D=new Date(p,v,Y,w,g,y,L),m&&(D=r(D).week(m).toDate()),D)}catch(e){return new Date(\"\")}}(t,a,r,n),this.init(),d&&!0!==d&&(this.$L=this.locale(d).$L),u&&t!=this.format(a)&&(this.$d=new Date(\"\")),s={}}else if(a instanceof Array)for(var c=a.length,m=1;m<=c;m+=1){o[1]=a[m-1];var M=n.apply(this,o);if(M.isValid()){this.$d=M.$d,this.$L=M.$L,this.init();break}m===c&&(this.$d=new Date(\"\"))}else i.call(this,e)}}}));","<template>\n  <div\n    :class=\"['fu-date-picker', variantClass]\"\n    ref=\"pickerRef\"\n    :style=\"{ width: formWrapperWidth }\"\n  >\n    <FusionTextInput\n      v-if=\"variant !== 'date-range'\"\n      type=\"text\"\n      :modelValue=\"displayValue\"\n      placeholder=\"Select date\"\n      readonly\n      @click=\"toggleCalendar\"\n      :formWrapperWidth=\"formWrapperWidth\"\n      :size=\"size\"\n      :error=\"error\"\n      :required=\"required\"\n      :label=\"label\"\n      :disabled=\"disabled\"\n    >\n      <template #right>\n        <ChevronDown />\n      </template>\n    </FusionTextInput>\n\n    <FusionTextInput\n      v-else\n      type=\"text\"\n      :modelValue=\"displayRange\"\n      placeholder=\"Select date range\"\n      @click=\"toggleCalendar\"\n      readonly\n      :formWrapperWidth=\"formWrapperWidth\"\n      :size=\"size\"\n      :error=\"error\"\n      :required=\"required\"\n      :disabled=\"disabled\"\n    >\n      <template #right>\n        <ChevronDown />\n      </template>\n    </FusionTextInput>\n\n    <teleport to=\"body\">\n      <div\n        v-if=\"calendarOpen\"\n        class=\"fu-date-picker__calendar-overlay\"\n        @click.self=\"closeCalendar\"\n      >\n        <div\n          class=\"fu-date-picker__calendar\"\n          :style=\"calendarPosition\"\n          ref=\"calendarRef\"\n          @click.stop\n        >\n          <!-- Header -->\n          <div class=\"calendar-header\">\n            <FusionButton\n              variant=\"ghost\"\n              size=\"sm\"\n              :icon=\"ChevronDown\"\n              @click=\"toggleView\"\n            >\n              <template v-if=\"viewMode === 'days'\">\n                {{ currentMonth.format(\"MMMM YYYY\") }}\n              </template>\n              <template v-else-if=\"viewMode === 'months'\">\n                {{ currentMonth.year() }}\n              </template>\n              <template v-else> {{ yearRangeStart }} - {{ yearRangeEnd }} </template>\n            </FusionButton>\n\n            <div class=\"flex flex--gap-sm\">\n              <FusionActionButton :icon=\"ChevronLeft\" size=\"sm\" @click=\"prevAction\" />\n              <FusionActionButton :icon=\"ChevronRight\" size=\"sm\" @click=\"nextAction\" />\n            </div>\n          </div>\n\n          <!-- Days -->\n          <div v-if=\"viewMode === 'days'\">\n            <div class=\"calendar-weekdays\">\n              <div v-for=\"d in weekdays\" :key=\"d\" class=\"calendar-weekday\">{{ d }}</div>\n            </div>\n\n            <div class=\"calendar-days\">\n              <div\n                v-for=\"day in daysInCalendar\"\n                :key=\"day.date.toString()\"\n                class=\"calendar-day\"\n                :class=\"{\n                  'calendar-day--other-month': !day.isCurrentMonth,\n                  'calendar-day--selected': isSelected(day.date),\n                  'calendar-day--in-range': isInRange(day.date),\n                  'calendar-day--disabled': isDisabled(day.date),\n                }\"\n                @click=\"selectDate(day.date)\"\n              >\n                {{ day.date.date() }}\n              </div>\n            </div>\n          </div>\n\n          <!-- Months -->\n          <div v-else-if=\"viewMode === 'months'\" class=\"calendar-months\">\n            <div\n              v-for=\"(m, i) in months\"\n              :key=\"m\"\n              class=\"calendar-month\"\n              :class=\"{ 'calendar-month--selected': i === currentMonth.month() }\"\n              @click=\"selectMonth(i)\"\n            >\n              {{ m }}\n            </div>\n          </div>\n\n          <!-- Years -->\n          <div v-else class=\"calendar-years\">\n            <div\n              v-for=\"year in yearsRange\"\n              :key=\"year\"\n              class=\"calendar-year\"\n              :class=\"{ 'calendar-year--selected': year === currentMonth.year() }\"\n              @click=\"selectYear(year)\"\n            >\n              {{ year }}\n            </div>\n          </div>\n\n          <hr />\n\n          <!-- Quick actions -->\n          <div class=\"flex flex--space flex--gap-md px-2 pb-2\">\n            <div class=\"flex flex--gap-sm\" v-if=\"variant !== 'date-range'\">\n              <FusionButton variant=\"outline\" @click=\"selectToday\">Today</FusionButton>\n              <FusionButton variant=\"outline\" @click=\"selectTomorrow\"\n                >Tomorrow</FusionButton\n              >\n            </div>\n            <div v-if=\"variant === 'date-range'\">\n              <FusionButton variant=\"outline\" @click=\"applyRange\">Apply</FusionButton>\n            </div>\n            <FusionButton variant=\"outline\" @click=\"clearSelection\">Clear</FusionButton>\n          </div>\n\n          <!-- Time -->\n          <div v-if=\"variant === 'date-time'\" class=\"calendar-time\">\n            <div class=\"fu-time-input-wrapper\">\n              <!-- <input\n                type=\"text\"\n                class=\"fu-time-input\"\n                v-model=\"timeValue\"\n                placeholder=\"HH:mm or 4:30pm\"\n                @focus=\"timeOpen = true\"\n                @keydown.enter.prevent=\"applyTypedTime\"\n                @blur=\"onTimeBlur\"\n              /> -->\n              <FusionTextInput\n                type=\"text\"\n                v-model=\"timeValue\"\n                placeholder=\"HH:mm or 4:30pm\"\n                @focus=\"timeOpen = true\"\n                @keydown.enter.prevent=\"applyTypedTime\"\n                @blur=\"onTimeBlur\"\n                formWrapperWidth=\"100%\"\n              >\n                <template #right>\n                  <ChevronDown />\n                </template>\n              </FusionTextInput>\n\n              <div v-if=\"timeOpen\" class=\"fu-time-dropdown customScrollBar\">\n                <div\n                  v-for=\"opt in filteredTimeOptions\"\n                  :key=\"opt\"\n                  class=\"fu-time-option\"\n                  @mousedown.prevent=\"selectTime(opt)\"\n                >\n                  {{ opt }}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </teleport>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, watch, nextTick, onBeforeUnmount } from \"vue\";\nimport dayjs from \"dayjs\";\nimport customParseFormat from \"dayjs/plugin/customParseFormat\";\nimport FusionButton from \"@/components/button/FusionButton.vue\";\nimport FusionActionButton from \"@/components/actionButton/FusionActionButton.vue\";\nimport { ChevronLeft, ChevronRight, ChevronDown } from \"lucide-vue-next\";\nimport FusionTextInput from \"@/components/TextInput/FusionTextInput.vue\";\n\ndayjs.extend(customParseFormat);\n\nconst props = defineProps({\n  modelValue: [String, Object],\n  variant: {\n    type: String,\n    default: \"date\",\n    validator: (v) => [\"date\", \"date-time\", \"date-range\"].includes(v),\n  },\n  min: String,\n  max: String,\n\n  // New props\n  formWrapperWidth: String,\n  size: {\n    type: String,\n    default: \"md\",\n    validator: (v) => [\"sm\", \"md\", \"lg\"].includes(v),\n  },\n  error: {\n    type: [String, null],\n    default: null,\n  },\n\n  label: {\n    type: String,\n    default: null,\n  },\n  required: {\n    type: Boolean,\n    default: false,\n  },\n  disabled: {\n    type: Boolean,\n    default: false,\n  },\n});\n\nconst timeOpen = ref(false);\nconst emit = defineEmits([\"update:modelValue\"]);\n\nconst calendarOpen = ref(false);\nconst activeInput = ref(null);\nconst pickerRef = ref(null);\nconst calendarRef = ref(null);\nconst currentMonth = ref(dayjs().startOf(\"month\"));\n\nconst selectedDate = ref(null);\nconst selectedRange = ref({ start: null, end: null });\nconst timeValue = ref(\"00:00\");\n\nconst weekdays = [\"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\"];\nconst months = [\n  \"Jan\",\n  \"Feb\",\n  \"Mar\",\n  \"Apr\",\n  \"May\",\n  \"Jun\",\n  \"Jul\",\n  \"Aug\",\n  \"Sep\",\n  \"Oct\",\n  \"Nov\",\n  \"Dec\",\n];\nconst viewMode = ref(\"days\");\n\nconst yearsPerPage = 12;\nconst yearRangeStart = computed(\n  () => Math.floor(currentMonth.value.year() / yearsPerPage) * yearsPerPage\n);\nconst yearRangeEnd = computed(() => yearRangeStart.value + yearsPerPage - 1);\nconst yearsRange = computed(() =>\n  Array.from({ length: yearsPerPage }, (_, i) => yearRangeStart.value + i)\n);\n\nconst daysInCalendar = computed(() => {\n  const start = currentMonth.value.startOf(\"month\").startOf(\"week\");\n  const end = currentMonth.value.endOf(\"month\").endOf(\"week\");\n  const days = [];\n  let d = start.clone();\n  while (d.isBefore(end) || d.isSame(end, \"day\")) {\n    days.push({\n      date: d.clone(),\n      isCurrentMonth: d.month() === currentMonth.value.month(),\n    });\n    d = d.add(1, \"day\");\n  }\n  return days;\n});\n\nfunction isDisabled(date) {\n  if (props.min && date.isBefore(dayjs(props.min), \"day\")) return true;\n  if (props.max && date.isAfter(dayjs(props.max), \"day\")) return true;\n  return false;\n}\n\nfunction isSelected(date) {\n  if (props.variant === \"date-range\") {\n    return (\n      (selectedRange.value.start && date.isSame(selectedRange.value.start, \"day\")) ||\n      (selectedRange.value.end && date.isSame(selectedRange.value.end, \"day\"))\n    );\n  }\n  return selectedDate.value && date.isSame(selectedDate.value, \"day\");\n}\n\nfunction isInRange(date) {\n  return (\n    props.variant === \"date-range\" &&\n    selectedRange.value.start &&\n    selectedRange.value.end &&\n    date.isAfter(selectedRange.value.start, \"day\") &&\n    date.isBefore(selectedRange.value.end, \"day\")\n  );\n}\n\nfunction selectDate(date) {\n  if (isDisabled(date)) return;\n\n  if (props.variant === \"date-range\") {\n    if (!selectedRange.value.start || activeInput.value === \"start\") {\n      selectedRange.value.start = date.clone();\n      selectedRange.value.end = null;\n      activeInput.value = \"end\";\n    } else {\n      if (date.isBefore(selectedRange.value.start, \"day\")) {\n        selectedRange.value.end = selectedRange.value.start.clone();\n        selectedRange.value.start = date.clone();\n      } else {\n        selectedRange.value.end = date.clone();\n      }\n      // Don't close calendar yet â€” wait for apply\n    }\n    return;\n  }\n\n  selectedDate.value = date.clone();\n  emit(\n    \"update:modelValue\",\n    props.variant === \"date-time\"\n      ? selectedDate.value.format(\"YYYY-MM-DDTHH:mm\")\n      : selectedDate.value.format(\"YYYY-MM-DD\")\n  );\n  closeCalendar();\n}\n\nfunction applyRange() {\n  if (selectedRange.value.start && selectedRange.value.end) {\n    emit(\"update:modelValue\", {\n      start: selectedRange.value.start.format(\"YYYY-MM-DD\"),\n      end: selectedRange.value.end.format(\"YYYY-MM-DD\"),\n    });\n    closeCalendar();\n  }\n}\n\nfunction toggleCalendar(input = null) {\n  activeInput.value = input;\n  calendarOpen.value = true;\n\n  if (props.variant === \"date-range\") {\n    if (selectedRange.value.start) {\n      currentMonth.value = selectedRange.value.start.startOf(\"month\");\n    } else {\n      currentMonth.value = dayjs().startOf(\"month\");\n    }\n  } else if (selectedDate.value) {\n    currentMonth.value = selectedDate.value.startOf(\"month\");\n  } else {\n    currentMonth.value = dayjs().startOf(\"month\");\n  }\n\n  nextTick(() => {\n    positionCalendar();\n    window.addEventListener(\"resize\", positionCalendar);\n    window.addEventListener(\"click\", onClickOutside);\n  });\n}\n\nfunction closeCalendar() {\n  calendarOpen.value = false;\n  window.removeEventListener(\"resize\", positionCalendar);\n  window.removeEventListener(\"click\", onClickOutside);\n}\n\nfunction onClickOutside(event) {\n  if (\n    !pickerRef.value?.contains(event.target) &&\n    !calendarRef.value?.contains(event.target)\n  ) {\n    closeCalendar();\n  }\n}\n\nconst calendarPosition = ref({\n  position: \"absolute\",\n  top: \"0px\",\n  left: \"0px\",\n  zIndex: 9999,\n});\n\nfunction positionCalendar() {\n  if (!pickerRef.value || !calendarRef.value) return;\n\n  const pickerRect = pickerRef.value.getBoundingClientRect();\n  const calendarRect = calendarRef.value.getBoundingClientRect();\n\n  const spaceBelow = window.innerHeight - pickerRect.bottom;\n  const spaceAbove = pickerRect.top;\n\n  const scrollY = window.scrollY || window.pageYOffset;\n  const scrollX = window.scrollX || window.pageXOffset;\n\n  let top;\n\n  if (spaceBelow < calendarRect.height && spaceAbove > calendarRect.height) {\n    // Not enough space below, but enough above - open upwards\n    top = pickerRect.top + scrollY - calendarRect.height - 6; // 6px gap\n  } else {\n    // Default: open downwards\n    top = pickerRect.bottom + scrollY + 6;\n  }\n\n  calendarPosition.value = {\n    position: \"absolute\",\n    top: `${top}px`,\n    left: `${pickerRect.left + scrollX}px`,\n    zIndex: 9999,\n  };\n}\n\nconst displayValue = computed(() => {\n  if (!selectedDate.value) return \"\";\n  if (props.variant === \"date-time\") return selectedDate.value.format(\"YYYY-MM-DD HH:mm\");\n  return selectedDate.value.format(\"YYYY-MM-DD\");\n});\n\nconst displayRange = computed(() => {\n  if (props.variant !== \"date-range\") return \"\";\n  if (selectedRange.value.start && selectedRange.value.end) {\n    return `${selectedRange.value.start.format(\n      \"YYYY-MM-DD\"\n    )} to ${selectedRange.value.end.format(\"YYYY-MM-DD\")}`;\n  }\n  if (selectedRange.value.start) {\n    return `${selectedRange.value.start.format(\"YYYY-MM-DD\")} to ...`;\n  }\n  return \"\";\n});\n\nconst variantClass = computed(() => `fu-date-picker--${props.variant}`);\n\nwatch(\n  () => props.modelValue,\n  (val) => {\n    if (props.variant === \"date-range\") {\n      // ... handle range ...\n      return;\n    }\n\n    if (typeof val === \"string\" && val) {\n      const parsed = dayjs(val);\n\n      if (parsed.isValid()) {\n        selectedDate.value = parsed;\n        currentMonth.value = parsed.startOf(\"month\");\n\n        if (props.variant === \"date-time\") {\n          timeValue.value = parsed.format(\"h:mm A\"); // <-- sets initial time here\n        } else {\n          timeValue.value = \"00:00\";\n        }\n\n        return;\n      }\n    }\n\n    if (val === null || val === \"\") {\n      selectedDate.value = null;\n      selectedRange.value = { start: null, end: null };\n      timeValue.value = \"00:00\";\n    }\n  },\n  { immediate: true }\n);\n\nfunction toggleView() {\n  if (viewMode.value === \"days\") viewMode.value = \"months\";\n  else if (viewMode.value === \"months\") viewMode.value = \"years\";\n  else viewMode.value = \"days\";\n}\n\nfunction prevAction() {\n  if (viewMode.value === \"days\")\n    currentMonth.value = currentMonth.value.subtract(1, \"month\");\n  else if (viewMode.value === \"months\")\n    currentMonth.value = currentMonth.value.subtract(1, \"year\");\n  else currentMonth.value = currentMonth.value.subtract(yearsPerPage, \"year\");\n}\n\nfunction nextAction() {\n  if (viewMode.value === \"days\") currentMonth.value = currentMonth.value.add(1, \"month\");\n  else if (viewMode.value === \"months\")\n    currentMonth.value = currentMonth.value.add(1, \"year\");\n  else currentMonth.value = currentMonth.value.add(yearsPerPage, \"year\");\n}\n\nfunction selectMonth(i) {\n  currentMonth.value = currentMonth.value.month(i);\n  viewMode.value = \"days\";\n}\n\nfunction selectYear(year) {\n  currentMonth.value = currentMonth.value.year(year);\n  viewMode.value = \"months\";\n}\n\nfunction selectToday() {\n  const today = dayjs();\n  if (props.variant === \"date-range\") {\n    selectedRange.value = { start: today.clone(), end: today.clone() };\n  } else {\n    selectedDate.value = today.clone();\n    emit(\n      \"update:modelValue\",\n      props.variant === \"date-time\"\n        ? today.format(\"YYYY-MM-DDTHH:mm\")\n        : today.format(\"YYYY-MM-DD\")\n    );\n    closeCalendar();\n  }\n}\n\nfunction selectTomorrow() {\n  const tomorrow = dayjs().add(1, \"day\");\n  if (props.variant === \"date-range\") {\n    selectedRange.value = { start: tomorrow.clone(), end: tomorrow.clone() };\n  } else {\n    selectedDate.value = tomorrow.clone();\n    emit(\n      \"update:modelValue\",\n      props.variant === \"date-time\"\n        ? tomorrow.format(\"YYYY-MM-DDTHH:mm\")\n        : tomorrow.format(\"YYYY-MM-DD\")\n    );\n    closeCalendar();\n  }\n}\n\nfunction clearSelection() {\n  selectedDate.value = null;\n  selectedRange.value = { start: null, end: null };\n  emit(\n    \"update:modelValue\",\n    props.variant === \"date-range\" ? { start: null, end: null } : null\n  );\n  closeCalendar();\n}\n\nfunction onTimeChange(value) {\n  const timeStr = typeof value === \"string\" ? value : timeValue.value;\n\n  const parsedTime = dayjs(timeStr, [\"H:mm\", \"h:mm A\", \"h:mmA\", \"ha\", \"h A\", \"H\"], true);\n\n  if (parsedTime.isValid() && selectedDate.value) {\n    selectedDate.value = selectedDate.value\n      .hour(parsedTime.hour())\n      .minute(parsedTime.minute());\n\n    // Normalize to 24h format string\n    timeValue.value = selectedDate.value.format(\"HH:mm\");\n\n    emit(\"update:modelValue\", selectedDate.value.format(\"YYYY-MM-DDTHH:mm\"));\n  }\n}\n\n// Friendly 12h time options for autocomplete\nconst timeOptions = computed(() => {\n  const list = [];\n  for (let h = 0; h < 24; h++) {\n    for (let m = 0; m < 60; m += 15) {\n      list.push(dayjs().hour(h).minute(m).format(\"h:mm A\"));\n    }\n  }\n  return list;\n});\n\nconst filteredTimeOptions = computed(() => {\n  if (!timeValue.value) return timeOptions.value;\n\n  const q = timeValue.value.toLowerCase().replace(/\\s+/g, \"\");\n\n  return timeOptions.value.filter((t) =>\n    t.toLowerCase().replace(/\\s+/g, \"\").startsWith(q)\n  );\n});\n\nfunction applyTypedTime() {\n  if (!selectedDate.value || !timeValue.value) return;\n\n  const raw = String(timeValue.value).trim().toLowerCase();\n\n  const parsed = dayjs(\n    raw,\n    [\"h:mm a\", \"h:mma\", \"ha\", \"h a\", \"hh:mm a\", \"H:mm\", \"HH:mm\", \"H\"],\n    true\n  );\n\n  if (!parsed.isValid()) {\n    timeOpen.value = false;\n    return;\n  }\n\n  selectedDate.value = selectedDate.value.hour(parsed.hour()).minute(parsed.minute());\n\n  // Normalize DISPLAY to 12h AM/PM\n  timeValue.value = selectedDate.value.format(\"h:mm A\");\n\n  emit(\"update:modelValue\", selectedDate.value.format(\"YYYY-MM-DDTHH:mm\"));\n  timeOpen.value = false;\n}\n\nfunction selectTime(val) {\n  timeValue.value = val;\n  applyTypedTime();\n}\nfunction onTimeBlur() {\n  setTimeout(() => {\n    applyTypedTime();\n    timeOpen.value = false;\n  }, 120);\n}\n\nonBeforeUnmount(() => {\n  window.removeEventListener(\"resize\", positionCalendar);\n  window.removeEventListener(\"click\", onClickOutside);\n});\n</script>\n\n<style scoped>\n@import url(\"../style/style.scss\");\n</style>\n","<template>\n  <div\n    :class=\"['fu-date-picker', variantClass]\"\n    ref=\"pickerRef\"\n    :style=\"{ width: formWrapperWidth }\"\n  >\n    <FusionTextInput\n      v-if=\"variant !== 'date-range'\"\n      type=\"text\"\n      :modelValue=\"displayValue\"\n      placeholder=\"Select date\"\n      readonly\n      @click=\"toggleCalendar\"\n      :formWrapperWidth=\"formWrapperWidth\"\n      :size=\"size\"\n      :error=\"error\"\n      :required=\"required\"\n      :label=\"label\"\n      :disabled=\"disabled\"\n    >\n      <template #right>\n        <ChevronDown />\n      </template>\n    </FusionTextInput>\n\n    <FusionTextInput\n      v-else\n      type=\"text\"\n      :modelValue=\"displayRange\"\n      placeholder=\"Select date range\"\n      @click=\"toggleCalendar\"\n      readonly\n      :formWrapperWidth=\"formWrapperWidth\"\n      :size=\"size\"\n      :error=\"error\"\n      :required=\"required\"\n      :disabled=\"disabled\"\n    >\n      <template #right>\n        <ChevronDown />\n      </template>\n    </FusionTextInput>\n\n    <teleport to=\"body\">\n      <div\n        v-if=\"calendarOpen\"\n        class=\"fu-date-picker__calendar-overlay\"\n        @click.self=\"closeCalendar\"\n      >\n        <div\n          class=\"fu-date-picker__calendar\"\n          :style=\"calendarPosition\"\n          ref=\"calendarRef\"\n          @click.stop\n        >\n          <!-- Header -->\n          <div class=\"calendar-header\">\n            <FusionButton variant=\"ghost\" size=\"sm\" @click=\"toggleView\">\n              <template v-if=\"viewMode === 'days'\">\n                {{ currentMonth.format(\"MMMM YYYY\") }}\n              </template>\n              <template v-else-if=\"viewMode === 'months'\">\n                {{ currentMonth.year() }}\n              </template>\n              <template v-else> {{ yearRangeStart }} - {{ yearRangeEnd }} </template>\n            </FusionButton>\n\n            <div class=\"flex flex--gap-sm\">\n              <FusionActionButton :icon=\"ChevronLeft\" size=\"sm\" @click=\"prevAction\" />\n              <FusionActionButton :icon=\"ChevronRight\" size=\"sm\" @click=\"nextAction\" />\n            </div>\n          </div>\n\n          <!-- Days -->\n          <div v-if=\"viewMode === 'days'\">\n            <div class=\"calendar-weekdays\">\n              <div v-for=\"d in weekdays\" :key=\"d\" class=\"calendar-weekday\">{{ d }}</div>\n            </div>\n\n            <div class=\"calendar-days\">\n              <div\n                v-for=\"day in daysInCalendar\"\n                :key=\"day.date.toString()\"\n                class=\"calendar-day\"\n                :class=\"{\n                  'calendar-day--other-month': !day.isCurrentMonth,\n                  'calendar-day--selected': isSelected(day.date),\n                  'calendar-day--in-range': isInRange(day.date),\n                  'calendar-day--disabled': isDisabled(day.date),\n                }\"\n                @click=\"selectDate(day.date)\"\n              >\n                {{ day.date.date() }}\n              </div>\n            </div>\n          </div>\n\n          <!-- Months -->\n          <div v-else-if=\"viewMode === 'months'\" class=\"calendar-months\">\n            <div\n              v-for=\"(m, i) in months\"\n              :key=\"m\"\n              class=\"calendar-month\"\n              :class=\"{ 'calendar-month--selected': i === currentMonth.month() }\"\n              @click=\"selectMonth(i)\"\n            >\n              {{ m }}\n            </div>\n          </div>\n\n          <!-- Years -->\n          <div v-else class=\"calendar-years\">\n            <div\n              v-for=\"year in yearsRange\"\n              :key=\"year\"\n              class=\"calendar-year\"\n              :class=\"{ 'calendar-year--selected': year === currentMonth.year() }\"\n              @click=\"selectYear(year)\"\n            >\n              {{ year }}\n            </div>\n          </div>\n\n          <hr />\n\n          <!-- Quick actions -->\n          <div class=\"flex flex--space flex--gap-md px-2 pb-2\">\n            <div class=\"flex flex--gap-sm\" v-if=\"variant !== 'date-range'\">\n              <FusionButton variant=\"outline\" @click=\"selectToday\">Today</FusionButton>\n              <FusionButton variant=\"outline\" @click=\"selectTomorrow\"\n                >Tomorrow</FusionButton\n              >\n            </div>\n            <div v-if=\"variant === 'date-range'\">\n              <FusionButton variant=\"outline\" @click=\"applyRange\">Apply</FusionButton>\n            </div>\n            <FusionButton variant=\"outline\" @click=\"clearSelection\">Clear</FusionButton>\n          </div>\n\n          <!-- Time -->\n          <div v-if=\"variant === 'date-time'\" class=\"calendar-time\">\n            <div class=\"fu-time-input-wrapper\">\n              <!-- <input\n                type=\"text\"\n                class=\"fu-time-input\"\n                v-model=\"timeValue\"\n                placeholder=\"HH:mm or 4:30pm\"\n                @focus=\"timeOpen = true\"\n                @keydown.enter.prevent=\"applyTypedTime\"\n                @blur=\"onTimeBlur\"\n              /> -->\n              <FusionTextInput\n                type=\"text\"\n                v-model=\"timeValue\"\n                placeholder=\"HH:mm or 4:30pm\"\n                @focus=\"timeOpen = true\"\n                @keydown.enter.prevent=\"applyTypedTime\"\n                @blur=\"onTimeBlur\"\n                formWrapperWidth=\"100%\"\n              >\n                <template #right>\n                  <ChevronDown />\n                </template>\n              </FusionTextInput>\n\n              <div v-if=\"timeOpen\" class=\"fu-time-dropdown customScrollBar\">\n                <div\n                  v-for=\"opt in filteredTimeOptions\"\n                  :key=\"opt\"\n                  class=\"fu-time-option\"\n                  @mousedown.prevent=\"selectTime(opt)\"\n                >\n                  {{ opt }}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </teleport>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, watch, nextTick, onBeforeUnmount } from \"vue\";\nimport dayjs from \"dayjs\";\nimport customParseFormat from \"dayjs/plugin/customParseFormat\";\nimport FusionButton from \"@/components/button/FusionButton.vue\";\nimport FusionActionButton from \"@/components/actionButton/FusionActionButton.vue\";\nimport { ChevronLeft, ChevronRight, ChevronDown } from \"lucide-vue-next\";\nimport FusionTextInput from \"@/components/TextInput/FusionTextInput.vue\";\n\ndayjs.extend(customParseFormat);\n\nconst props = defineProps({\n  modelValue: [String, Object],\n  variant: {\n    type: String,\n    default: \"date\",\n    validator: (v) => [\"date\", \"date-time\", \"date-range\"].includes(v),\n  },\n  min: String,\n  max: String,\n\n  // New props\n  formWrapperWidth: String,\n  size: {\n    type: String,\n    default: \"md\",\n    validator: (v) => [\"sm\", \"md\", \"lg\"].includes(v),\n  },\n  error: {\n    type: [String, null],\n    default: null,\n  },\n\n  label: {\n    type: String,\n    default: null,\n  },\n  required: {\n    type: Boolean,\n    default: false,\n  },\n  disabled: {\n    type: Boolean,\n    default: false,\n  },\n});\n\nconst timeOpen = ref(false);\nconst emit = defineEmits([\"update:modelValue\"]);\n\nconst calendarOpen = ref(false);\nconst activeInput = ref(null);\nconst pickerRef = ref(null);\nconst calendarRef = ref(null);\nconst currentMonth = ref(dayjs().startOf(\"month\"));\n\nconst selectedDate = ref(null);\nconst selectedRange = ref({ start: null, end: null });\nconst timeValue = ref(\"00:00\");\n\nconst weekdays = [\"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\"];\nconst months = [\n  \"Jan\",\n  \"Feb\",\n  \"Mar\",\n  \"Apr\",\n  \"May\",\n  \"Jun\",\n  \"Jul\",\n  \"Aug\",\n  \"Sep\",\n  \"Oct\",\n  \"Nov\",\n  \"Dec\",\n];\nconst viewMode = ref(\"days\");\n\nconst yearsPerPage = 12;\nconst yearRangeStart = computed(\n  () => Math.floor(currentMonth.value.year() / yearsPerPage) * yearsPerPage\n);\nconst yearRangeEnd = computed(() => yearRangeStart.value + yearsPerPage - 1);\nconst yearsRange = computed(() =>\n  Array.from({ length: yearsPerPage }, (_, i) => yearRangeStart.value + i)\n);\n\nconst daysInCalendar = computed(() => {\n  const start = currentMonth.value.startOf(\"month\").startOf(\"week\");\n  const end = currentMonth.value.endOf(\"month\").endOf(\"week\");\n  const days = [];\n  let d = start.clone();\n  while (d.isBefore(end) || d.isSame(end, \"day\")) {\n    days.push({\n      date: d.clone(),\n      isCurrentMonth: d.month() === currentMonth.value.month(),\n    });\n    d = d.add(1, \"day\");\n  }\n  return days;\n});\n\nfunction isDisabled(date) {\n  if (props.min && date.isBefore(dayjs(props.min), \"day\")) return true;\n  if (props.max && date.isAfter(dayjs(props.max), \"day\")) return true;\n  return false;\n}\n\nfunction isSelected(date) {\n  if (props.variant === \"date-range\") {\n    return (\n      (selectedRange.value.start && date.isSame(selectedRange.value.start, \"day\")) ||\n      (selectedRange.value.end && date.isSame(selectedRange.value.end, \"day\"))\n    );\n  }\n  return selectedDate.value && date.isSame(selectedDate.value, \"day\");\n}\n\nfunction isInRange(date) {\n  return (\n    props.variant === \"date-range\" &&\n    selectedRange.value.start &&\n    selectedRange.value.end &&\n    date.isAfter(selectedRange.value.start, \"day\") &&\n    date.isBefore(selectedRange.value.end, \"day\")\n  );\n}\n\nfunction selectDate(date) {\n  if (isDisabled(date)) return;\n\n  if (props.variant === \"date-range\") {\n    if (!selectedRange.value.start || activeInput.value === \"start\") {\n      selectedRange.value.start = date.clone();\n      selectedRange.value.end = null;\n      activeInput.value = \"end\";\n    } else {\n      if (date.isBefore(selectedRange.value.start, \"day\")) {\n        selectedRange.value.end = selectedRange.value.start.clone();\n        selectedRange.value.start = date.clone();\n      } else {\n        selectedRange.value.end = date.clone();\n      }\n      // Don't close calendar yet â€” wait for apply\n    }\n    return;\n  }\n\n  selectedDate.value = date.clone();\n  emit(\n    \"update:modelValue\",\n    props.variant === \"date-time\"\n      ? selectedDate.value.format(\"YYYY-MM-DDTHH:mm\")\n      : selectedDate.value.format(\"YYYY-MM-DD\")\n  );\n  closeCalendar();\n}\n\nfunction applyRange() {\n  if (selectedRange.value.start && selectedRange.value.end) {\n    emit(\"update:modelValue\", {\n      start: selectedRange.value.start.format(\"YYYY-MM-DD\"),\n      end: selectedRange.value.end.format(\"YYYY-MM-DD\"),\n    });\n    closeCalendar();\n  }\n}\n\nfunction toggleCalendar(input = null) {\n  activeInput.value = input;\n  calendarOpen.value = true;\n\n  if (props.variant === \"date-range\") {\n    if (selectedRange.value.start) {\n      currentMonth.value = selectedRange.value.start.startOf(\"month\");\n    } else {\n      currentMonth.value = dayjs().startOf(\"month\");\n    }\n  } else if (selectedDate.value) {\n    currentMonth.value = selectedDate.value.startOf(\"month\");\n  } else {\n    currentMonth.value = dayjs().startOf(\"month\");\n  }\n\n  nextTick(() => {\n    positionCalendar();\n    window.addEventListener(\"resize\", positionCalendar);\n    window.addEventListener(\"click\", onClickOutside);\n  });\n}\n\nfunction closeCalendar() {\n  calendarOpen.value = false;\n  window.removeEventListener(\"resize\", positionCalendar);\n  window.removeEventListener(\"click\", onClickOutside);\n}\n\nfunction onClickOutside(event) {\n  if (\n    !pickerRef.value?.contains(event.target) &&\n    !calendarRef.value?.contains(event.target)\n  ) {\n    closeCalendar();\n  }\n}\n\nconst calendarPosition = ref({\n  position: \"absolute\",\n  top: \"0px\",\n  left: \"0px\",\n  zIndex: 9999,\n});\n\nfunction positionCalendar() {\n  if (!pickerRef.value || !calendarRef.value) return;\n\n  const pickerRect = pickerRef.value.getBoundingClientRect();\n  const calendarRect = calendarRef.value.getBoundingClientRect();\n\n  const spaceBelow = window.innerHeight - pickerRect.bottom;\n  const spaceAbove = pickerRect.top;\n\n  const scrollY = window.scrollY || window.pageYOffset;\n  const scrollX = window.scrollX || window.pageXOffset;\n\n  let top;\n\n  if (spaceBelow < calendarRect.height && spaceAbove > calendarRect.height) {\n    // Not enough space below, but enough above - open upwards\n    top = pickerRect.top + scrollY - calendarRect.height - 6; // 6px gap\n  } else {\n    // Default: open downwards\n    top = pickerRect.bottom + scrollY + 6;\n  }\n\n  calendarPosition.value = {\n    position: \"absolute\",\n    top: `${top}px`,\n    left: `${pickerRect.left + scrollX}px`,\n    zIndex: 9999,\n  };\n}\n\nconst displayValue = computed(() => {\n  if (!selectedDate.value) return \"\";\n  if (props.variant === \"date-time\") return selectedDate.value.format(\"YYYY-MM-DD HH:mm\");\n  return selectedDate.value.format(\"YYYY-MM-DD\");\n});\n\nconst displayRange = computed(() => {\n  if (props.variant !== \"date-range\") return \"\";\n  if (selectedRange.value.start && selectedRange.value.end) {\n    return `${selectedRange.value.start.format(\n      \"YYYY-MM-DD\"\n    )} to ${selectedRange.value.end.format(\"YYYY-MM-DD\")}`;\n  }\n  if (selectedRange.value.start) {\n    return `${selectedRange.value.start.format(\"YYYY-MM-DD\")} to ...`;\n  }\n  return \"\";\n});\n\nconst variantClass = computed(() => `fu-date-picker--${props.variant}`);\n\nwatch(\n  () => props.modelValue,\n  (val) => {\n    if (props.variant === \"date-range\") {\n      // ... handle range ...\n      return;\n    }\n\n    if (typeof val === \"string\" && val) {\n      const parsed = dayjs(val);\n\n      if (parsed.isValid()) {\n        selectedDate.value = parsed;\n        currentMonth.value = parsed.startOf(\"month\");\n\n        if (props.variant === \"date-time\") {\n          timeValue.value = parsed.format(\"h:mm A\"); // <-- sets initial time here\n        } else {\n          timeValue.value = \"00:00\";\n        }\n\n        return;\n      }\n    }\n\n    if (val === null || val === \"\") {\n      selectedDate.value = null;\n      selectedRange.value = { start: null, end: null };\n      timeValue.value = \"00:00\";\n    }\n  },\n  { immediate: true }\n);\n\nfunction toggleView() {\n  if (viewMode.value === \"days\") viewMode.value = \"months\";\n  else if (viewMode.value === \"months\") viewMode.value = \"years\";\n  else viewMode.value = \"days\";\n}\n\nfunction prevAction() {\n  if (viewMode.value === \"days\")\n    currentMonth.value = currentMonth.value.subtract(1, \"month\");\n  else if (viewMode.value === \"months\")\n    currentMonth.value = currentMonth.value.subtract(1, \"year\");\n  else currentMonth.value = currentMonth.value.subtract(yearsPerPage, \"year\");\n}\n\nfunction nextAction() {\n  if (viewMode.value === \"days\") currentMonth.value = currentMonth.value.add(1, \"month\");\n  else if (viewMode.value === \"months\")\n    currentMonth.value = currentMonth.value.add(1, \"year\");\n  else currentMonth.value = currentMonth.value.add(yearsPerPage, \"year\");\n}\n\nfunction selectMonth(i) {\n  currentMonth.value = currentMonth.value.month(i);\n  viewMode.value = \"days\";\n}\n\nfunction selectYear(year) {\n  currentMonth.value = currentMonth.value.year(year);\n  viewMode.value = \"months\";\n}\n\nfunction selectToday() {\n  const today = dayjs();\n  if (props.variant === \"date-range\") {\n    selectedRange.value = { start: today.clone(), end: today.clone() };\n  } else {\n    selectedDate.value = today.clone();\n    emit(\n      \"update:modelValue\",\n      props.variant === \"date-time\"\n        ? today.format(\"YYYY-MM-DDTHH:mm\")\n        : today.format(\"YYYY-MM-DD\")\n    );\n    closeCalendar();\n  }\n}\n\nfunction selectTomorrow() {\n  const tomorrow = dayjs().add(1, \"day\");\n  if (props.variant === \"date-range\") {\n    selectedRange.value = { start: tomorrow.clone(), end: tomorrow.clone() };\n  } else {\n    selectedDate.value = tomorrow.clone();\n    emit(\n      \"update:modelValue\",\n      props.variant === \"date-time\"\n        ? tomorrow.format(\"YYYY-MM-DDTHH:mm\")\n        : tomorrow.format(\"YYYY-MM-DD\")\n    );\n    closeCalendar();\n  }\n}\n\nfunction clearSelection() {\n  selectedDate.value = null;\n  selectedRange.value = { start: null, end: null };\n  emit(\n    \"update:modelValue\",\n    props.variant === \"date-range\" ? { start: null, end: null } : null\n  );\n  closeCalendar();\n}\n\nfunction onTimeChange(value) {\n  const timeStr = typeof value === \"string\" ? value : timeValue.value;\n\n  const parsedTime = dayjs(timeStr, [\"H:mm\", \"h:mm A\", \"h:mmA\", \"ha\", \"h A\", \"H\"], true);\n\n  if (parsedTime.isValid() && selectedDate.value) {\n    selectedDate.value = selectedDate.value\n      .hour(parsedTime.hour())\n      .minute(parsedTime.minute());\n\n    // Normalize to 24h format string\n    timeValue.value = selectedDate.value.format(\"HH:mm\");\n\n    emit(\"update:modelValue\", selectedDate.value.format(\"YYYY-MM-DDTHH:mm\"));\n  }\n}\n\n// Friendly 12h time options for autocomplete\nconst timeOptions = computed(() => {\n  const list = [];\n  for (let h = 0; h < 24; h++) {\n    for (let m = 0; m < 60; m += 15) {\n      list.push(dayjs().hour(h).minute(m).format(\"h:mm A\"));\n    }\n  }\n  return list;\n});\n\nconst filteredTimeOptions = computed(() => {\n  if (!timeValue.value) return timeOptions.value;\n\n  const q = timeValue.value.toLowerCase().replace(/\\s+/g, \"\");\n\n  return timeOptions.value.filter((t) =>\n    t.toLowerCase().replace(/\\s+/g, \"\").startsWith(q)\n  );\n});\n\nfunction applyTypedTime() {\n  if (!selectedDate.value || !timeValue.value) return;\n\n  const raw = String(timeValue.value).trim().toLowerCase();\n\n  const parsed = dayjs(\n    raw,\n    [\"h:mm a\", \"h:mma\", \"ha\", \"h a\", \"hh:mm a\", \"H:mm\", \"HH:mm\", \"H\"],\n    true\n  );\n\n  if (!parsed.isValid()) {\n    timeOpen.value = false;\n    return;\n  }\n\n  selectedDate.value = selectedDate.value.hour(parsed.hour()).minute(parsed.minute());\n\n  // Normalize DISPLAY to 12h AM/PM\n  timeValue.value = selectedDate.value.format(\"h:mm A\");\n\n  emit(\"update:modelValue\", selectedDate.value.format(\"YYYY-MM-DDTHH:mm\"));\n  timeOpen.value = false;\n}\n\nfunction selectTime(val) {\n  timeValue.value = val;\n  applyTypedTime();\n}\nfunction onTimeBlur() {\n  setTimeout(() => {\n    applyTypedTime();\n    timeOpen.value = false;\n  }, 120);\n}\n\nonBeforeUnmount(() => {\n  window.removeEventListener(\"resize\", positionCalendar);\n  window.removeEventListener(\"click\", onClickOutside);\n});\n</script>\n\n<style scoped>\n.fu-date-picker {\n  position: relative;\n  font-family: inherit;\n}\n\n/* .fu-date-picker__input {\n  padding: 0.5rem 0.7rem;\n  font-size: 1rem;\n  border: 1px solid var(--fu-border, #ccc);\n  border-radius: var(--fu-rounded-md, 4px);\n  cursor: pointer;\n  width: 150px;\n  user-select: none;\n  background: green;\n} */\n\n.fu-date-picker__range {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n\n.fu-date-picker__range-separator {\n  user-select: none;\n  color: var(--fu-color-text-muted, #666);\n}\n\n.fu-date-picker__calendar-overlay {\n  position: fixed;\n  inset: 0;\n  background: rgba(0, 0, 0, 0.15);\n  z-index: 9998;\n}\n\n.fu-date-picker__calendar {\n  background: var(--fu-content-body);\n  border: 1px solid var(--fu-border);\n  border-radius: var(--fu-rounded-xl);\n  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);\n  width: 240px;\n  user-select: none;\n}\n\n.calendar-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  font-size: 0.9rem;\n  padding: 0.5rem;\n}\n\n.calendar-header button {\n  background: none;\n  border: none;\n  cursor: pointer;\n  font-size: 0.9rem;\n  line-height: 1;\n  user-select: none;\n}\n\n.calendar-header-title {\n  cursor: pointer;\n  user-select: none;\n}\n\n.calendar-weekdays {\n  display: grid;\n  grid-template-columns: repeat(7, 1fr);\n  font-weight: 600;\n  color: var(--fu-color-text-muted, #666);\n  margin-bottom: 0.25rem;\n  user-select: none;\n}\n\n.calendar-weekday {\n  text-align: center;\n  font-size: 0.8rem;\n}\n\n.calendar-days {\n  display: grid;\n  grid-template-columns: repeat(7, 1fr);\n  gap: 0.2rem;\n  padding: 0.5rem;\n}\n\n.calendar-day {\n  color: var(--fu-color-text);\n  font-size: 14px;\n  text-align: center;\n  padding: 0.4rem 0.2rem;\n  border-radius: var(--fu-rounded-md, 4px);\n  cursor: pointer;\n  user-select: none;\n  transition: background-color 0.15s ease-in-out;\n}\n\n.calendar-day--other-month {\n  color: #7c7c7c;\n}\n\n.calendar-day--disabled {\n  color: #ddd;\n  cursor: not-allowed;\n}\n\n.calendar-day--selected {\n  background-color: var(--fu-button-solid);\n  color: var(--fu-button-solid-text);\n  font-weight: 700;\n}\n\n.calendar-day--in-range {\n  background-color: var(--fu-color-surface-gray-3);\n  color: var(--fu-color-text);\n}\n\n.calendar-months {\n  color: var(--fu-color-text);\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 0.3rem;\n  padding: 0.5rem;\n}\n\n.calendar-month {\n  font-size: 0.9rem;\n  text-align: center;\n  padding: 0.6rem 0.4rem;\n  border-radius: var(--fu-rounded-md, 4px);\n  cursor: pointer;\n  user-select: none;\n  transition: background-color 0.15s ease-in-out;\n  border: 1px solid transparent;\n}\n\n.calendar-month--selected {\n  background-color: var(--fu-button-solid);\n  color: var(--fu-button-solid-text);\n  border-color: var(--fu-button-solid);\n}\n\n.calendar-year {\n  color: var(--fu-color-text);\n  font-size: 0.9rem;\n  text-align: center;\n  padding: 0.6rem 0.4rem;\n  border-radius: var(--fu-rounded-md, 4px);\n  cursor: pointer;\n  user-select: none;\n  transition: background-color 0.15s ease-in-out;\n  font-weight: 400;\n  border: 1px solid transparent;\n  margin: 0.2rem;\n}\n\n.calendar-year--selected {\n  background-color: var(--fu-button-solid);\n  color: var(--fu-button-solid-text);\n  border-color: var(--fu-button-solid);\n}\n\n.calendar-years {\n  color: var(--fu-color-text);\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 0.3rem;\n  padding: 0.5rem;\n}\n\n.calendar-time {\n  font-size: 0.9rem;\n  padding: 0.5rem;\n}\n\n.calendar-time label {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n\n.calendar-time input {\n  border: 1px solid var(--fu-border, #ccc);\n  border-radius: var(--fu-rounded-sm, 3px);\n  padding: 0.2rem 0.5rem;\n  font-size: 1rem;\n  width: 100px;\n}\n\n.fu-time-input-wrapper {\n  position: relative;\n}\n\n.fu-time-input {\n  width: 100%;\n  padding: 0.4rem 0.5rem;\n  border: 1px solid var(--fu-border, #ccc);\n  border-radius: 4px;\n  font-size: 0.9rem;\n}\n\n.fu-time-dropdown {\n  position: absolute;\n  z-index: 20;\n\n  /* OPEN UP */\n  bottom: calc(100% + 4px);\n  left: 0;\n  right: 0;\n  color: var(--fu-color-text);\n  max-height: 160px;\n  overflow-y: auto;\n  background: var(--fu-surface-background);\n  border: 0.5px solid var(--fu-border);\n  border-radius: 4px;\n  box-shadow: 0 -6px 12px rgba(0, 0, 0, 0.15);\n}\n\n.fu-time-option {\n  padding: 0.35rem 0.5rem;\n  cursor: pointer;\n  font-size: 0.85rem;\n}\n\n.fu-time-option:hover {\n  background: var(--fu-surface-hover);\n  color: var(--fu-color-text);\n}\n</style>\n","<template>\n  <div class=\"fu-month-picker\" ref=\"pickerRef\" :style=\"{ width: formWrapperWidth }\">\n    <FusionTextInput\n      type=\"text\"\n      :modelValue=\"displayValue\"\n      placeholder=\"Select month\"\n      readonly\n      @click=\"toggleCalendar\"\n      :formWrapperWidth=\"formWrapperWidth\"\n      :size=\"size\"\n      :error=\"error\"\n      :required=\"required\"\n      :label=\"label\"\n      :disabled=\"disabled\"\n      @click.self=\"closeCalendar\"\n    >\n      <template #right>\n        <ChevronDown />\n      </template>\n    </FusionTextInput>\n\n    <teleport to=\"body\">\n      <div\n        v-if=\"calendarOpen\"\n        class=\"fu-month-picker__calendar-overlay\"\n        @click.self=\"closeCalendar\"\n      >\n        <div\n          class=\"fu-month-picker__calendar\"\n          :style=\"calendarPosition\"\n          ref=\"calendarRef\"\n          @click.stop\n        >\n          <!-- Header -->\n          <div class=\"calendar-header\">\n            <FusionButton\n              variant=\"ghost\"\n              size=\"sm\"\n              @click=\"toggleView\"\n              :icon=\"ChevronDown\"\n            >\n              <template v-if=\"viewMode === 'months'\">\n                {{ currentYear }}\n              </template>\n              <template v-else> {{ yearRangeStart }} - {{ yearRangeEnd }} </template>\n            </FusionButton>\n\n            <div class=\"flex flex--gap-sm\">\n              <FusionActionButton :icon=\"ChevronLeft\" size=\"sm\" @click=\"prevAction\" />\n              <FusionActionButton :icon=\"ChevronRight\" size=\"sm\" @click=\"nextAction\" />\n            </div>\n          </div>\n\n          <!-- Months view -->\n          <div v-if=\"viewMode === 'months'\" class=\"calendar-months\">\n            <div\n              v-for=\"(m, i) in months\"\n              :key=\"m\"\n              class=\"calendar-month\"\n              :class=\"{\n                'calendar-month--selected': isSelectedMonth(i),\n                'calendar-month--disabled': isDisabledMonth(i),\n              }\"\n              @click=\"selectMonth(i)\"\n            >\n              {{ m }}\n            </div>\n          </div>\n\n          <!-- Years view -->\n          <div v-else class=\"calendar-years\">\n            <div\n              v-for=\"year in yearsRange\"\n              :key=\"year\"\n              class=\"calendar-year\"\n              :class=\"{ 'calendar-year--selected': year === currentYear }\"\n              @click=\"selectYear(year)\"\n            >\n              {{ year }}\n            </div>\n          </div>\n\n          <hr />\n\n          <!-- Quick actions -->\n          <div class=\"flex flex--space flex--gap-md px-2 pb-2\">\n            <FusionButton variant=\"outline\" @click=\"selectThisMonth\">\n              This Month\n            </FusionButton>\n            <FusionButton variant=\"outline\" @click=\"clearSelection\"> Clear </FusionButton>\n          </div>\n        </div>\n      </div>\n    </teleport>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, watch, nextTick, onBeforeUnmount } from \"vue\";\nimport FusionButton from \"@/components/button/FusionButton.vue\";\nimport FusionActionButton from \"@/components/actionButton/FusionActionButton.vue\";\nimport FusionTextInput from \"@/components/TextInput/FusionTextInput.vue\";\nimport { ChevronDown, ChevronRight, ChevronLeft } from \"lucide-vue-next\";\nimport dayjs from \"dayjs\";\n\nconst props = defineProps({\n  modelValue: String, // \"YYYY-MM\"\n  min: String, // \"YYYY-MM\"\n  max: String, // \"YYYY-MM\"\n  formWrapperWidth: String,\n  size: {\n    type: String,\n    default: \"md\",\n    validator: (v) => [\"sm\", \"md\", \"lg\"].includes(v),\n  },\n  error: {\n    type: [String, null],\n    default: null,\n  },\n  required: {\n    type: Boolean,\n    default: false,\n  },\n  disabled: {\n    type: Boolean,\n    default: false,\n  },\n  label: String,\n});\n\nconst emit = defineEmits([\"update:modelValue\"]);\n\nconst calendarOpen = ref(false);\nconst pickerRef = ref(null);\nconst calendarRef = ref(null);\n\n// Vista: 'months' o 'years'\nconst viewMode = ref(\"months\");\n\n// Mantiene el aÃ±o que se estÃ¡ viendo (para mostrar meses o aÃ±os)\nconst currentYear = ref(dayjs().year());\n\nconst months = [\n  \"Jan\",\n  \"Feb\",\n  \"Mar\",\n  \"Apr\",\n  \"May\",\n  \"Jun\",\n  \"Jul\",\n  \"Aug\",\n  \"Sep\",\n  \"Oct\",\n  \"Nov\",\n  \"Dec\",\n];\n\n// Calcula el rango de aÃ±os para vista aÃ±o (p.ej 12 aÃ±os alrededor)\nconst yearsRangeCount = 12;\nconst yearRangeStart = computed(\n  () => currentYear.value - (currentYear.value % yearsRangeCount)\n);\nconst yearRangeEnd = computed(() => yearRangeStart.value + yearsRangeCount - 1);\nconst yearsRange = computed(() => {\n  const start = yearRangeStart.value;\n  return Array.from({ length: yearsRangeCount }, (_, i) => start + i);\n});\n\n// Convierte modelValue a objeto dayjs para comparaciÃ³n\nconst selectedMonth = computed(() => {\n  if (!props.modelValue) return null;\n  const parsed = dayjs(props.modelValue, \"YYYY-MM\", true);\n  return parsed.isValid() ? parsed : null;\n});\n\nfunction isSelectedMonth(monthIndex) {\n  if (!selectedMonth.value) return false;\n  return (\n    selectedMonth.value.month() === monthIndex &&\n    selectedMonth.value.year() === currentYear.value\n  );\n}\n\nfunction isDisabledMonth(monthIndex) {\n  const date = dayjs(\n    `${currentYear.value}-${(monthIndex + 1).toString().padStart(2, \"0\")}`,\n    \"YYYY-MM\"\n  );\n  if (props.min && date.isBefore(dayjs(props.min, \"YYYY-MM\"), \"month\")) return true;\n  if (props.max && date.isAfter(dayjs(props.max, \"YYYY-MM\"), \"month\")) return true;\n  return false;\n}\n\nfunction selectYear(year) {\n  currentYear.value = year;\n  viewMode.value = \"months\";\n}\nfunction selectMonth(monthIndex) {\n  if (isDisabledMonth(monthIndex)) return;\n  const selected = dayjs(\n    `${currentYear.value}-${(monthIndex + 1).toString().padStart(2, \"0\")}`,\n    \"YYYY-MM\"\n  );\n  // Emit in \"MMM, YYYY\" format\n  emit(\"update:modelValue\", selected.format(\"MMM, YYYY\"));\n  calendarOpen.value = false;\n}\n\nfunction selectThisMonth() {\n  const now = dayjs();\n  currentYear.value = now.year();\n  emit(\"update:modelValue\", now.format(\"MMM, YYYY\"));\n  calendarOpen.value = false;\n}\n\nfunction toggleCalendar() {\n  if (props.disabled) return;\n  calendarOpen.value = !calendarOpen.value;\n\n  if (calendarOpen.value) {\n    // Ajustar el aÃ±o actual segÃºn el modelValue cuando se abre calendario\n    if (selectedMonth.value) currentYear.value = selectedMonth.value.year();\n\n    nextTick(() => {\n      positionCalendar();\n      window.addEventListener(\"resize\", positionCalendar);\n      window.addEventListener(\"click\", onClickOutside);\n    });\n  } else {\n    window.removeEventListener(\"resize\", positionCalendar);\n    window.removeEventListener(\"click\", onClickOutside);\n  }\n}\n\nfunction closeCalendar() {\n  calendarOpen.value = false;\n  window.removeEventListener(\"resize\", positionCalendar);\n  window.removeEventListener(\"click\", onClickOutside);\n}\n\nfunction onClickOutside(e) {\n  if (!pickerRef.value?.contains(e.target) && !calendarRef.value?.contains(e.target)) {\n    closeCalendar();\n  }\n}\n\nconst calendarPosition = ref({\n  position: \"absolute\",\n  top: \"0px\",\n  left: \"0px\",\n  zIndex: 9999,\n});\n\nfunction positionCalendar() {\n  if (!pickerRef.value || !calendarRef.value) return;\n\n  const pickerRect = pickerRef.value.getBoundingClientRect();\n  const calendarRect = calendarRef.value.getBoundingClientRect();\n\n  const spaceBelow = window.innerHeight - pickerRect.bottom;\n  const spaceAbove = pickerRect.top;\n\n  const scrollY = window.scrollY || window.pageYOffset;\n  const scrollX = window.scrollX || window.pageXOffset;\n\n  let top;\n\n  if (spaceBelow < calendarRect.height && spaceAbove > calendarRect.height) {\n    top = pickerRect.top + scrollY - calendarRect.height - 6;\n  } else {\n    top = pickerRect.bottom + scrollY + 6;\n  }\n\n  calendarPosition.value = {\n    position: \"absolute\",\n    top: `${top}px`,\n    left: `${pickerRect.left + scrollX}px`,\n    zIndex: 9999,\n  };\n}\n\nfunction toggleView() {\n  viewMode.value = viewMode.value === \"months\" ? \"years\" : \"months\";\n}\n\nfunction prevAction() {\n  if (viewMode.value === \"months\") {\n    currentYear.value--;\n  } else {\n    currentYear.value = Math.max(yearRangeStart.value - yearsRangeCount, 0);\n  }\n}\n\nfunction nextAction() {\n  if (viewMode.value === \"months\") {\n    currentYear.value++;\n  } else {\n    currentYear.value = yearRangeEnd.value + 1;\n  }\n}\n\nfunction clearSelection() {\n  emit(\"update:modelValue\", null);\n  calendarOpen.value = false;\n}\n\nconst displayValue = computed(() => {\n  return props.modelValue || \"\";\n});\n\nonBeforeUnmount(() => {\n  window.removeEventListener(\"resize\", positionCalendar);\n  window.removeEventListener(\"click\", onClickOutside);\n});\n</script>\n\n<style scoped>\n@import url(\"../style/style.scss\");\n</style>\n","<template>\n  <div class=\"fu-date-picker fu-date-picker--plain\" :style=\"{ width: formWrapperWidth }\">\n    <div class=\"fu-date-picker\" :style=\"{ width: formWrapperWidth }\">\n      <!-- Header -->\n      <div class=\"calendar-header\">\n        <button @click=\"toggleView\">\n          <template v-if=\"viewMode === 'days'\">{{\n            currentMonth.format(\"MMMM YYYY\")\n          }}</template>\n          <template v-else-if=\"viewMode === 'months'\">{{ currentMonth.year() }}</template>\n          <template v-else>{{ yearRangeStart }} - {{ yearRangeEnd }}</template>\n        </button>\n\n        <div class=\"flex flex--gap-sm\">\n          <button @click=\"prevAction\">\n            <ChevronLeft :size=\"16\" color=\"var(--fu-color-text)\" />\n          </button>\n\n          <button @click=\"nextAction\">\n            <ChevronRight :size=\"16\" />\n          </button>\n        </div>\n      </div>\n\n      <!-- Days -->\n      <div v-if=\"viewMode === 'days'\">\n        <div class=\"calendar-weekdays\">\n          <div v-for=\"d in weekdays\" :key=\"d\" class=\"calendar-weekday\">{{ d }}</div>\n        </div>\n\n        <div class=\"calendar-days\">\n          <div\n            v-for=\"day in daysInCalendar\"\n            :key=\"day.date.toString()\"\n            class=\"calendar-day\"\n            :class=\"{\n              'calendar-day--other-month': !day.isCurrentMonth,\n              'calendar-day--selected': isSelected(day.date),\n              'calendar-day--disabled': isDisabled(day.date),\n            }\"\n            @click=\"selectDate(day.date)\"\n          >\n            {{ day.date.date() }}\n          </div>\n        </div>\n      </div>\n\n      <!-- Months -->\n      <div v-else-if=\"viewMode === 'months'\" class=\"calendar-months\">\n        <div\n          v-for=\"(m, i) in months\"\n          :key=\"m\"\n          class=\"calendar-month\"\n          :class=\"{ 'calendar-month--selected': i === currentMonth.month() }\"\n          @click=\"selectMonth(i)\"\n        >\n          {{ m }}\n        </div>\n      </div>\n\n      <!-- Years -->\n      <div v-else class=\"calendar-years\">\n        <div\n          v-for=\"year in yearsRange\"\n          :key=\"year\"\n          class=\"calendar-year\"\n          :class=\"{ 'calendar-year--selected': year === currentMonth.year() }\"\n          @click=\"selectYear(year)\"\n        >\n          {{ year }}\n        </div>\n      </div>\n\n      <!-- Time Picker -->\n      <div v-if=\"variant === 'date-time'\" class=\"calendar-time\">\n        <FusionTextInput\n          type=\"text\"\n          v-model=\"timeValue\"\n          placeholder=\"HH:mm or 4:30pm\"\n          @focus=\"timeOpen = true\"\n          @keydown.enter.prevent=\"applyTypedTime\"\n          formWrapperWidth=\"100%\"\n        >\n          <template #right>\n            <ChevronDown />\n          </template>\n        </FusionTextInput>\n\n        <div v-if=\"timeOpen\" class=\"fu-time-dropdown customScrollBar\">\n          <div\n            v-for=\"opt in filteredTimeOptions\"\n            :key=\"opt\"\n            class=\"fu-time-option\"\n            @mousedown.prevent=\"selectTime(opt)\"\n          >\n            {{ opt }}\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, watch } from \"vue\";\nimport dayjs from \"dayjs\";\nimport FusionButton from \"@/components/button/FusionButton.vue\";\nimport FusionActionButton from \"@/components/actionButton/FusionActionButton.vue\";\nimport FusionTextInput from \"@/components/TextInput/FusionTextInput.vue\";\nimport { ChevronLeft, ChevronRight, ChevronDown } from \"lucide-vue-next\";\n\n// Props\nconst props = defineProps({\n  modelValue: String,\n  variant: { type: String, default: \"date\" }, // \"date\" or \"date-time\"\n  formWrapperWidth: String,\n});\n\n// Emits\nconst emit = defineEmits([\"update:modelValue\"]);\n\n// State\nconst currentMonth = ref(dayjs().startOf(\"month\"));\nconst selectedDate = ref(null);\nconst timeValue = ref(\"00:00\");\nconst viewMode = ref(\"days\");\nconst timeOpen = ref(false);\n\n// Weekdays & Months\nconst weekdays = [\"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\"];\nconst months = [\n  \"Jan\",\n  \"Feb\",\n  \"Mar\",\n  \"Apr\",\n  \"May\",\n  \"Jun\",\n  \"Jul\",\n  \"Aug\",\n  \"Sep\",\n  \"Oct\",\n  \"Nov\",\n  \"Dec\",\n];\n\n// Year pagination\nconst yearsPerPage = 12;\nconst yearRangeStart = computed(\n  () => Math.floor(currentMonth.value.year() / yearsPerPage) * yearsPerPage\n);\nconst yearRangeEnd = computed(() => yearRangeStart.value + yearsPerPage - 1);\nconst yearsRange = computed(() =>\n  Array.from({ length: yearsPerPage }, (_, i) => yearRangeStart.value + i)\n);\n\n// Calendar days\nconst daysInCalendar = computed(() => {\n  const start = currentMonth.value.startOf(\"month\").startOf(\"week\");\n  const end = currentMonth.value.endOf(\"month\").endOf(\"week\");\n  const days = [];\n  let d = start.clone();\n  while (d.isBefore(end) || d.isSame(end, \"day\")) {\n    days.push({\n      date: d.clone(),\n      isCurrentMonth: d.month() === currentMonth.value.month(),\n    });\n    d = d.add(1, \"day\");\n  }\n  return days;\n});\n\n// Time options\nconst timeOptions = computed(() => {\n  const list = [];\n  for (let h = 0; h < 24; h++) {\n    for (let m = 0; m < 60; m += 15) {\n      list.push(dayjs().hour(h).minute(m).format(\"h:mm A\"));\n    }\n  }\n  return list;\n});\nconst filteredTimeOptions = computed(() => timeOptions.value);\n\n// Helpers\nconst isDisabled = () => false;\nconst isInRange = () => false;\nconst isSelected = (date) => selectedDate.value && date.isSame(selectedDate.value, \"day\");\n\n// Select date\nfunction selectDate(date) {\n  selectedDate.value = date.clone();\n  if (props.variant === \"date-time\") {\n    const combined = dayjs(\n      `${selectedDate.value.format(\"YYYY-MM-DD\")} ${timeValue.value}`,\n      \"YYYY-MM-DD HH:mm\"\n    );\n    emit(\"update:modelValue\", combined.format(\"YYYY-MM-DDTHH:mm\"));\n  } else {\n    emit(\"update:modelValue\", selectedDate.value.format(\"YYYY-MM-DD\"));\n  }\n}\n\n// Navigation\nconst prevAction = () => (currentMonth.value = currentMonth.value.subtract(1, \"month\"));\nconst nextAction = () => (currentMonth.value = currentMonth.value.add(1, \"month\"));\nconst toggleView = () =>\n  (viewMode.value =\n    viewMode.value === \"days\"\n      ? \"months\"\n      : viewMode.value === \"months\"\n      ? \"years\"\n      : \"days\");\nconst selectMonth = (i) => {\n  currentMonth.value = currentMonth.value.month(i);\n  viewMode.value = \"days\";\n};\nconst selectYear = (y) => {\n  currentMonth.value = currentMonth.value.year(y);\n  viewMode.value = \"months\";\n};\n\n// Time handlers\nfunction applyTypedTime() {\n  if (!selectedDate.value) return;\n  const parsed = dayjs(`${selectedDate.value.format(\"YYYY-MM-DD\")} ${timeValue.value}`, [\n    \"YYYY-MM-DD HH:mm\",\n    \"YYYY-MM-DD h:mm A\",\n  ]);\n  if (parsed.isValid()) {\n    timeValue.value = parsed.format(\"HH:mm\");\n    emit(\"update:modelValue\", parsed.format(\"YYYY-MM-DDTHH:mm\"));\n    timeOpen.value = false;\n  }\n}\nfunction selectTime(val) {\n  if (!selectedDate.value) return;\n  timeValue.value = dayjs(val, \"h:mm A\").format(\"HH:mm\");\n  const combined = dayjs(\n    `${selectedDate.value.format(\"YYYY-MM-DD\")} ${timeValue.value}`,\n    \"YYYY-MM-DD HH:mm\"\n  );\n  emit(\"update:modelValue\", combined.format(\"YYYY-MM-DDTHH:mm\"));\n  timeOpen.value = false;\n}\n\n// Sync external modelValue and select automatically\nwatch(\n  () => props.modelValue,\n  (val) => {\n    if (!val) {\n      selectedDate.value = null;\n      return;\n    }\n\n    const parsed = dayjs(val);\n    if (parsed.isValid()) {\n      selectedDate.value = parsed; // ensure this is a dayjs object\n      currentMonth.value = parsed.startOf(\"month\");\n      if (props.variant === \"date-time\") {\n        timeValue.value = parsed.format(\"HH:mm\");\n      }\n    }\n  },\n  { immediate: true }\n);\n</script>\n\n<style scoped>\n.fu-date-picker {\n  position: relative;\n  font-family: inherit;\n}\n\n.fu-date-picker__range {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n\n.fu-date-picker__range-separator {\n  user-select: none;\n  color: var(--fu-color-text-muted, #666);\n}\n\n.fu-date-picker__calendar-overlay {\n  position: fixed;\n  inset: 0;\n  background: rgba(0, 0, 0, 0.15);\n  z-index: 9998;\n}\n\n.fu-date-picker__calendar {\n  background: var(--fu-content-body);\n  border: 1px solid var(--fu-border);\n  border-radius: var(--fu-rounded-xl);\n  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);\n  width: 240px;\n  user-select: none;\n}\n\n.calendar-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  font-size: 0.625rem;\n  padding: 0.5rem;\n}\n\n.calendar-header button {\n  background: none;\n  border: none;\n  cursor: pointer;\n  font-size: 0.625rem;\n  line-height: 1;\n  user-select: none;\n  color: var(--fu-color-text);\n}\n\n.calendar-header-title {\n  cursor: pointer;\n  user-select: none;\n}\n\n.calendar-weekdays {\n  display: grid;\n  grid-template-columns: repeat(7, 1fr);\n  font-weight: 600;\n  color: var(--fu-color-text-muted, #666);\n  margin-bottom: 0.25rem;\n  user-select: none;\n}\n\n.calendar-weekday {\n  text-align: center;\n  font-size: 0.625rem;\n}\n\n.calendar-days {\n  display: grid;\n  grid-template-columns: repeat(7, 1fr);\n  gap: 0.2rem;\n  padding: 0.5rem;\n}\n\n.calendar-day {\n  color: var(--fu-color-text);\n  font-size: 0.625rem;\n  text-align: center;\n  padding: 0.4rem 0.2rem;\n  border-radius: var(--fu-rounded-md, 4px);\n  cursor: pointer;\n  user-select: none;\n  transition: background-color 0.15s ease-in-out;\n}\n\n.calendar-day--other-month {\n  color: #7c7c7c;\n}\n\n.calendar-day--disabled {\n  color: #ddd;\n  cursor: not-allowed;\n}\n\n.calendar-day--selected {\n  background-color: var(--fu-button-solid);\n  color: var(--fu-button-solid-text);\n  font-weight: 700;\n}\n\n.calendar-day--in-range {\n  background-color: var(--fu-color-surface-gray-3);\n  color: var(--fu-color-text);\n}\n\n.fu-time-input-wrapper {\n  position: relative;\n}\n\n.fu-time-input {\n  width: 100%;\n  padding: 0.4rem 0.5rem;\n  border: 1px solid var(--fu-border, #ccc);\n  border-radius: 4px;\n  font-size: 0.625rem;\n}\n\n.fu-time-dropdown {\n  position: absolute;\n  z-index: 20;\n\n  /* OPEN UP */\n  bottom: calc(100% + 4px);\n  left: 0;\n  right: 0;\n  color: var(--fu-color-text);\n  max-height: 160px;\n  overflow-y: auto;\n  background: var(--fu-surface-background);\n  border: 0.5px solid var(--fu-border);\n  border-radius: 4px;\n  box-shadow: 0 -6px 12px rgba(0, 0, 0, 0.15);\n}\n\n.fu-time-option {\n  padding: 0.35rem 0.5rem;\n  cursor: pointer;\n  font-size: 0.85rem;\n}\n\n.fu-time-option:hover {\n  background: var(--fu-surface-hover);\n  color: var(--fu-color-text);\n}\n\n.fu-month-picker {\n  position: relative;\n  font-family: inherit;\n}\n\n.fu-month-picker__calendar-overlay {\n  position: fixed;\n  inset: 0;\n  background: rgba(0, 0, 0, 0.15);\n  z-index: 9998;\n}\n\n.fu-month-picker__calendar {\n  background: var(--fu-content-body);\n  border: 1px solid var(--fu-border);\n  border-radius: var(--fu-rounded-xl);\n  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);\n  width: 240px;\n  user-select: none;\n}\n\n.calendar-months {\n  color: var(--fu-color-text);\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 0.3rem;\n  padding: 0.5rem;\n}\n\n.calendar-month {\n  font-size: 0.625rem;\n  text-align: center;\n  padding: 0.6rem 0.4rem;\n  border-radius: var(--fu-rounded-md, 4px);\n  cursor: pointer;\n  user-select: none;\n  transition: background-color 0.15s ease-in-out;\n  border: 1px solid transparent;\n}\n\n.calendar-month--selected {\n  background-color: var(--fu-button-solid);\n  color: var(--fu-button-solid-text);\n  border-color: var(--fu-button-solid);\n}\n\n.calendar-month--disabled {\n  cursor: not-allowed;\n  opacity: 0.5;\n  pointer-events: none;\n}\n\n.calendar-year {\n  color: var(--fu-color-text);\n  font-size: 0.625rem;\n  text-align: center;\n  padding: 0.6rem 0.4rem;\n  border-radius: var(--fu-rounded-md, 4px);\n  cursor: pointer;\n  user-select: none;\n  transition: background-color 0.15s ease-in-out;\n  font-weight: 400;\n  border: 1px solid transparent;\n  margin: 0.2rem;\n}\n\n.calendar-year--selected {\n  background-color: var(--fu-button-solid);\n  color: var(--fu-button-solid-text);\n  border-color: var(--fu-button-solid);\n}\n\n.calendar-years {\n  color: var(--fu-color-text);\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 0.3rem;\n  padding: 0.5rem;\n}\n</style>\n","<template>\n  <div class=\"fu-time-picker\" ref=\"inputRef\">\n    <FusionTextInput\n      type=\"text\"\n      v-model=\"timeValue\"\n      placeholder=\"HH:mm or 4:30pm\"\n      @focus=\"\n        timeOpen = true;\n        calculatePosition();\n      \"\n      @input=\"onTimeInput\"\n      @keydown.enter.prevent=\"applyTypedTime\"\n      @blur=\"onTimeBlur\"\n      :label=\"label\"\n      :error=\"error\"\n      :required=\"required\"\n      :disabled=\"disabled\"\n      :size=\"size\"\n      :formWrapperWidth=\"formWrapperWidth\"\n    >\n      <template #right>\n        <ChevronDown />\n      </template>\n    </FusionTextInput>\n\n    <Teleport to=\"body\">\n      <div\n        v-if=\"timeOpen\"\n        ref=\"dropdownRef\"\n        class=\"fu-time-dropdown customScrollBar\"\n        :class=\"{ 'open-up': openUpwards }\"\n        :style=\"{\n          left: inputRect.left + 'px',\n          width: inputRect.width + 'px',\n          top: openUpwards\n            ? inputRect.top - dropdownHeight + 'px'\n            : inputRect.bottom + 'px',\n        }\"\n      >\n        <div\n          v-for=\"(opt, index) in visibleTimeOptions\"\n          :key=\"opt.value\"\n          class=\"fu-time-option\"\n          :ref=\"(el) => setFirstVisible(el, index)\"\n          @mousedown.prevent=\"selectTime(opt.value)\"\n        >\n          {{ opt.label }}\n        </div>\n      </div>\n    </Teleport>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, onMounted, onBeforeUnmount, watch, nextTick } from \"vue\";\nimport FusionTextInput from \"@/components/TextInput/FusionTextInput.vue\";\nimport { ChevronDown } from \"lucide-vue-next\";\n\nconst props = defineProps({\n  modelValue: String,\n  interval: { type: Number, default: 30 },\n  error: String,\n  label: String,\n  required: Boolean,\n  disabled: Boolean,\n  size: String,\n  formWrapperWidth: String,\n});\n\nconst emit = defineEmits([\"update:modelValue\", \"change\"]);\n\nconst timeValue = ref(props.modelValue || \"\");\nconst timeOpen = ref(false);\nconst openUpwards = ref(false);\nconst inputRef = ref(null);\nconst dropdownRef = ref(null);\nconst inputRect = ref({ left: 0, top: 0, bottom: 0, width: 0 });\nconst dropdownHeight = 240;\nconst firstVisibleOption = ref(null);\n\n/* ------------------ Time options ------------------ */\nconst timeOptions = computed(() => {\n  const opts = [];\n  for (let h = 0; h < 24; h++) {\n    for (let m = 0; m < 60; m += props.interval) {\n      const date = new Date();\n      date.setHours(h, m, 0);\n      opts.push({\n        label: date.toLocaleTimeString([], {\n          hour: \"numeric\",\n          minute: \"2-digit\",\n          hour12: true,\n        }),\n        value: `${String(h).padStart(2, \"0\")}:${String(m).padStart(2, \"0\")}`,\n      });\n    }\n  }\n  return opts;\n});\n\nconst filteredTimeOptions = computed(() =>\n  timeValue.value\n    ? timeOptions.value.filter((t) =>\n        t.label.toLowerCase().includes(timeValue.value.toLowerCase())\n      )\n    : timeOptions.value\n);\n\nconst visibleTimeOptions = computed(() =>\n  filteredTimeOptions.value.length ? filteredTimeOptions.value : timeOptions.value\n);\n\n/* ------------------ Input handler ------------------ */\nconst onTimeInput = (e) => {\n  let val = e.target.value.toLowerCase();\n  val = val.replace(/[^0-9:apm]/g, \"\");\n\n  const input = e.target;\n\n  // Auto-insert colon after two digits\n  if (/^\\d{2}$/.test(val)) {\n    val += \":\";\n    timeValue.value = val;\n    nextTick(() => input.setSelectionRange(3, 3));\n    return;\n  }\n\n  timeValue.value = val;\n};\n\n/* ------------------ Normalize ------------------ */\nconst normalizeTime = (val) => {\n  if (!val) return null;\n  const match = val\n    .trim()\n    .toLowerCase()\n    .match(/^(\\d{1,2})(?::(\\d{2}))?\\s?(am|pm)?$/);\n  if (!match) return null;\n\n  let hour = parseInt(match[1], 10);\n  const min = parseInt(match[2] || \"00\", 10);\n  const meridian = match[3];\n\n  if (meridian === \"pm\" && hour < 12) hour += 12;\n  if (meridian === \"am\" && hour === 12) hour = 0;\n\n  if (hour > 23 || min > 59) return null;\n\n  const hour12 = hour % 12 || 12;\n  const displayMeridian = hour < 12 ? \"am\" : \"pm\";\n  return `${String(hour12).padStart(2, \"0\")}:${String(min).padStart(\n    2,\n    \"0\"\n  )}${displayMeridian}`;\n};\n\n/* ------------------ Dropdown ------------------ */\nconst calculatePosition = () => {\n  if (!inputRef.value) return;\n  const rect = inputRef.value.getBoundingClientRect();\n  inputRect.value = {\n    left: rect.left,\n    top: rect.top,\n    bottom: rect.bottom,\n    width: rect.width,\n  };\n  const spaceBelow = window.innerHeight - rect.bottom;\n  const spaceAbove = rect.top;\n  openUpwards.value = spaceBelow < dropdownHeight && spaceAbove > spaceBelow;\n};\n\nconst setFirstVisible = (el, index) => {\n  if (index === 0 && el) firstVisibleOption.value = el;\n};\n\nconst selectTime = (time) => {\n  timeValue.value = time;\n  emit(\"update:modelValue\", time);\n  emit(\"change\", time);\n  timeOpen.value = false;\n};\n\nconst applyTypedTime = () => {\n  const normalized = normalizeTime(timeValue.value);\n  if (!normalized) return;\n  timeValue.value = normalized;\n  emit(\"update:modelValue\", normalized);\n  emit(\"change\", normalized);\n  timeOpen.value = false;\n};\n\nconst onTimeBlur = () =>\n  setTimeout(() => {\n    applyTypedTime();\n    timeOpen.value = false;\n  }, 120);\n\n/* ------------------ Watches ------------------ */\nwatch(\n  () => props.modelValue,\n  (v) => (timeValue.value = v || \"\")\n);\nwatch(timeValue, async () => {\n  await nextTick();\n  if (firstVisibleOption.value)\n    firstVisibleOption.value.scrollIntoView({ behavior: \"smooth\", block: \"nearest\" });\n});\n\n/* ------------------ Lifecycle ------------------ */\nconst onResize = () => calculatePosition();\nonMounted(() => {\n  window.addEventListener(\"resize\", onResize);\n  nextTick(calculatePosition);\n});\nonBeforeUnmount(() => window.removeEventListener(\"resize\", onResize));\n</script>\n\n<style scoped lang=\"scss\">\n.fu-time-dropdown {\n  position: fixed;\n  max-width: 180px;\n  max-height: 240px;\n  overflow-y: auto;\n  background: var(--fu-content-body);\n  color: var(--fu-color-text);\n  border: 0.5px solid var(--fu-border);\n  border-radius: 4px;\n  z-index: 9999;\n  box-shadow: 0 -6px 12px rgba(0, 0, 0, 0.15);\n}\n.fu-time-option {\n  padding: 8px 12px;\n  cursor: pointer;\n  user-select: none;\n}\n.fu-time-option:hover {\n  background: var(--fu-surface-hover);\n  color: var(--fu-color-text);\n}\n</style>\n","<template>\n  <transition name=\"drawer-fade\">\n    <div v-if=\"open\" class=\"fu-drawer\">\n      <div class=\"fu-drawer__backdrop\" @click=\"$emit('close')\"></div>\n\n      <div\n        class=\"fu-drawer__panel\"\n        :class=\"[\n          `fu-drawer__panel--${position}`,\n          `fu-drawer__panel--${size}`,\n          { 'fu-drawer__panel--with-controls': showControls },\n        ]\"\n      >\n        <div\n          class=\"fu-drawer__header\"\n          :class=\"{ 'border-bottom-0': hideHeaderBorder }\"\n          v-if=\"$slots.header || showControls\"\n        >\n          <div class=\"fu-drawer__header-content\">\n            <slot name=\"header\"></slot>\n          </div>\n\n          <div class=\"fu-drawer__header-actions\" v-if=\"showControls\">\n            <FusionActionButton\n              size=\"sm\"\n              variant=\"subtle\"\n              :icon=\"X\"\n              @click=\"$emit('close')\"\n            />\n          </div>\n        </div>\n\n        <div class=\"fu-drawer__body\">\n          <slot class=\"slot-body\" />\n        </div>\n\n        <div\n          class=\"fu-drawer__nav\"\n          :class=\"[\n            position === 'right' ? 'fu-drawer__nav--left' : '',\n            position === 'left' ? 'fu-drawer__nav--right' : '',\n            position === 'bottom' ? 'fu-drawer__nav--center' : '',\n          ]\"\n        >\n          <FusionActionButton\n            v-if=\"canPrev\"\n            size=\"sm\"\n            variant=\"subtle\"\n            :icon=\"ChevronUp\"\n            @click=\"$emit('prev')\"\n          />\n          <FusionActionButton\n            v-if=\"canNext\"\n            size=\"sm\"\n            variant=\"subtle\"\n            :icon=\"ChevronDown\"\n            @click=\"$emit('next')\"\n          />\n        </div>\n\n        <div class=\"fu-drawer__footer\">\n          <slot name=\"footer\"></slot>\n        </div>\n      </div>\n    </div>\n  </transition>\n</template>\n\n<script setup lang=\"ts\">\nimport { ChevronUp, ChevronDown, X } from \"lucide-vue-next\";\nimport { onMounted, onBeforeUnmount } from \"vue\";\nimport FusionActionButton from \"@/components/actionButton/FusionActionButton.vue\";\n\nexport interface FusionDrawerProps {\n  open: boolean;\n  title?: string;\n  position?: \"left\" | \"right\" | \"bottom\";\n  size?: \"half\" | \"full\";\n  showControls?: boolean;\n  hideHeaderBorder?: boolean;\n  canNext?: boolean;\n  canPrev?: boolean;\n}\n\nconst props = withDefaults(defineProps<FusionDrawerProps>(), {\n  position: \"right\",\n  size: \"half\",\n  showControls: true,\n  hideHeaderBorder: false,\n});\n\nconst emit = defineEmits<{\n  (e: \"close\"): void;\n  (e: \"next\"): void;\n  (e: \"prev\"): void;\n}>();\n\nfunction handleKeydown(e: KeyboardEvent) {\n  if (e.key === \"Escape\" && props.open) emit(\"close\");\n}\n\nonMounted(() => window.addEventListener(\"keydown\", handleKeydown));\nonBeforeUnmount(() => window.removeEventListener(\"keydown\", handleKeydown));\n</script>\n\n<style scoped lang=\"scss\">\n.fu-drawer {\n  position: fixed;\n  inset: 0;\n  z-index: 999;\n  display: flex;\n}\n\n.fu-drawer__backdrop {\n  position: absolute;\n  inset: 0;\n  background: rgba(0, 0, 0, 0.45);\n  backdrop-filter: blur(2px);\n}\n\n.fu-drawer__panel {\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  background-color: var(--fu-content-body);\n  height: 100%;\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.15);\n  transition: transform 0.3s ease;\n}\n\n.fu-drawer__panel--right {\n  right: 0;\n  top: 0;\n  border-left: 1px solid var(--fu-border);\n}\n\n.fu-drawer__panel--left {\n  left: 0;\n  top: 0;\n  border-right: 1px solid var(--fu-border);\n}\n\n.fu-drawer__panel--bottom {\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  border-top-left-radius: 1rem;\n  border-top-right-radius: 1rem;\n  border-top: 1px solid var(--fu-border);\n}\n\n.fu-drawer__panel--half {\n  width: 50%;\n  max-width: 640px;\n}\n\n.fu-drawer__panel--full {\n  width: 70%;\n  max-width: 1200px;\n}\n\n@media (max-width: 768px) {\n  .fu-drawer__panel--half,\n  .fu-drawer__panel--full {\n    width: 100%;\n    max-width: none;\n  }\n}\n\n.fu-drawer__header {\n  padding: 1rem;\n  border-bottom: 1px solid var(--fu-border);\n  background-color: var(--fu-content-body);\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n\n.fu-drawer__footer {\n  padding: 1rem;\n  border-top: 1px solid var(--fu-border);\n}\n\n.fu-drawer__header-content {\n  flex: 1;\n}\n\n.fu-drawer__header-actions {\n  margin-left: 0.75rem;\n}\n\n.border-bottom-0 {\n  border-bottom: none !important;\n}\n\n.fu-drawer__body {\n  flex: 1 1 0;\n  height: 100%;\n  padding: 0;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n\n.fu-drawer__nav {\n  position: absolute;\n  top: 0.75rem;\n  display: flex;\n  flex-direction: column;\n  gap: 0.3rem;\n}\n\n.fu-drawer__nav--left {\n  left: -2.25rem;\n}\n\n.fu-drawer__nav--right {\n  right: -2.25rem;\n}\n\n.fu-drawer__nav--center {\n  left: 50%;\n  transform: translateX(-50%);\n}\n\n.drawer-fade-enter-active,\n.drawer-fade-leave-active {\n  transition: all 0.3s ease;\n}\n\n.drawer-fade-enter-from,\n.drawer-fade-leave-to {\n  opacity: 0;\n}\n\n.fu-drawer__panel--bottom {\n  animation: slideUp 0.3s ease forwards;\n}\n\n@keyframes slideUp {\n  from {\n    transform: translateY(100%);\n    opacity: 0;\n  }\n  to {\n    transform: translateY(0);\n    opacity: 1;\n  }\n}\n</style>\n","<template>\n  <div class=\"fu-dropdown\" ref=\"dropdown\">\n    <!-- Main button -->\n    <button class=\"fu-dropdown__button\" @click=\"toggleDropdown\">\n      {{ buttonText }}\n      <component v-if=\"buttonIcon\" :is=\"buttonIcon\" class=\"fu-dropdown__icon\" />\n    </button>\n\n    <!-- Teleported dropdown -->\n    <Teleport to=\"body\">\n      <ul\n        v-if=\"dropdownOpen\"\n        class=\"fu-dropdown__menu\"\n        :class=\"[`fu-dropdown__menu--${align}`, { show: dropdownOpen }]\"\n        :style=\"menuStyle\"\n        ref=\"menuRef\"\n      >\n        <li v-for=\"action in actions\" :key=\"action.label\">\n          <a class=\"fu-dropdown__item\" @click=\"performClick(action)\">\n            <component v-if=\"action.icon\" :is=\"action.icon\" class=\"fu-dropdown__icon\" />\n            {{ action.label }}\n          </a>\n        </li>\n      </ul>\n    </Teleport>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, onMounted, onBeforeUnmount, nextTick, watch } from \"vue\";\nimport type { Component } from \"vue\";\n\ninterface Action {\n  label: string;\n  icon?: Component;\n  onClick?: () => void;\n}\n\ninterface Props {\n  buttonText: string;\n  buttonIcon?: Component;\n  actions: Action[];\n  align?: \"left\" | \"center\" | \"right\";\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  align: \"right\",\n});\n\nconst dropdownOpen = ref(false);\nconst dropdown = ref<HTMLElement | null>(null);\nconst menuRef = ref<HTMLElement | null>(null);\nconst menuStyle = ref<Record<string, string>>({});\n\n\nlet activeDropdown: HTMLElement | null = null;\n\nfunction toggleDropdown() {\n  dropdownOpen.value = !dropdownOpen.value;\n\n  if (dropdownOpen.value) {\n    if (activeDropdown && activeDropdown !== dropdown.value) {\n      const event = new CustomEvent(\"close-other-dropdowns\");\n      document.dispatchEvent(event);\n    }\n    activeDropdown = dropdown.value;\n    nextTick(updateMenuPosition);\n  }\n}\n\nfunction updateMenuPosition() {\n  const button = dropdown.value?.querySelector(\"button\");\n  if (!button || !menuRef.value) return;\n\n  const rect = button.getBoundingClientRect();\n  const menuWidth = menuRef.value.offsetWidth;\n\n  const positions: Record<string, string> = {\n    left: `${rect.left}px`,\n    top: `${rect.bottom + 4}px`,\n  };\n\n  if (props.align === \"right\") {\n    positions.left = `${rect.right - menuWidth}px`;\n  } else if (props.align === \"center\") {\n    positions.left = `${rect.left + rect.width / 2 - menuWidth / 2}px`;\n  }\n\n  menuStyle.value = {\n    position: \"absolute\",\n    ...positions,\n    zIndex: \"1000\",\n  };\n}\n\nfunction performClick(action: Action) {\n  action.onClick?.();\n  dropdownOpen.value = false;\n}\n\nfunction handleClickOutside(event: MouseEvent) {\n  if (\n    dropdown.value &&\n    !dropdown.value.contains(event.target as Node) &&\n    menuRef.value &&\n    !menuRef.value.contains(event.target as Node)\n  ) {\n    dropdownOpen.value = false;\n  }\n}\n\nfunction closeOtherDropdowns() {\n  dropdownOpen.value = false;\n}\n\nonMounted(() => {\n  document.addEventListener(\"click\", handleClickOutside);\n  document.addEventListener(\"close-other-dropdowns\", closeOtherDropdowns);\n});\n\nonBeforeUnmount(() => {\n  document.removeEventListener(\"click\", handleClickOutside);\n  document.removeEventListener(\"close-other-dropdowns\", closeOtherDropdowns);\n});\n</script>\n\n<style scoped lang=\"scss\">\n@import url(\"./FusionDropdownButton.scss\");\n</style>\n","<template>\n  <div class=\"fu-dropdown-inline\" ref=\"inlineRef\">\n    <!-- Input-like display with color dot -->\n    <div class=\"fu-dropdown-inline__wrapper\">\n      <span v-if=\"selected\" class=\"fu-dropdown-inline__dot\" :style=\"{ backgroundColor: selected.color }\"></span>\n\n      <input ref=\"inputRef\" type=\"text\" class=\"fu-dropdown-inline__input\" :value=\"selected?.label || ''\"\n        :placeholder=\"placeholder\" readonly @focus=\"openDropdown\" />\n    </div>\n\n    <!-- Dropdown list -->\n    <teleport to=\"body\">\n      <ul v-if=\"editing\" class=\"fu-dropdown-inline__menu\" :style=\"dropdownStyle\">\n        <li v-for=\"option in options\" :key=\"option.label\" class=\"fu-dropdown-inline__item\"\n          @mousedown.prevent=\"selectOption(option)\">\n          <span class=\"fu-dropdown-inline__dot\" :style=\"{ backgroundColor: option.color }\"></span>\n          {{ option.label }}\n        </li>\n      </ul>\n    </teleport>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, watch, onMounted, onBeforeUnmount } from \"vue\";\n\ninterface Option {\n  label: string;\n  color: string;\n}\n\nconst props = defineProps<{\n  modelValue: Option | null;\n  options: Option[];\n  placeholder?: string;\n  isOpen?: boolean;\n}>();\n\nconst emit = defineEmits<{\n  (e: \"update:modelValue\", value: Option): void;\n  (e: \"open\"): void;\n  (e: \"close\"): void;\n}>();\n\nconst inlineRef = ref<HTMLElement | null>(null);\nconst inputRef = ref<HTMLInputElement | null>(null);\nconst selected = ref<Option | null>(props.modelValue || null);\nconst editing = ref(false);\nconst dropdownStyle = ref<Record<string, string>>({});\n\n\nwatch(\n  () => props.modelValue,\n  (val) => (selected.value = val)\n);\n\n\nwatch(\n  () => props.isOpen,\n  (val) => {\n    editing.value = !!val;\n    if (val) updatePosition();\n  }\n);\n\nfunction openDropdown() {\n  if (!editing.value) {\n    emit(\"open\");\n  }\n  editing.value = true;\n  updatePosition();\n}\n\nfunction selectOption(option: Option) {\n  selected.value = option;\n  emit(\"update:modelValue\", option);\n  emit(\"close\");\n  editing.value = false;\n  inputRef.value?.blur();\n}\n\nfunction handleClickOutside(e: MouseEvent) {\n  if (inlineRef.value && !inlineRef.value.contains(e.target as Node)) {\n    if (editing.value) emit(\"close\");\n    editing.value = false;\n  }\n}\n\nfunction updatePosition() {\n  const el = inlineRef.value;\n  if (!el) return;\n  const rect = el.getBoundingClientRect();\n  dropdownStyle.value = {\n    position: \"absolute\",\n    top: `${rect.bottom + 4}px`,\n    left: `${rect.left}px`,\n    width: `${rect.width}px`,\n    zIndex: \"9999\",\n  };\n}\n\nonMounted(() => {\n  window.addEventListener(\"click\", handleClickOutside);\n  window.addEventListener(\"resize\", updatePosition);\n});\nonBeforeUnmount(() => {\n  window.removeEventListener(\"click\", handleClickOutside);\n  window.removeEventListener(\"resize\", updatePosition);\n});\n</script>\n\n\n<style scoped lang=\"scss\">\n.fu-dropdown-inline {\n  display: inline-block;\n  width: 100%;\n  font-size: 14px;\n  position: relative;\n\n  &__wrapper {\n    display: flex;\n    align-items: center;\n    position: relative;\n    width: 100%;\n  }\n\n  &__dot {\n    width: 10px;\n    height: 10px;\n    border-radius: 50%;\n    flex-shrink: 0;\n    margin-left: 8px;\n    margin-right: 6px;\n  }\n\n  &__input {\n    width: 100%;\n    padding: 4px 8px;\n    background-color: inherit;\n    font-size: 14px;\n    outline: none;\n    cursor: pointer;\n    color: var(--fu-color-text);\n    transition: border-color 0.15s ease;\n    border: 0px;\n\n    &:focus {\n      border-color: var(--fu-accent, #2563eb);\n    }\n\n  }\n\n  &__menu {\n    position: absolute;\n    background: var(--fu-surface-background);\n    border: .5px solid var(--fu-border);\n    border-radius: var(--fu-radius, 6px);\n    box-shadow: 0 2px 10px #00000026;\n    padding: .375rem;\n    list-style: none;\n    margin: 0;\n    z-index: 9999;\n    max-height: 240px;\n    overflow-y: auto;\n  }\n\n  &__item {\n    display: flex;\n    border-radius: 4px;\n    align-items: center;\n    gap: 6px;\n    padding: 6px 8px;\n    cursor: pointer;\n    font-size: 14px;\n    color: var(--fu-color-text);\n    transition: background 0.15s ease;\n\n    &:hover {\n      background-color: var(--fu-surface-alt)\n    }\n  }\n}\n</style>\n","<template>\n  <div class=\"fu-dropdown\" ref=\"dropdown\">\n    <div class=\"fu-dropdown__trigger\" @click=\"toggleDropdown\">\n      <slot name=\"trigger\"></slot>\n    </div>\n\n    <teleport to=\"body\">\n      <transition name=\"fade\">\n        <div\n          v-if=\"dropdownOpen\"\n          class=\"fu-dropdown__menu\"\n          :class=\"[`fu-dropdown__menu--${align}`]\"\n          :style=\"menuPosition\"\n          ref=\"menuRef\"\n        >\n          <div v-if=\"content\" class=\"content\">\n            <slot name=\"content\"></slot>\n          </div>\n\n          <div class=\"flex w-100\" v-for=\"action in actions\" :key=\"action.label\">\n            <a class=\"fu-dropdown__item\" @click=\"performClick(action)\">\n              <component\n                v-if=\"action.icon\"\n                :is=\"action.icon\"\n                class=\"fu-dropdown__icon\"\n              />\n              {{ action.label }}\n            </a>\n          </div>\n        </div>\n      </transition>\n    </teleport>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, onMounted, onBeforeUnmount, watch, nextTick } from \"vue\";\nimport type { Component, CSSProperties } from \"vue\";\n\ninterface Action {\n  label: string;\n  icon?: Component;\n  onClick?: () => void;\n}\n\ninterface Props {\n  actions: Action[];\n  align?: \"left\" | \"center\" | \"right\";\n  content?: boolean;\n  isOpen?: boolean;\n  closeOnSelect?: boolean;\n}\n\nconst emit = defineEmits([\"open\", \"close\", \"update:isOpen\"]);\n\nconst props = withDefaults(defineProps<Props>(), {\n  align: \"right\",\n  content: false,\n  isOpen: undefined,\n  closeOnSelect: false,\n});\n\nconst dropdownOpen = ref(false);\nconst dropdown = ref<HTMLElement | null>(null);\nconst menuRef = ref<HTMLElement | null>(null);\nconst menuPosition = ref<CSSProperties>({\n  top: \"0px\",\n  left: \"0px\",\n});\n\n\nwatch(\n  () => props.isOpen,\n  (val) => {\n    if (typeof val === \"boolean\") dropdownOpen.value = val;\n  }\n);\n\nfunction toggleDropdown(event?: MouseEvent) {\n  event?.stopPropagation();\n\n  const willOpen = !dropdownOpen.value;\n\n  // Only close others when THIS one is opening\n  if (willOpen) {\n    document.dispatchEvent(new CustomEvent(\"close-all-dropdowns\"));\n  }\n\n  dropdownOpen.value = willOpen;\n\n  emit(willOpen ? \"open\" : \"close\");\n  emit(\"update:isOpen\", willOpen);\n\n  if (willOpen) nextTick(positionMenu);\n}\n\n\nfunction positionMenu() {\n  if (!dropdown.value || !menuRef.value) return;\n\n  const rect = dropdown.value.getBoundingClientRect();\n  const baseTop = rect.bottom + window.scrollY + 6;\n  const menuWidth = menuRef.value.offsetWidth;\n  let left = rect.left + window.scrollX;\n\n  if (props.align === \"center\") {\n    left += rect.width / 2 - menuWidth / 2;\n  } else if (props.align === \"right\") {\n    left = rect.right - menuWidth + window.scrollX;\n  }\n\n  menuPosition.value = {\n    position: \"absolute\",\n    top: `${baseTop}px`,\n    left: `${left}px`,\n    zIndex: \"2000\",\n  };\n}\n\nfunction performClick(action: Action, event?: MouseEvent) {\n  event?.stopPropagation();\n\n  action.onClick?.();\n\n  closeDropdown();\n}\n\n\nfunction handleClickOutside(event: MouseEvent) {\n  if (\n    dropdownOpen.value &&\n    dropdown.value &&\n    !dropdown.value.contains(event.target as Node) &&\n    menuRef.value &&\n    !menuRef.value.contains(event.target as Node)\n  ) {\n    closeDropdown();\n  }\n}\n\nfunction handleResize() {\n  if (dropdownOpen.value) closeDropdown();\n}\n\nfunction closeDropdown() {\n  dropdownOpen.value = false;\n  emit(\"close\");\n  emit(\"update:isOpen\", false);\n}\n\nfunction handleGlobalClose() {\n  closeDropdown();\n}\n\nonMounted(() => {\n  document.addEventListener(\"click\", handleClickOutside);\n  window.addEventListener(\"resize\", handleResize);\n  document.addEventListener(\"close-all-dropdowns\", handleGlobalClose);\n});\n\nonBeforeUnmount(() => {\n  document.removeEventListener(\"click\", handleClickOutside);\n  window.removeEventListener(\"resize\", handleResize);\n  document.removeEventListener(\"close-all-dropdowns\", handleGlobalClose);\n});\n</script>\n\n<style scoped lang=\"scss\">\n.fu-dropdown {\n  position: relative;\n  display: inline-block;\n\n  &__trigger {\n    cursor: pointer;\n    display: inline-flex;\n    align-items: center;\n  }\n}\n\n.fu-dropdown__menu {\n  position: absolute;\n  margin-top: 4px;\n  font-size: 14px;\n  background-color: var(--fu-surface-background);\n  border: 0.5px solid var(--fu-border);\n  border-radius: 6px;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.15);\n  padding: 0.375rem;\n\n\n   width: fit-content;\n    min-width: fit-content;\n    max-width: 220px;\n    overflow-x: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;  \n\n\n\n  \n\n\n\n\n  .content {\n    padding: 0.4rem 0.75rem;\n    border-bottom: 1px solid var(--fu-border);\n    margin-bottom: 0.3rem;\n  }\n\n  &--left {\n    transform-origin: top left;\n  }\n  &--center {\n    transform-origin: top center;\n  }\n  &--right {\n    transform-origin: top right;\n  }\n}\n\n/* Each list item truncates properly */\n.fu-dropdown__item {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding: 0.4rem 0.75rem;\n  color: var(--fu-color-text);\n  text-decoration: none;\n  border-radius: 4px;\n  transition: background-color 0.15s;\n  font-weight: 400;\n\n  /* --- Add truncation --- */\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  width: 100%;\n  max-width: 100%;\n\n  &:hover {\n    background-color: var(--fu-surface-alt);\n    cursor: pointer;\n  }\n}\n\n.fu-dropdown__icon {\n  width: 16px;\n  height: 16px;\n  flex-shrink: 0;\n  color: var(--fu-color-text);\n}\n\n.fade-enter-active,\n.fade-leave-active {\n  transition: opacity 0.15s ease;\n}\n.fade-enter-from,\n.fade-leave-to {\n  opacity: 0;\n}\n\n</style>\n","<template>\n  <!-- INLINE MODE -->\n  <div v-if=\"mode === 'inline'\" class=\"efw-wrapper\" ref=\"inlineRef\">\n    <div v-if=\"!isEditing\" class=\"efw-read\">\n      <slot name=\"read\" />\n    </div>\n\n    <div v-else class=\"efw-edit\">\n      <slot name=\"edit\" :model=\"editableValue\" />\n      <div class=\"efw-footer\">\n        <slot name=\"actions\" />\n      </div>\n    </div>\n  </div>\n\n  <!-- TELEPORT MODE -->\n  <template v-else>\n    <div class=\"efw-read\">\n      <slot name=\"read\" />\n    </div>\n\n    <Teleport :to=\"teleportTo\">\n      <div\n        v-if=\"isEditing\"\n        class=\"efw-teleport-card\"\n        ref=\"teleportRef\"\n        :style=\"{ top: position.top + 'px', left: position.left + 'px' }\"\n      >\n        <slot name=\"edit\" :model=\"editableValue\" />\n        <div class=\"efw-footer\">\n          <slot name=\"actions\" />\n        </div>\n      </div>\n    </Teleport>\n  </template>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, reactive, nextTick, onMounted, onBeforeUnmount, toRaw } from \"vue\";\n\ninterface EditableWrapperProps<T = any> {\n  modelValue: T;\n  mode?: \"inline\" | \"teleport\";\n  teleportTo?: string;\n  align?: \"left\" | \"center\" | \"right\";\n  disableOutsideClose?: boolean; // âœ… NEW\n}\n\nconst props = withDefaults(defineProps<EditableWrapperProps>(), {\n  modelValue: () => ({}),\n  mode: \"inline\",\n  teleportTo: \"body\",\n  align: \"right\",\n  disableOutsideClose: false, // âœ… default\n});\n\nconst isEditing = ref(false);\nconst editableValue = ref<any>(null);\nconst position = reactive({ top: 0, left: 0 });\n\nconst inlineRef = ref<HTMLElement | null>(null);\nconst teleportRef = ref<HTMLElement | null>(null);\n\n/* -------------------------------------------------\n   SAFE CLONE\n-------------------------------------------------- */\nfunction safeClone(value: any) {\n  if (value === null || typeof value !== \"object\") return value;\n\n  const raw = toRaw(value);\n\n  if (Array.isArray(raw)) return [...raw];\n  if (raw.constructor === Object) return { ...raw };\n\n  return raw;\n}\n\n/* -------------------------------------------------\n   OPEN INLINE\n-------------------------------------------------- */\nfunction startEditing() {\n  document.dispatchEvent(new CustomEvent(\"close-all-editors\"));\n  editableValue.value = safeClone(props.modelValue);\n  isEditing.value = true;\n}\n\n/* -------------------------------------------------\n   OPEN TELEPORT\n-------------------------------------------------- */\nfunction openTeleport(event?: MouseEvent) {\n  if (isEditing.value) {\n    closeEditor();\n    return;\n  }\n\n  document.dispatchEvent(new CustomEvent(\"close-all-editors\"));\n  editableValue.value = safeClone(props.modelValue);\n\n  nextTick(() => {\n    isEditing.value = true;\n\n    nextTick(() => {\n      const trigger = event?.currentTarget as HTMLElement;\n      if (!trigger || !teleportRef.value) return;\n\n      const rect = trigger.getBoundingClientRect();\n      const popupWidth = teleportRef.value.offsetWidth;\n\n      position.top = rect.bottom + 6 + window.scrollY;\n\n      if (props.align === \"left\") {\n        position.left = rect.left + window.scrollX;\n      } else if (props.align === \"center\") {\n        position.left = rect.left + rect.width / 2 - popupWidth / 2 + window.scrollX;\n      } else {\n        position.left = rect.right - popupWidth + window.scrollX;\n      }\n    });\n  });\n}\n\n/* -------------------------------------------------\n   CLOSE\n-------------------------------------------------- */\nfunction closeEditor() {\n  isEditing.value = false;\n}\n\n/* -------------------------------------------------\n   GLOBAL CLOSE\n-------------------------------------------------- */\nfunction handleGlobalClose() {\n  if (isEditing.value) closeEditor();\n}\n\n/* -------------------------------------------------\n   POINTER DOWN OUTSIDE\n-------------------------------------------------- */\nfunction handlePointerDown(event: PointerEvent) {\n  if (!isEditing.value) return;\n\n  // âœ… HARD STOP: autocomplete-safe mode\n  if (props.disableOutsideClose) return;\n\n  const target = event.target as HTMLElement;\n\n  // ignore known dropdown overlays\n  if (\n    target.closest(\n      \".fu-status-dropdown, .fu-status-dropdown__menu, .fu-autocomplete-dropdown, .fu-select-dropdown, .fu-datepicker-dropdown\"\n    )\n  ) {\n    return;\n  }\n\n  if (props.mode === \"inline\") {\n    if (inlineRef.value && !inlineRef.value.contains(target)) {\n      closeEditor();\n    }\n  } else {\n    if (teleportRef.value && !teleportRef.value.contains(target)) {\n      closeEditor();\n    }\n  }\n}\n\n/* -------------------------------------------------\n   LIFECYCLE\n-------------------------------------------------- */\nonMounted(() => {\n  document.addEventListener(\"close-all-editors\", handleGlobalClose);\n  document.addEventListener(\"ew-close\", closeEditor);\n  document.addEventListener(\"pointerdown\", handlePointerDown);\n  window.addEventListener(\"resize\", closeEditor);\n});\n\nonBeforeUnmount(() => {\n  document.removeEventListener(\"close-all-editors\", handleGlobalClose);\n  document.removeEventListener(\"ew-close\", closeEditor);\n  document.removeEventListener(\"pointerdown\", handlePointerDown);\n  window.removeEventListener(\"resize\", closeEditor);\n});\n\n/* -------------------------------------------------\n   EXPOSE API\n-------------------------------------------------- */\ndefineExpose({\n  startEditing,\n  openTeleport,\n  closeEditor,\n});\n</script>\n\n<style scoped>\n.efw-wrapper {\n  background: inherit;\n  border-radius: 6px;\n  display: flex;\n  flex-direction: column;\n}\n\n.efw-read {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.efw-edit {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n  margin-bottom: 1rem;\n}\n\n.efw-footer {\n  margin-top: 12px;\n  padding: 12px;\n  border-top: 1px solid var(--fu-border);\n  background: var(--fu-surface-background);\n}\n\n.efw-teleport-card {\n  position: absolute;\n  z-index: 9999;\n  background: white;\n  border: 1px solid var(--fu-border);\n  border-radius: 8px;\n  box-shadow: 0 8px 22px rgba(0, 0, 0, 0.15);\n  padding: 12px;\n  min-width: 360px;\n}\n</style>\n","<template>\n  <div\n    class=\"fu-upload\"\n    :class=\"{ dragging: isDragging }\"\n    @click=\"triggerFileSelect\"\n    @dragover.prevent=\"isDragging = true\"\n    @dragleave.prevent=\"isDragging = false\"\n    @drop.prevent=\"handleDrop\"\n  >\n    <div class=\"fu-upload__content\">\n      <!-- File Previews -->\n      <div v-if=\"previews.length\" class=\"fu-upload__previews\">\n        <div\n          v-for=\"(item, index) in previews\"\n          :key=\"item.id\"\n          class=\"fu-upload__preview-item\"\n        >\n          <button\n            class=\"fu-upload__remove\"\n            @click.stop=\"removeFile(index)\"\n          >\n            âœ•\n          </button>\n\n          <img\n            v-if=\"item.isImage\"\n            :src=\"item.src\"\n            class=\"fu-upload__preview-img\"\n            alt=\"Preview\"\n          />\n\n          <div v-else class=\"fu-upload__file-fallback\">\n            <MonitorSmartphone :size=\"20\" />\n            <span>{{ item.file.name }}</span>\n          </div>\n        </div>\n      </div>\n\n      <!-- Upload Prompt -->\n      <div v-else class=\"fu-upload__prompt\">\n        <MonitorSmartphone class=\"fu-upload__icon\" :size=\"22\" />\n        <slot name=\"description\">\n          <p class=\"fu-upload__text\">\n            Drag & drop files or click to browse\n          </p>\n        </slot>\n      </div>\n\n      <!-- Hidden File Input -->\n      <input\n        ref=\"fileInput\"\n        type=\"file\"\n        class=\"fu-upload__input\"\n        :multiple=\"multiple\"\n        :accept=\"accept\"\n        @change=\"handleFileChange\"\n      />\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref } from \"vue\";\nimport { MonitorSmartphone } from \"lucide-vue-next\";\n\n/* ----------------------------------\n * Props & Emits\n * ---------------------------------- */\nconst props = defineProps({\n  multiple: { type: Boolean, default: false },\n  accept: { type: String, default: \"*\" },\n  maxFiles: { type: Number, default: Infinity },\n  maxFileSizeMB: { type: Number, default: Infinity },\n});\n\nconst emit = defineEmits<{\n  (e: \"filesSelected\", files: File[]): void;\n  (e: \"uploadError\", message: string): void;\n}>();\n\n/* ----------------------------------\n * State\n * ---------------------------------- */\nconst isDragging = ref(false);\nconst fileInput = ref<HTMLInputElement | null>(null);\n\n/* Real files */\nconst files = ref<File[]>([]);\n\n/* Preview metadata */\nconst previews = ref<\n  {\n    id: string;\n    src: string;\n    file: File;\n    isImage: boolean;\n  }[]\n>([]);\n\n/* ----------------------------------\n * Helpers\n * ---------------------------------- */\nfunction generateId() {\n  if (typeof crypto !== \"undefined\" && crypto.randomUUID) {\n    return crypto.randomUUID();\n  }\n\n  return `file_${Date.now()}_${Math.random().toString(36).slice(2, 9)}`;\n}\n\n/* ----------------------------------\n * Handlers\n * ---------------------------------- */\nfunction triggerFileSelect() {\n  fileInput.value?.click();\n}\n\nfunction handleFileChange(event: Event) {\n  const target = event.target as HTMLInputElement;\n  if (!target.files?.length) return;\n\n  addFiles(target.files);\n  target.value = \"\"; // allow re-selecting same file\n}\n\nfunction handleDrop(event: DragEvent) {\n  isDragging.value = false;\n  const droppedFiles = event.dataTransfer?.files;\n  if (!droppedFiles?.length) return;\n\n  addFiles(droppedFiles);\n}\n\nfunction addFiles(fileList: FileList) {\n  const incoming = Array.from(fileList);\n\n  if (!props.multiple) {\n    files.value = [];\n    previews.value = [];\n  }\n\n  for (const file of incoming) {\n    // Check max file size (in bytes)\n    const maxBytes = props.maxFileSizeMB * 1024 * 1024;\n    if (file.size > maxBytes) {\n      const msg = `File \"${file.name}\" exceeds max size of ${props.maxFileSizeMB} MB.`;\n      emit(\"uploadError\", msg);\n      continue; // skip this file\n    }\n\n    // Check max number of files allowed\n    if (files.value.length >= props.maxFiles) {\n      const msg = `Maximum of ${props.maxFiles} files allowed.`;\n      emit(\"uploadError\", msg);\n      break; // stop adding further files\n    }\n\n    files.value.push(file);\n\n    const id = generateId();\n    const isImage = file.type.startsWith(\"image/\");\n\n    if (isImage) {\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        previews.value.push({\n          id,\n          src: e.target?.result as string,\n          file,\n          isImage: true,\n        });\n      };\n      reader.readAsDataURL(file);\n    } else {\n      previews.value.push({\n        id,\n        src: \"\",\n        file,\n        isImage: false,\n      });\n    }\n  }\n\n  emit(\"filesSelected\", files.value);\n}\n\n\nfunction removeFile(index: number) {\n  files.value.splice(index, 1);\n  previews.value.splice(index, 1);\n  emit(\"filesSelected\", files.value);\n}\n</script>\n\n<style scoped lang=\"scss\">\n.fu-upload {\n  border: 1px dashed var(--fu-border);\n  border-radius: var(--fu-rounded-lg);\n  padding: 2.5rem 1rem;\n  text-align: center;\n  cursor: pointer;\n  background: var(--fu-surface-background);\n\n  &.dragging,\n  &:hover {\n    border-color: var(--fu-primary, #007aff);\n    background: var(--fu-surface-alt);\n  }\n}\n\n.fu-upload__previews {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, 100px);\n  gap: 0.75rem;\n  width: 100%;\n  justify-content: flex-start;\n}\n\n.fu-upload__preview-item {\n  position: relative;\n  width: 100px;\n  height: 100px;\n  border: 1px solid var(--fu-border);\n  border-radius: var(--fu-rounded-md);\n  overflow: hidden;\n  background: var(--fu-surface-alt);\n}\n\n.fu-upload__remove {\n  position: absolute;\n  top: 6px;\n  right: 6px;\n  background: rgba(0, 0, 0, 0.65);\n  color: white;\n  border: none;\n  width: 22px;\n  height: 22px;\n  border-radius: 50%;\n  cursor: pointer;\n  font-size: 14px;\n  line-height: 1;\n}\n\n.fu-upload__preview-img {\n  width: 100px;\n  height: 100px;\n  object-fit: cover;\n}\n\n.fu-upload__file-fallback {\n  width: 100px;\n  height: 100px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  font-size: 0.75rem;\n  color: var(--fu-color-text-muted);\n  text-align: center;\n  padding: 0.25rem;\n}\n\n.fu-upload__prompt {\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n  align-items: center;\n}\n\n.fu-upload__input {\n  display: none;\n}\n</style>\n","<template>\n  <div class=\"fu-filter-dropdown\" ref=\"dropdown\">\n    <!-- Trigger -->\n    <div class=\"fu-filter-dropdown__trigger\" @click=\"toggleDropdown\">\n      <slot name=\"trigger\" />\n    </div>\n\n    <!-- Teleported Menu -->\n    <teleport to=\"body\">\n      <transition name=\"fade\">\n        <div\n          v-if=\"dropdownOpen\"\n          ref=\"menuRef\"\n          class=\"fu-filter-dropdown__menu\"\n          :class=\"[`fu-filter-dropdown__menu--${align}`]\"\n          :style=\"[menuPosition, menuSize]\"\n        >\n          <!-- Header -->\n          <div v-if=\"title\" class=\"fu-filter-dropdown__header\">\n            <span class=\"fu-filter-dropdown__title\">\n              {{ title }}\n            </span>\n\n            <!-- <button\n              type=\"button\"\n              class=\"fu-filter-dropdown__close\"\n              @click=\"closeDropdown\"\n              aria-label=\"Close\"\n            >\n              Ã—\n            </button> -->\n            <FusionActionButton\n              size=\"sm\"\n              variant=\"subtle\"\n              :icon=\"X\"\n              @click=\"closeDropdown\"\n            />\n          </div>\n\n          <!-- Body -->\n          <div class=\"fu-filter-dropdown__body\">\n            <slot name=\"content\" />\n          </div>\n\n          <!-- Footer -->\n          <div class=\"fu-filter-dropdown__footer\">\n            <slot name=\"footer\">\n              <!-- <button type=\"button\" class=\"fu-btn fu-btn--outline\" @click=\"onCancel\">\n                Cancel\n              </button> -->\n              <FusionButton variant=\"subtle\" size=\"sm\" text=\"Cancel\" @click=\"onCancel\" />\n              <FusionButton variant=\"solid\" size=\"sm\" text=\"Apply\" @click=\"onApply\" />\n              <!-- <button type=\"button\" class=\"fu-btn fu-btn--primary\" @click=\"onApply\">\n                Apply\n              </button> -->\n            </slot>\n          </div>\n        </div>\n      </transition>\n    </teleport>\n  </div>\n</template>\n<script setup lang=\"ts\">\nimport { ref, watch, onMounted, onBeforeUnmount, nextTick, computed } from \"vue\";\nimport type { CSSProperties } from \"vue\";\nimport FusionButton from \"../button/FusionButton.vue\";\nimport FusionActionButton from \"@/components/actionButton/FusionActionButton.vue\";\nimport { X } from \"lucide-vue-next\";\n\ninterface Props {\n  align?: \"left\" | \"center\" | \"right\";\n  isOpen?: boolean;\n  payload?: unknown;\n  title?: string;\n  width?: number | string;\n  maxWidth?: number | string;\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  align: \"left\",\n  isOpen: undefined,\n  title: \"\",\n  width: 280,\n  maxWidth: 360,\n});\n\nconst emit = defineEmits<{\n  (e: \"apply\", payload: unknown): void;\n  (e: \"cancel\"): void;\n  (e: \"open\"): void;\n  (e: \"close\"): void;\n  (e: \"update:isOpen\", value: boolean): void;\n}>();\n\nconst dropdownOpen = ref(false);\nconst dropdown = ref<HTMLElement | null>(null);\nconst menuRef = ref<HTMLElement | null>(null);\n\nconst menuPosition = ref<CSSProperties>({\n  top: \"0px\",\n  left: \"0px\",\n});\n\n/* -----------------------------\n   Size styles\n------------------------------ */\nconst menuSize = computed<CSSProperties>(() => ({\n  width: typeof props.width === \"number\" ? `${props.width}px` : props.width,\n  maxWidth: typeof props.maxWidth === \"number\" ? `${props.maxWidth}px` : props.maxWidth,\n}));\n\n/* -----------------------------\n   Sync external control\n------------------------------ */\nwatch(\n  () => props.isOpen,\n  (val) => {\n    if (typeof val === \"boolean\") {\n      dropdownOpen.value = val;\n\n      if (val) {\n        emit(\"open\");\n        nextTick(positionMenu);\n      } else {\n        emit(\"close\");\n      }\n    }\n  }\n);\n\n/* -----------------------------\n   Toggle\n------------------------------ */\nfunction toggleDropdown(e?: MouseEvent) {\n  e?.stopPropagation();\n\n  const willOpen = !dropdownOpen.value;\n\n  if (willOpen) {\n    document.dispatchEvent(new CustomEvent(\"close-all-dropdowns\"));\n  }\n\n  dropdownOpen.value = willOpen;\n  emit(\"update:isOpen\", willOpen);\n\n  if (willOpen) {\n    emit(\"open\");\n    nextTick(positionMenu);\n  } else {\n    emit(\"close\");\n  }\n}\n\n/* -----------------------------\n   Actions\n------------------------------ */\nfunction onApply() {\n  emit(\"apply\", props.payload);\n  closeDropdown();\n}\n\nfunction onCancel() {\n  emit(\"cancel\");\n  closeDropdown();\n}\n\n/* -----------------------------\n   Close helpers\n------------------------------ */\nfunction closeDropdown() {\n  if (!dropdownOpen.value) return;\n\n  dropdownOpen.value = false;\n  emit(\"update:isOpen\", false);\n  emit(\"close\");\n}\n\n/* -----------------------------\n   Positioning\n------------------------------ */\nfunction positionMenu() {\n  if (!dropdown.value || !menuRef.value) return;\n\n  const rect = dropdown.value.getBoundingClientRect();\n  const top = rect.bottom + window.scrollY + 8;\n  let left = rect.left + window.scrollX;\n\n  if (props.align === \"center\") {\n    left += rect.width / 2 - menuRef.value.offsetWidth / 2;\n  }\n\n  if (props.align === \"right\") {\n    left = rect.right - menuRef.value.offsetWidth + window.scrollX;\n  }\n\n  menuPosition.value = {\n    position: \"absolute\",\n    top: `${top}px`,\n    left: `${left}px`,\n    zIndex: 2000,\n  };\n}\n\n/* -----------------------------\n   Outside / Global close\n------------------------------ */\nfunction handleClickOutside(e: MouseEvent) {\n  if (\n    dropdownOpen.value &&\n    dropdown.value &&\n    !dropdown.value.contains(e.target as Node) &&\n    menuRef.value &&\n    !menuRef.value.contains(e.target as Node)\n  ) {\n    closeDropdown();\n  }\n}\n\nfunction handleGlobalClose() {\n  closeDropdown();\n}\n\nonMounted(() => {\n  // document.addEventListener(\"click\", handleClickOutside);\n  // document.addEventListener(\"close-all-dropdowns\", handleGlobalClose);\n});\n\nonBeforeUnmount(() => {\n  document.removeEventListener(\"click\", handleClickOutside);\n  document.removeEventListener(\"close-all-dropdowns\", handleGlobalClose);\n});\n</script>\n<style scoped lang=\"scss\">\n.fu-filter-dropdown {\n  display: inline-block;\n\n  &__trigger {\n    display: inline-flex;\n    align-items: center;\n    cursor: pointer;\n  }\n}\n\n.fu-filter-dropdown__menu {\n  background: var(--fu-surface-background);\n  border: 1px solid var(--fu-border);\n  border-radius: 10px;\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.12);\n  overflow: hidden;\n}\n\n/* Header */\n.fu-filter-dropdown__header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0.75rem 1rem;\n  border-bottom: 1px solid var(--fu-border);\n}\n\n.fu-filter-dropdown__title {\n  font-size: 14px;\n  font-weight: 500;\n}\n\n/* Body */\n.fu-filter-dropdown__body {\n  padding: 0.75rem 1rem;\n}\n\n/* Footer */\n.fu-filter-dropdown__footer {\n  display: flex;\n  justify-content: flex-end;\n  gap: 0.5rem;\n  padding: 0.75rem 1rem;\n  border-top: 1px solid var(--fu-border);\n  background: var(--fu-surface-alt);\n}\n\n/* Fade */\n.fade-enter-active,\n.fade-leave-active {\n  transition: opacity 0.15s ease;\n}\n.fade-enter-from,\n.fade-leave-to {\n  opacity: 0;\n}\n</style>\n","<template>\n    <header class=\"fu-smart-header\">\n        <slot />\n    </header>\n</template>\n\n<script setup lang=\"ts\">\n\n</script>\n\n<style scoped>\n.fu-smart-header {\n    position: sticky;\n    top: -8px;\n    left: 0;\n    right: 0;\n    background-color: inherit;\n    border-bottom: 1px solid var(--fu-border, #e5e7eb);\n    transition: transform 0.3s ease, opacity 0.3s ease;\n    z-index: 20;\n    padding: 0px;\n}\n</style>\n","<template>\n  <div class=\"fu-trash-icon\">\n    <Trash2 :size=\"18\" />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { Trash2 } from \"lucide-vue-next\";\n</script>\n\n<style scoped lang=\"scss\">\n.fu-trash-icon {\n  width: 44px;\n  height: 44px;\n  border-radius: 50%;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  background-color: rgba(239, 68, 68, 0.15); \n  color: #ef4444; \n\n  cursor: pointer;\n  transition: all 0.2s ease;\n\n \n\n  &:active {\n    transform: scale(0.95);\n  }\n}\n</style>\n","<template>\n  <div class=\"fu-activity-item\">\n    <div class=\"fu-activity-icon\">\n      <component :is=\"icon\" class=\"fu-activity-icon__svg\" :size=\"18\" />\n    </div>\n\n    <div class=\"fu-activity-line\"></div>\n\n    <div class=\"fu-activity-content\">\n      <div\n        class=\"fu-activity-card\"\n        :class=\"{ 'is-clickable': clickable }\"\n        @click=\"handleClick\"\n      >\n        <div class=\"fu-activity-header\">\n          <div class=\"fu-activity-title\">\n            <span class=\"fu-activity-status\">\n              <CheckCircle class=\"fu-activity-status__icon\" :size=\"16\" />\n            </span>\n            <p class=\"fu-activity-text\">{{ title }}</p>\n          </div>\n        </div>\n\n        <p class=\"fu-activity-subtitle\">{{ fileName }}</p>\n\n        <div class=\"fu-activity-footer\">\n          <span class=\"fu-activity-timestamp\">{{ timestamp }}</span>\n\n          <div class=\"fu-activity-user\">\n            <FuAvatar\n              :src=\"userAvatar || undefined\"\n              :name=\"userName\"\n              :alt=\"userName\"\n              size=\"xs\"\n              :show-status=\"false\"\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport type { Component } from \"vue\";\nimport { CheckCircle } from \"lucide-vue-next\";\nimport FuAvatar from \"../../avatar/FuAvatar.vue\";\n\ninterface Props {\n  icon: Component;\n  title: string;\n  fileName: string;\n  timestamp: string;\n  userName: string;\n  userAvatar?: string | null;\n  clickable?: boolean;\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  userAvatar: null,\n  clickable: true,\n});\n\nconst emit = defineEmits<{\n  (e: \"click\"): void;\n}>();\n\nfunction handleClick() {\n  if (!props.clickable) return;\n  emit(\"click\");\n}\n</script>\n\n<style scoped lang=\"scss\">\n.fu-activity-item {\n  display: flex;\n  align-items: flex-start;\n  position: relative;\n  gap: 1rem;\n  margin-bottom: 1.5rem;\n}\n\n.fu-activity-icon {\n  background: var(--fu-surface-background);\n  border: 1px solid var(--fu-border);\n  border-radius: 50%;\n  width: 32px;\n  height: 32px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-shrink: 0;\n  position: relative;\n  z-index: 2;\n}\n\n.fu-activity-icon__svg {\n  color: var(--fu-color-text);\n}\n\n.fu-activity-line {\n  position: absolute;\n  left: 15px;\n  top: 40px;\n  bottom: -10px;\n  width: 2px;\n  background: var(--fu-border);\n  z-index: 1;\n}\n\n.fu-activity-content {\n  flex: 1;\n}\n\n/* -------------------------------------------------\n   CARD (BASE â€“ NON CLICKABLE)\n-------------------------------------------------- */\n.fu-activity-card {\n  color: var(--fu-color-text);\n  background-color: var(--fu-surface-background);\n  border-radius: var(--fu-rounded-lg);\n  border: 1px solid var(--fu-border);\n  padding: 1rem;\n  display: flex;\n  flex-direction: column;\n  gap: 0.25rem;\n\n  transition: transform 0.15s ease, box-shadow 0.15s ease, border-color 0.15s ease;\n}\n\n.fu-activity-card.is-clickable {\n  cursor: pointer;\n}\n\n.fu-activity-card.is-clickable:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);\n}\n\n.fu-activity-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n\n.fu-activity-title {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n\n.fu-activity-text {\n  font-size: 14px;\n}\n\n.fu-activity-status {\n  color: var(--fu-success, #22c55e);\n  display: flex;\n  align-items: center;\n}\n\n.fu-activity-status__icon {\n  color: var(--fu-success, #22c55e);\n}\n\n.fu-activity-subtitle {\n  margin: 0.25rem 0;\n  color: var(--fu-color-text-strong);\n}\n\n.fu-activity-footer {\n  font-size: 0.85rem;\n  color: var(--fu-color-text-muted);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  gap: 1rem;\n}\n\n.fu-activity-user {\n  display: flex;\n  align-items: center;\n  gap: 0.4rem;\n}\n</style>\n","<template>\n  <div\n    class=\"fu-attachment-item\"\n    role=\"button\"\n    tabindex=\"0\"\n    @click=\"handleClick\"\n    @keypress.enter=\"handleClick\"\n  >\n    <!-- Left: File Preview or Icon -->\n    <div class=\"fu-attachment-left flex flex--gap-md flex--align-center\">\n      <div class=\"fu-attachment-preview\">\n        <!-- Image Preview -->\n        <img\n          v-if=\"isImage\"\n          :src=\"fileUrl\"\n          :alt=\"fileName\"\n          class=\"fu-attachment-thumbnail\"\n        />\n\n        <!-- Video Icon -->\n        <Video v-else-if=\"isVideo\" class=\"fu-attachment-icon\" :size=\"20\" />\n\n        <!-- Document Icon -->\n        <FileText v-else class=\"fu-attachment-icon\" :size=\"20\" />\n      </div>\n\n      <!-- File Info -->\n      <div class=\"fu-attachment-info flex flex--column\">\n        <span class=\"fu-attachment-title\">{{ fileName }}</span>\n        <span class=\"fu-attachment-meta\">{{ fileSize }}</span>\n      </div>\n    </div>\n\n    <!-- Right Section -->\n    <div class=\"fu-attachment-right flex flex--align-center flex--gap-md\">\n      <!-- User & Time -->\n      <div class=\"flex flex--column flex--align-center\">\n        <FuAvatar\n          :src=\"userAvatar || undefined\"\n          :name=\"userName\"\n          :alt=\"userName\"\n          size=\"xs\"\n          :show-status=\"false\"\n        />\n        <span class=\"fu-attachment-time\">{{ timestamp }}</span>\n      </div>\n\n      <!-- Actions -->\n      <div v-if=\"actions?.length\" class=\"fu-attachment-actions\" @click.stop>\n        <DropdownMenu :actions=\"actions\" align=\"right\">\n          <template #trigger>\n            <FusionActionButton :icon=\"EllipsisVertical\" variant=\"ghost\" size=\"sm\" />\n          </template>\n        </DropdownMenu>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed } from \"vue\";\nimport FuAvatar from \"@/components/avatar/FuAvatar.vue\";\nimport DropdownMenu from \"@/components/dropdownMenu/DropdownMenu.vue\";\nimport FusionActionButton from \"@/components/actionButton/FusionActionButton.vue\";\nimport { FileText, Video, EllipsisVertical } from \"lucide-vue-next\";\n\ninterface Action {\n  label: string;\n  icon?: any;\n  onClick?: () => void;\n}\n\ninterface Props {\n  id: string | number;\n  fileName: string;\n  fileUrl: string;\n  fileSize?: string;\n  timestamp: string;\n  userName: string;\n  userAvatar?: string | null;\n  actions?: Action[];\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  fileSize: \"\",\n  userAvatar: null,\n  actions: () => [],\n});\n\nconst emit = defineEmits<{\n  (e: \"click\", id: string | number): void;\n}>();\n\nfunction handleClick() {\n  emit(\"click\", props.id);\n}\n\nconst isImage = computed(() => /\\.(png|jpe?g|gif|webp|svg)$/i.test(props.fileName));\n\nconst isVideo = computed(() => /\\.(mp4|mov|avi|webm)$/i.test(props.fileName));\n</script>\n\n<style scoped lang=\"scss\">\n.fu-attachment-item {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  background-color: var(--fu-surface-background);\n  border: 1px solid var(--fu-border);\n  border-radius: var(--fu-rounded-lg);\n  padding: 0.6rem 0.75rem;\n  margin-bottom: 0.4rem;\n  transition: background-color 0.15s ease;\n  font-size: 0.9375rem;\n  cursor: pointer;\n\n  &:hover {\n    background-color: var(--fu-surface-hover);\n  }\n\n  &:focus-visible {\n    outline: 2px solid var(--fu-primary);\n    outline-offset: 2px;\n  }\n}\n\n.fu-attachment-left {\n  display: flex;\n  align-items: center;\n  flex: 1;\n  min-width: 0;\n}\n\n.fu-attachment-preview {\n  width: 40px;\n  height: 40px;\n  border-radius: var(--fu-rounded-md);\n  overflow: hidden;\n  background-color: var(--fu-surface-alt);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-shrink: 0;\n}\n\n.fu-attachment-thumbnail {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\n.fu-attachment-icon {\n  color: var(--fu-color-text-muted);\n}\n\n.fu-attachment-info {\n  display: flex;\n  flex-direction: column;\n  min-width: 0;\n}\n\n.fu-attachment-title {\n  font-weight: 500;\n  color: var(--fu-color-text);\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  display: block;\n  max-width: 240px;\n}\n\n.fu-attachment-meta {\n  color: var(--fu-color-text-muted);\n  font-size: 0.8125rem;\n  margin-top: 2px;\n}\n\n.fu-attachment-right {\n  flex-shrink: 0;\n  color: var(--fu-color-text-muted);\n  font-size: 0.85rem;\n}\n\n.fu-attachment-time {\n  white-space: nowrap;\n}\n</style>\n","<template>\n  <div\n    class=\"fu-note-card\"\n    @mouseenter=\"hovered = true\"\n    @mouseleave=\"hovered = false\"\n    @click=\"$emit('open', id)\"\n  >\n    <!-- Header -->\n    <div class=\"fu-note-header\">\n      <div class=\"fu-note-title\">\n        <h4>{{ title }}</h4>\n\n        <!-- Render pre-sanitized WYSIWYG content -->\n        <div v-if=\"content\" class=\"fu-note-content\" v-html=\"content\"></div>\n      </div>\n\n      <div class=\"fu-note-actions\">\n        <DropdownMenu :actions=\"actions\" align=\"right\">\n          <template #trigger>\n            <FusionActionButton\n              :icon=\"EllipsisVertical\"\n              variant=\"ghost\"\n              size=\"sm\"\n              class=\"fu-action-trigger\"\n            />\n          </template>\n        </DropdownMenu>\n      </div>\n    </div>\n\n    <!-- Footer -->\n    <div class=\"fu-note-footer\">\n      <div class=\"fu-note-owner\">\n        <FuAvatar\n          :src=\"ownerAvatar || undefined\"\n          :name=\"ownerName\"\n          :alt=\"ownerName\"\n          size=\"xs\"\n          :show-status=\"false\"\n        />\n      </div>\n\n      <span class=\"fu-note-date\">{{ date }}</span>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref } from \"vue\";\nimport { EllipsisVertical } from \"lucide-vue-next\";\nimport FuAvatar from \"@/components/avatar/FuAvatar.vue\";\nimport DropdownMenu from \"@/components/dropdownMenu/DropdownMenu.vue\";\nimport FusionActionButton from \"@/components/actionButton/FusionActionButton.vue\";\n\ninterface Action {\n  label: string;\n  icon?: any;\n  onClick?: () => void;\n}\n\ninterface Props {\n  id: string | number;\n  title: string;\n  content?: string;\n  ownerName: string;\n  ownerAvatar?: string | null;\n  date: string;\n  actions?: Action[];\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  content: \"\",\n  ownerAvatar: null,\n  actions: () => [],\n});\n\ndefineEmits<{ (e: \"open\", id: string | number): void }>();\n\nconst hovered = ref(false);\n</script>\n\n<style scoped lang=\"scss\">\n.fu-note-card {\n  background-color: var(--fu-surface-background);\n  border: 1px solid var(--fu-border);\n  border-radius: var(--fu-rounded-lg);\n  padding: 0.875rem;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  transition: all 0.2s ease;\n  cursor: pointer;\n  position: relative;\n  min-height: 180px;\n  max-height: 260px;\n  height: 100%;\n  margin-bottom: 1rem;\n  overflow: hidden;\n\n  &:hover {\n    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);\n    transform: translateY(-2px);\n  }\n\n  /* ----- Title ----- */\n  h4 {\n    font-size: 0.9375rem;\n    font-weight: 600;\n    margin: 0;\n    color: var(--fu-color-text);\n    overflow: hidden;\n    text-overflow: ellipsis;\n    display: -webkit-box;\n    -webkit-line-clamp: 2; /*  Allow up to 2 lines */\n    -webkit-box-orient: vertical;\n    word-break: break-word;\n    line-height: 1.3;\n    max-height: 2.6em; /* ~2 lines worth */\n  }\n\n  /* ----- Content (WYSIWYG preview) ----- */\n  .fu-note-content {\n    font-size: 0.875rem;\n    color: var(--fu-color-text-muted);\n    margin-top: 0.35rem;\n    overflow: hidden;\n    display: -webkit-box;\n    -webkit-line-clamp: 3; /*  limit to 3 lines */\n    -webkit-box-orient: vertical;\n    line-height: 1.4;\n    word-break: break-word;\n    max-height: 4.2em; /* 3 lines visually */\n    min-height: 2.4em;\n\n    p {\n      margin: 0;\n    }\n  }\n\n  .fu-note-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: flex-start;\n    margin-bottom: 0.5rem;\n  }\n\n  .fu-note-actions {\n    opacity: 0;\n    transition: opacity 0.2s;\n  }\n\n  &:hover .fu-note-actions {\n    opacity: 1;\n  }\n\n  .fu-note-footer {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    font-size: 0.8125rem;\n    color: var(--fu-color-text-muted);\n    margin-top: 0.75rem;\n    flex-wrap: wrap;\n    gap: 0.25rem;\n  }\n\n  .fu-note-owner {\n    display: flex;\n    align-items: center;\n    gap: 0.25rem;\n  }\n\n  .fu-note-owner-name {\n    color: var(--fu-color-text-muted);\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    max-width: 120px;\n  }\n}\n</style>\n","<template>\n  <div class=\"fu-task-list\">\n    <!-- Left Section -->\n    <div class=\"fu-task-left flex flex--gap-xl flex--align-center\">\n      <!-- Task Info -->\n      <div class=\"flex flex--column flex--gap-lg w-100\">\n        <div class=\"fu-task-title\">{{ title }}</div>\n\n        <div class=\"fu-task-meta\">\n          <div class=\"fu-task-priority\">\n            <span class=\"fu-priority-dot\" :style=\"{ backgroundColor: priorityColor || '#999' }\"></span>\n            <span class=\"fu-priority-label\">{{ priorityLabel }}</span>\n          </div>\n          <span class=\"fu-dot\"></span>\n          <div class=\"fu-task-owner\">\n            <FuAvatar :src=\"ownerAvatar || undefined\" :name=\"ownerName\" :alt=\"ownerName\" size=\"xs\"\n              :show-status=\"false\" />\n          </div>\n\n\n\n\n        </div>\n      </div>\n    </div>\n\n    <!-- Right Section: Action dropdown -->\n    <div class=\"fu-task-actions\">\n      <DropdownMenu :actions=\"computedActions\" :content=\"false\" align=\"right\">\n        <template #trigger>\n          <FusionActionButton :icon=\"EllipsisVertical\" variant=\"subtle\" size=\"sm\" />\n        </template>\n      </DropdownMenu>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { EllipsisVertical, SquarePen, Trash2 } from \"lucide-vue-next\";\nimport FuAvatar from \"@/components/avatar/FuAvatar.vue\";\nimport DropdownMenu from \"@/components/dropdownMenu/DropdownMenu.vue\";\nimport FusionActionButton from \"@/components/actionButton/FusionActionButton.vue\";\nimport { computed } from \"vue\";\n\ninterface Action {\n  label: string;\n  icon?: any;\n  onClick?: () => void;\n}\n\ninterface Props {\n  id: string | number;\n  title: string;\n  ownerName: string;\n  ownerAvatar?: string | null;\n  priorityLabel: string;\n  priorityColor?: string;\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  ownerAvatar: null,\n  priorityColor: \"#ccc\",\n});\n\nconst emit = defineEmits<{\n  (e: \"edit\", id: string | number): void;\n  (e: \"delete\", id: string | number): void;\n}>();\n\n// Computed actions for dropdown\nconst computedActions = computed(() => [\n  {\n    label: \"Edit Task\",\n    icon: SquarePen,\n    onClick: () => emit(\"edit\", props.id),\n  },\n  {\n    label: \"Delete Task\",\n    icon: Trash2,\n    onClick: () => emit(\"delete\", props.id),\n  },\n]);\n</script>\n\n<style scoped lang=\"scss\">\n.fu-task-list {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  background-color: var(--fu-surface-background);\n  border: 1px solid var(--fu-border);\n  border-radius: var(--fu-rounded-lg);\n  padding: 0.6rem 0.75rem;\n  margin-bottom: 0.4rem;\n  transition: background-color 0.15s ease;\n  font-size: 0.9375rem;\n  cursor: pointer;\n\n  &:hover {\n    background-color: var(--fu-surface-hover);\n  }\n}\n\n.fu-task-left {\n  display: flex;\n  align-items: center;\n  flex: 1;\n  min-width: 0; \n}\n\n.fu-task-title {\n  font-weight: 500;\n  color: var(--fu-color-text);\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  display: block;\n  width: 100%;    \n  max-width: 100%;\n  min-width: 0;\n  line-height: 1.4;\n}\n\n\n\n.fu-task-meta {\n  display: flex;\n  align-items: center;\n  gap: 0.4rem;\n  flex-shrink: 0;\n  color: var(--fu-color-text-muted);\n  font-size: 0.875rem;\n  min-width: 0;\n}\n\n.fu-task-owner {\n  display: flex;\n  align-items: center;\n  gap: 0.25rem;\n}\n\n.fu-dot {\n  width: 4px;\n  height: 4px;\n  border-radius: 50%;\n  background-color: var(--fu-border);\n  flex-shrink: 0;\n}\n\n.fu-task-priority {\n  display: flex;\n  align-items: center;\n  gap: 0.25rem;\n  min-width: 70px;\n}\n\n.fu-priority-dot {\n  width: 7px;\n  height: 7px;\n  border-radius: 50%;\n}\n\n.fu-priority-label {\n  color: var(--fu-color-text-muted);\n}\n\n.fu-task-actions {\n  margin-left: auto;\n  display: flex;\n  align-items: center;\n}\n</style>\n","<template>\n  <div class=\"fu-kanban scrollbar__control customScrollBar\">\n    <div class=\"fu-kanban__columns\" @dragover.prevent>\n      <!-- Each column -->\n      <div\n        v-for=\"(col, colIndex) in localColumns\"\n        :key=\"col.id\"\n        class=\"fu-kanban__column\"\n        :class=\"{ 'fu-kanban__column--drag': editMode }\"\n        :draggable=\"editMode\"\n        @dragstart=\"onColumnDragStart(colIndex)\"\n        @drop=\"onColumnDrop(colIndex)\"\n        @dragover.prevent\n      >\n        <!-- Column Header -->\n        <header class=\"fu-kanban__column-header\">\n          <div class=\"flex flex--center flex--space\">\n            <div class=\"fu-kanban__column-title\">\n              <span class=\"fu-kanban__dot\" :style=\"{ background: col.color || '#9ca3af' }\"></span>\n              <span class=\"fu-kanban__column-name\" :title=\"col.title\">{{ col.title }}</span>\n            </div>\n\n            <div class=\"fu-kanban__header-right\">\n              <button\n                class=\"fu-kanban__add-item-btn\"\n                :title=\"addItemButtonText\"\n                @click.stop=\"onAddItem(col, colIndex)\"\n              >\n                +\n              </button>\n            </div>\n          </div>\n\n          <div class=\"flex flex--center flex--gap-sm\">\n            <slot name=\"column-header\"></slot>\n            <span class=\"fu-kanban__count\">{{ col.items.length }}</span>\n          </div>\n        </header>\n\n        <!-- ======================\n             EDIT MODE\n        ======================= -->\n        <template v-if=\"editMode\">\n          <div class=\"fu-kanban__edit-body\">\n            <slot name=\"edit-column\" :column=\"col\" :index=\"colIndex\" />\n          </div>\n        </template>\n\n        <!-- ======================\n             VIEW MODE\n        ======================= -->\n        <template v-else>\n          <!-- Cards -->\n          <div\n            class=\"fu-kanban__cards scrollbar__control customScrollBar\"\n            @dragover.prevent=\"onItemDragOver(col.id)\"\n            @dragleave=\"onItemDragLeave\"\n            @drop=\"onItemDrop(col.id, null)\"\n            :class=\"{ 'fu-kanban__cards--hover': hoveredColumnId === col.id }\"\n          >\n            <div\n              v-for=\"(item, index) in col.items\"\n              :key=\"item.id\"\n              class=\"fu-kanban__card\"\n              draggable=\"true\"\n              @dragstart=\"onItemDragStart(col.id, item)\"\n              @drop=\"onItemDrop(col.id, index)\"\n              @click=\"onCardClick(item, col)\"\n            >\n              <header class=\"fu-kanban__card-header\">\n                <strong>{{ item.title }}</strong>\n              </header>\n\n              <div class=\"fu-kanban__card-body\">\n                <slot name=\"card-body\" :item=\"item\" :column=\"col\" />\n              </div>\n            </div>\n\n            <!-- Empty placeholder -->\n            <div v-if=\"!col.items.length\" class=\"fu-kanban__empty\">\n              {{ noItemtext }}\n            </div>\n          </div>\n\n          <!-- Add item button (bottom of column) -->\n          <button class=\"fu-kanban__add-card\" @click=\"onAddItem(col, colIndex)\">\n            {{ addItemButtonText }}\n          </button>\n        </template>\n      </div>\n\n      <!-- Add New Column -->\n      <div v-if=\"editMode\" class=\"fu-kanban__add-column\" @click=\"addColumn\">\n        {{ addColumnButtonText }}\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, watch } from \"vue\"\n\nexport interface KanbanItem {\n  id: string\n  title: string\n  position: number\n  [key: string]: any\n}\n\nexport interface KanbanColumn {\n  id: string\n  title: string\n  color?: string\n  probability?: number\n  position: number\n  items: KanbanItem[]\n}\n\nconst props = defineProps<{\n  columns: KanbanColumn[]\n  editMode?: boolean\n  addItemButtonText?: string\n  addColumnButtonText?: string\n  noItemtext?: string\n}>()\n\nconst emit = defineEmits<{\n  \"update:columns\": [columns: KanbanColumn[]]\n  \"update:items\": [columns: KanbanColumn[]]\n  \"card-click\": [payload: { id: string; item: KanbanItem; column: KanbanColumn }]\n  \"add-item\": [payload: { column: KanbanColumn; index: number }]\n}>()\n\nconst addItemButtonText = props.addItemButtonText || \"+ Add Item\"\nconst addColumnButtonText = props.addColumnButtonText || \"+ Add Stage\"\n\nconst localColumns = ref<KanbanColumn[]>(JSON.parse(JSON.stringify(props.columns || [])))\nconst dragContext = ref<{ fromColumnId: string; item: KanbanItem } | null>(null)\nconst columnDragContext = ref<number | null>(null)\nconst hoveredColumnId = ref<string | null>(null)\n\nwatch(\n  () => props.columns,\n  (newVal) => {\n    localColumns.value = JSON.parse(JSON.stringify(newVal))\n  },\n  { deep: true }\n)\n\n/* =======================================================\n   ITEM DRAG LOGIC\n======================================================= */\nfunction onItemDragStart(fromColumnId: string, item: KanbanItem) {\n  dragContext.value = { fromColumnId, item }\n}\n\nfunction onItemDragOver(columnId: string) {\n  hoveredColumnId.value = columnId\n}\n\nfunction onItemDragLeave() {\n  hoveredColumnId.value = null\n}\n\nfunction onItemDrop(toColumnId: string, targetIndex: number | null) {\n  const ctx = dragContext.value\n  if (!ctx) return\n\n  const fromCol = localColumns.value.find((c) => c.id === ctx.fromColumnId)\n  const toCol = localColumns.value.find((c) => c.id === toColumnId)\n  if (!fromCol || !toCol) return\n\n  fromCol.items = fromCol.items.filter((i) => i.id !== ctx.item.id)\n  if (targetIndex === null) toCol.items.push(ctx.item)\n  else toCol.items.splice(targetIndex, 0, ctx.item)\n\n  emit(\"update:items\", localColumns.value)\n  dragContext.value = null\n  hoveredColumnId.value = null\n}\n\n/* =======================================================\n   COLUMN DRAG LOGIC (for EDIT MODE)\n======================================================= */\nfunction onColumnDragStart(fromIndex: number) {\n  if (!props.editMode) return\n  columnDragContext.value = fromIndex\n}\n\nfunction onColumnDrop(toIndex: number) {\n  if (!props.editMode) return\n  const fromIndex = columnDragContext.value\n  if (fromIndex === null || fromIndex === toIndex) return\n\n  const cols = [...localColumns.value]\n  const [moved] = cols.splice(fromIndex, 1)\n  cols.splice(toIndex, 0, moved)\n  localColumns.value = cols.map((c, i) => ({ ...c, position: i + 1 }))\n\n  emit(\"update:columns\", localColumns.value)\n  columnDragContext.value = null\n}\n\n/* =======================================================\n   COLUMN + ITEM ACTIONS\n======================================================= */\nfunction addColumn() {\n  const newColumn: KanbanColumn = {\n    id: `col-${localColumns.value.length + 1}`,\n    title: `Stage ${localColumns.value.length + 1}`,\n    color: \"#8B5CF6\",\n    position: localColumns.value.length + 1,\n    items: [],\n  }\n  localColumns.value.push(newColumn)\n  emit(\"update:columns\", localColumns.value)\n}\n\nfunction onAddItem(column: KanbanColumn, index: number) {\n  emit(\"add-item\", { column, index })\n}\n\nfunction onCardClick(item: KanbanItem, column: KanbanColumn) {\n  emit(\"card-click\", { id: item.id, item, column })\n}\n</script>\n\n<style scoped lang=\"scss\">\n.fu-kanban {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  overflow-x: auto;\n  overflow-y: hidden;\n  scroll-behavior: smooth;\n  padding: 1rem 0;\n}\n\n.fu-kanban__columns {\n  display: flex;\n  gap: 1rem;\n  align-items: stretch;\n  min-height: 100%;\n  padding: 0;\n}\n\n.fu-kanban__column {\n  min-width: 280px;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  transition: all 0.2s ease;\n}\n\n.fu-kanban__column--drag {\n  cursor: grab;\n}\n\n.fu-kanban__column--drag:active {\n  cursor: grabbing;\n  transform: scale(0.98);\n  opacity: 0.9;\n}\n\n.fu-kanban__column-header {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n  font-weight: 500;\n  flex-shrink: 0;\n}\n\n.fu-kanban__column-title {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  min-width: 0;\n}\n\n.fu-kanban__column-name {\n  display: block;\n  max-width: 200px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-weight: 500;\n  color: inherit;\n}\n\n.fu-kanban__header-right {\n  display: flex;\n  align-items: center;\n  gap: 0.4rem;\n}\n\n.fu-kanban__add-item-btn {\n  background: none;\n  border: none;\n  font-size: 1rem;\n  font-weight: 600;\n  cursor: pointer;\n  color: #6b7280;\n  transition: 0.2s;\n}\n\n.fu-kanban__add-item-btn:hover {\n  color: #111827;\n}\n\n.fu-kanban__dot {\n  width: 10px;\n  height: 10px;\n  border-radius: 50%;\n}\n\n.fu-kanban__cards {\n  flex: 1;\n  padding: 0.75rem 0.5rem;\n  overflow-y: auto;\n  overflow-x: hidden;\n  border-radius: 10px;\n  transition: background-color 0.2s ease, border 0.2s ease;\n}\n\n.fu-kanban__cards--hover {\n  background-color: rgba(99, 102, 241, 0.08);\n  border: 2px dashed var(--fu-primary-alt, #6366f1);\n}\n\n.fu-kanban__card {\n  background-color: var(--fu-surface-background);\n  border-radius: 8px;\n  border: 1px solid var(--fu-border);\n  margin-bottom: 0.75rem;\n  padding: 0px;\n  cursor: pointer;\n  transition: 0.15s ease;\n}\n\n.fu-kanban__card:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);\n}\n\n.fu-kanban__card-body {\n  font-size: 0.85rem;\n  color: var(--fu-color-text);\n}\n\n.fu-kanban__empty {\n  text-align: center;\n  padding: 1rem;\n  color: var(--fu-color-text);\n}\n\n.fu-kanban__add-card {\n  background-color: var(--fu-surface-background);\n  border: none;\n  color: var(--fu-color-text);\n  font-size: 0.85rem;\n  padding: 0.6rem;\n  margin: 0.5rem;\n  border-radius: 6px;\n  cursor: pointer;\n  transition: 0.2s ease;\n  width: calc(100% - 1rem);\n  flex-shrink: 0;\n}\n\n.fu-kanban__add-card:hover {\n  background-color: var(--fu-surface-hover);\n}\n\n.fu-kanban__add-column {\n  border: 2px dashed var(--fu-border);\n  border-radius: 0.75rem;\n  background-color: var(--fu-surface-background);\n  color: var(--fu-color-text);\n  font-weight: 500;\n  min-width: 260px;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: 0.25s ease;\n\n  &:hover {\n    background-color: var(--fu-surface-hover);\n  }\n}\n\n.fu-kanban__edit-body {\n  padding: 1rem;\n  background-color: var(--fu-surface-background);\n  flex: 1;\n  overflow-y: auto;\n}\n</style>\n","<template>\n  <Teleport to=\"body\">\n    <div v-if=\"isVisible\" class=\"fu-modal__backdrop\" @click.self=\"onClose\">\n      <div class=\"fu-modal\" :class=\"`fu-modal--${size}`\">\n        <!-- Header -->\n        <div class=\"fu-modal__header\">\n          <h3 class=\"fu-modal__title\">{{ title }}</h3>\n\n          <FusionActionButton\n            text=\" \"\n            :icon=\"X\"\n            class=\"fu-modal__close\"\n            @click=\"onClose\"\n            variant=\"ghost\"\n            size=\"sm\"\n          />\n        </div>\n\n        <!-- Body -->\n        <div class=\"fu-modal__body\">\n          <slot> Default modal content. </slot>\n        </div>\n\n        <!-- Footer -->\n        <div v-if=\"showFooter\" class=\"fu-modal__footer\">\n          <slot name=\"footer\"> </slot>\n        </div>\n      </div>\n    </div>\n  </Teleport>\n</template>\n\n<script setup lang=\"ts\">\nimport { onMounted, onBeforeUnmount } from \"vue\";\nimport FusionActionButton from \"../actionButton/FusionActionButton.vue\";\nimport FusionButton from \"../button/FusionButton.vue\";\nimport { X } from \"lucide-vue-next\";\n\nconst props = withDefaults(\n  defineProps<{\n    isVisible: boolean;\n    title: string;\n    size?: \"sm\" | \"md\" | \"lg\";\n    showFooter?: boolean;\n  }>(),\n  {\n    size: \"md\",\n    showFooter: true,\n  }\n);\n\nconst emit = defineEmits<{\n  (e: \"close\"): void;\n  (e: \"cancel\"): void;\n  (e: \"confirm\"): void;\n}>();\n\nconst onClose = () => emit(\"close\");\nconst onCancel = () => emit(\"cancel\");\nconst onConfirm = () => emit(\"confirm\");\n\nfunction handleKeydown(e: KeyboardEvent) {\n  if (e.key === \"Escape\" || e.key === \"Esc\") {\n    onClose();\n  }\n}\n\nonMounted(() => {\n  window.addEventListener(\"keydown\", handleKeydown);\n});\n\nonBeforeUnmount(() => {\n  window.removeEventListener(\"keydown\", handleKeydown);\n});\n</script>\n\n<style scoped lang=\"scss\">\n.fu-modal__backdrop {\n  position: fixed;\n  inset: 0;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 999;\n  padding: 1rem;\n}\n\n.fu-modal {\n  background: var(--fu-modal-surface);\n  border-radius: var(--fu-rounded-xl, 0.75rem);\n  border: 0.5px solid var(--fu-border);\n  width: 100%;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n\n  &--sm {\n    max-width: 400px;\n  }\n  &--md {\n    max-width: 500px;\n    // max-height: 500px;\n  }\n  &--lg {\n    max-width: 900px;\n  }\n}\n\n.fu-modal__header {\n  display: flex;\n  justify-content: space-between;\n  padding: 1rem;\n}\n\n.fu-modal__title {\n  margin: 0;\n  font-size: 1.2rem;\n  font-weight: 500;\n  color: var(--fu-color-text);\n}\n\n.fu-modal__close {\n  background: none;\n  border: none;\n  cursor: pointer;\n  font-size: 1.2rem;\n}\n\n.fu-modal__body {\n  padding: 1rem;\n}\n\n.fu-modal__footer {\n  display: flex;\n  justify-content: flex-end;\n  gap: 0.5rem;\n  padding: 1rem;\n}\n</style>\n","<template>\n  <div class=\"app-container\">\n    <div class=\"app-shell\">\n\n      <div class=\"fu-topbar\">\n        <div class=\"fu-topbar-l\">\n          <button class=\"fu-menu-toggle\" @click=\"toggleMenu\">\n            <!-- Menu Icon -->\n            <svg class=\"fu-icon fu-icon--grid\" width=\"16\" height=\"17\" viewBox=\"0 0 16 17\" fill=\"none\"\n              xmlns=\"http://www.w3.org/2000/svg\">\n              <path\n                d=\"M1 13H3C3.27614 13 3.5 13.2238 3.5 13.5V15.5C3.5 15.7762 3.27614 16 3 16H1C0.723856 16 0.5 15.7762 0.5 15.5V13.5C0.5 13.2238 0.723856 13 1 13ZM7 13H9C9.27616 13 9.5 13.2238 9.5 13.5V15.5C9.5 15.7762 9.27616 16 9 16H7C6.72384 16 6.5 15.7762 6.5 15.5V13.5C6.5 13.2238 6.72384 13 7 13ZM13 13H15C15.2762 13 15.5 13.2238 15.5 13.5V15.5C15.5 15.7762 15.2762 16 15 16H13C12.7238 16 12.5 15.7762 12.5 15.5V13.5C12.5 13.2238 12.7238 13 13 13ZM1 7H3C3.27614 7 3.5 7.22385 3.5 7.5V9.5C3.5 9.77615 3.27614 10 3 10H1C0.723856 10 0.5 9.77615 0.5 9.5V7.5C0.5 7.22385 0.723856 7 1 7ZM7 7H9C9.27616 7 9.5 7.22384 9.5 7.5V9.5C9.5 9.77616 9.27616 10 9 10H7C6.72384 10 6.5 9.77616 6.5 9.5V7.5C6.5 7.22384 6.72384 7 7 7ZM13 7H15C15.2762 7 15.5 7.22384 15.5 7.5V9.5C15.5 9.77616 15.2762 10 15 10H13C12.7238 10 12.5 9.77616 12.5 9.5V7.5C12.5 7.22384 12.7238 7 13 7ZM1 1H3C3.27614 1 3.5 1.22386 3.5 1.5V3.5C3.5 3.77614 3.27614 4 3 4H1C0.723862 4 0.5 3.77614 0.5 3.5V1.5C0.5 1.22386 0.723862 1 1 1ZM7 1H9C9.27615 1 9.5 1.22386 9.5 1.5V3.5C9.5 3.77614 9.27615 4 9 4H7C6.72385 4 6.5 3.77614 6.5 3.5V1.5C6.5 1.22386 6.72385 1 7 1ZM13 1H15C15.2762 1 15.5 1.22386 15.5 1.5V3.5C15.5 3.77614 15.2762 4 15 4H13C12.7238 4 12.5 3.77614 12.5 3.5V1.5C12.5 1.22386 12.7238 1 13 1Z\"\n                stroke=\"currentColor\" />\n            </svg>\n          </button>\n\n          <slot name=\"brand-logo\">\n            <img src=\"https://storage.googleapis.com/skkido/logo-assets/skkido-logo-white.svg\" class=\"fu-brand-logo\"\n              alt=\"Logo\" />\n          </slot>\n\n        </div>\n        <div class=\"fu-topbar-c\">\n          <slot name=\"header\" />\n        </div>\n\n        <div class=\"fu-topbar-r\">\n\n\n\n          <!-- <FusionButton  variant=\"ghost\" @click=\"toggleAiPanel\">\n           Ai \n            </FusionButton> -->\n\n\n          <slot name=\"header-right\" />\n        </div>\n\n      </div>\n\n      <!-- BODY AREA (with AI inside) -->\n      <div class=\"fu-main-area\">\n        <div class=\"fu-nav-panel\" :class=\"{ open: isMenuOpen }\">\n          <section class=\"fu-sidebar\">\n            <slot name=\"modules-sidebar\" />\n          </section>\n\n          <section class=\"fu-menu\" v-show=\"isInnerMenuVisible\">\n            <slot name=\"module-menu\" />\n          </section>\n        </div>\n\n        <!-- Body slot + AI Panel wrapper -->\n        <div class=\"fu-body-area\" :class=\"{ 'ai-open': isAiOpen }\">\n          <div @click=\"closeMenuOnMobile\" class=\"fu-body-slot\">\n            <slot />\n          </div>\n\n          <!-- AI PANEL (inside body area) -->\n          <transition name=\"slide-left\">\n            <div v-if=\"isAiOpen\" class=\"ai-panel\" :style=\"{ width: aiWidth + 'px' }\">\n              <div class=\"ai-resize-handle\" @mousedown=\"startResizing\"></div>\n\n              <div class=\"ai-panel-body\">\n                <header>\n                  <h3>Ã€disa</h3>\n                  <div class=\"ai-header-actions\">\n                    <FusionActionButton :icon=\"isMaximized ? Minimize2 : Maximize2\" variant=\"ghost\" size=\"sm\"\n                      @click=\"toggleMaximize\" />\n                    <FusionActionButton :icon=\"X\" variant=\"ghost\" size=\"sm\" @click=\"toggleAiPanel\" />\n                  </div>\n                </header>\n\n                <!-- Scrollable region (body) -->\n                <div class=\"ai-content\">\n                  <slot name=\"ai-content\" />\n                </div>\n              </div>\n            </div>\n          </transition>\n\n        </div>\n      </div>\n    </div>\n\n    <FusionModal v-if=\"showMobileAiModal\" :isVisible=\"showMobileAiModal\" title=\"Adisa\" size=\"sm\"\n      @close=\"showMobileAiModal = false\" @cancel=\"showMobileAiModal = false\">\n      Downlaod Skkido to use Adisa on Mobile\n    </FusionModal>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted, onBeforeUnmount, nextTick } from \"vue\";\nimport { X, Minimize2, Maximize2 } from \"lucide-vue-next\";\nimport FusionModal from \"@/components/modal/FusionModal.vue\";\n\nconst isMenuOpen = ref(false);\nconst isInnerMenuVisible = ref(true);\nconst isAiOpen = ref(false);\nconst aiWidth = ref(340);\nconst isMaximized = ref(false);\nconst windowWidth = ref(typeof window !== \"undefined\" ? window.innerWidth : 1200);\n\nconst BREAKPOINT = 991;\nlet isResizing = false;\nconst STORAGE_KEY = \"fu-app-ai-panel\";\n\nconst showMobileAiModal = ref(false); //  new modal state\n\nconst props = defineProps({\n  listenToToggleEvent: { type: Boolean, default: true },\n});\n\n/* Sidebar toggle */\nfunction toggleMenu() {\n  if (windowWidth.value <= BREAKPOINT) {\n    isMenuOpen.value = !isMenuOpen.value;\n    isInnerMenuVisible.value = true;\n  } else {\n    isInnerMenuVisible.value = !isInnerMenuVisible.value;\n  }\n}\n\n/* AI toggle â€” unified for desktop & mobile */\nfunction toggleAiPanel() {\n  if (windowWidth.value <= BREAKPOINT) {\n    //  On mobile â†’ show modal instead of sidebar AI\n    showMobileAiModal.value = true;\n    isAiOpen.value = false;\n    persistState();\n    return;\n  }\n\n  //  Desktop â†’ toggle sidebar AI\n  isAiOpen.value = !isAiOpen.value;\n  persistState();\n\n  if (isAiOpen.value) {\n    window.dispatchEvent(new Event(\"open-ai\"));\n  }\n}\n\n/* Maximize toggle */\nconst defaultAiWidth = 340;\nconst maxAiWidth = 500;\nfunction toggleMaximize() {\n  aiWidth.value = isMaximized.value ? defaultAiWidth : maxAiWidth;\n  isMaximized.value = !isMaximized.value;\n  persistState();\n}\n\n/* --- Resize logic --- */\nfunction startResizing(e) {\n  isResizing = true;\n  document.body.style.cursor = \"col-resize\";\n  window.addEventListener(\"mousemove\", resizePanel);\n  window.addEventListener(\"mouseup\", stopResizing);\n}\n\nfunction resizePanel(e) {\n  if (!isResizing) return;\n  const newWidth = window.innerWidth - e.clientX;\n  if (newWidth > 280 && newWidth < 600) {\n    aiWidth.value = newWidth;\n    persistState();\n  }\n}\n\nfunction stopResizing() {\n  isResizing = false;\n  document.body.style.cursor = \"default\";\n  window.removeEventListener(\"mousemove\", resizePanel);\n  window.removeEventListener(\"mouseup\", stopResizing);\n}\n\n/* Handle window resize */\nfunction handleResize() {\n  windowWidth.value = window.innerWidth;\n}\n\n/* Close menu on mobile */\nfunction closeMenuOnMobile() {\n  if (windowWidth.value <= BREAKPOINT && isMenuOpen.value) {\n    isMenuOpen.value = false;\n  }\n}\n\n/* Persistent helpers */\nfunction persistState() {\n  const data = {\n    open: isAiOpen.value,\n    width: aiWidth.value,\n    maximized: isMaximized.value,\n  };\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(data));\n}\n\nfunction restoreState() {\n  const saved = localStorage.getItem(STORAGE_KEY);\n  if (!saved) return;\n  try {\n    const { open, width, maximized } = JSON.parse(saved);\n    isAiOpen.value = !!open;\n    aiWidth.value = width || defaultAiWidth;\n    isMaximized.value = !!maximized;\n  } catch (e) {\n    console.warn(\"Failed to restore AI panel state:\", e);\n  }\n}\n\n/* --- Lifecycle --- */\nonMounted(() => {\n  restoreState();\n  window.addEventListener(\"resize\", handleResize);\n\n  if (props.listenToToggleEvent) {\n    window.addEventListener(\"toggle-ai\", toggleAiPanel);\n  }\n\n  if (isAiOpen.value) {\n    const handleTabsReady = () => {\n      window.removeEventListener(\"tabs-ready\", handleTabsReady);\n      nextTick(() => {\n        isAiOpen.value = true;\n        window.dispatchEvent(new Event(\"open-ai\"));\n      });\n    };\n    window.addEventListener(\"tabs-ready\", handleTabsReady);\n  }\n});\n</script>\n\n\n\n<style scoped lang=\"scss\"></style>\n","<template>\n  <div class=\"fu-listview\" ref=\"listviewRef\">\n    <div class=\"fu-listview__table-wrapper customScrollBar\" ref=\"tableWrapper\">\n      <table>\n        <!-- HEADER -->\n        <thead v-if=\"showHeader\">\n          <tr>\n            <th\n              v-if=\"options?.selectable\"\n              class=\"fu-listview__th fu-listview__th--checkbox\"\n            >\n              <FusionCheckbox v-model=\"allSelected\" size=\"sm\" />\n            </th>\n\n            <th\n              v-for=\"(col, index) in internalColumns\"\n              :key=\"col.key\"\n              :style=\"{ width: col.width || 'auto' }\"\n              class=\"fu-listview__th\"\n              :class=\"`align-${col.textAlign || 'justify'}`\"\n            >\n              <div\n                class=\"fu-listview__th-content\"\n                :class=\"`align-${col.textAlign || 'justify'}`\"\n              >\n                <div\n                  class=\"fu-listview__th-sortable\"\n                  :class=\"{\n                    'is-sortable': !!col.sortable,\n                    'is-active': activeSortKey === col.key,\n                  }\"\n                  :role=\"col.sortable ? 'button' : undefined\"\n                  :tabindex=\"col.sortable ? 0 : -1\"\n                  @click=\"onHeaderClick(col)\"\n                  @keydown.enter.prevent=\"onHeaderClick(col)\"\n                  @keydown.space.prevent=\"onHeaderClick(col)\"\n                >\n                  <component\n                    v-if=\"col.icon\"\n                    :is=\"col.icon\"\n                    class=\"fu-listview__th-icon\"\n                  />\n\n                  <span class=\"fu-listview__th-label\">\n                    {{ col.label }}\n                  </span>\n\n                  <span\n                    v-if=\"col.sortable && activeSortKey === col.key\"\n                    class=\"fu-listview__sort-indicator\"\n                  >\n                    {{ activeSortDirection === \"asc\" ? \"â–²\" : \"â–¼\" }}\n                  </span>\n                </div>\n\n                <span\n                  v-if=\"options?.resizeColumn\"\n                  class=\"fu-listview__resize-handle\"\n                  @mousedown.stop=\"startResize($event, index)\"\n                ></span>\n              </div>\n            </th>\n          </tr>\n        </thead>\n\n        <!-- BODY -->\n        <tbody>\n          <tr\n            v-for=\"row in rows\"\n            :key=\"row[rowKey]\"\n            class=\"fu-listview__row\"\n            @click=\"handleRowClick(row)\"\n          >\n            <td\n              v-if=\"options?.selectable\"\n              class=\"fu-listview__td fu-listview__td--checkbox\"\n              @click.stop\n            >\n              <FusionCheckbox\n                v-model=\"row.__selected\"\n                @change=\"emitSelectionChange\"\n                size=\"sm\"\n                :disabled=\"!isSelectable(row)\"\n              />\n            </td>\n\n            <slot name=\"tableRow\" :row=\"row\">\n              <td\n                v-for=\"col in internalColumns\"\n                :key=\"col.key\"\n                class=\"fu-listview__td\"\n                :style=\"{ width: col.width }\"\n                :class=\"`align-${col.textAlign || 'justify'}`\"\n              >\n                <slot :name=\"`cell-${col.key}`\" :row=\"row\" :col=\"col\">\n                  <span class=\"fu-listview__cell\">\n                    {{ row[col.key] }}\n                  </span>\n                </slot>\n              </td>\n            </slot>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, watch, computed, onMounted, onBeforeUnmount } from \"vue\";\nimport FusionCheckbox from \"@/components/checkbox/FusionCheckbox.vue\";\n\nexport type SortDirection = \"asc\" | \"desc\";\n\nexport interface ListColumn {\n  label: string;\n  key: string;\n  width?: string;\n  icon?: any;\n  textAlign?: \"start\" | \"center\" | \"end\" | \"justify\";\n  sortable?: boolean;\n}\n\nconst props = defineProps<{\n  columns: ListColumn[];\n  rows: Record<string, any>[];\n  rowKey: string;\n  showHeader?: boolean;\n\n  /** NEW: controlled sort support */\n  sort?: {\n    key: string | null;\n    direction: SortDirection;\n  } | null;\n\n  options?: {\n    onRowClick?: (row: any) => void;\n    selectable?: boolean;\n    resizeColumn?: boolean;\n    sortable?: boolean;\n    isRowSelectable?: (row: any) => boolean;\n  };\n}>();\n\nconst emit = defineEmits<{\n  (e: \"row-selected\", selectedRows: any[]): void;\n  (e: \"row-clicked\", clickedRow: any): void;\n  (e: \"sort-change\", payload: { key: string; direction: SortDirection }): void;\n}>();\n\n/* -----------------------------\n   INTERNAL STATE\n-------------------------------- */\n\nconst internalColumns = ref(\n  props.columns.map((col) => ({\n    ...col,\n    width: col.width || \"150px\",\n    textAlign: col.textAlign || \"justify\",\n    sortable: !!col.sortable,\n  }))\n);\n\nconst allSelected = ref(false);\nconst listviewRef = ref<HTMLElement | null>(null);\nconst tableWrapper = ref<HTMLElement | null>(null);\n\nconst internalSortKey = ref<string | null>(null);\nconst internalSortDirection = ref<SortDirection>(\"asc\");\n\nconst isControlledSort = computed(() => !!props.sort);\n\nconst activeSortKey = computed(() =>\n  isControlledSort.value ? props.sort?.key ?? null : internalSortKey.value\n);\n\nconst activeSortDirection = computed(() =>\n  isControlledSort.value ? props.sort?.direction ?? \"asc\" : internalSortDirection.value\n);\n\nconst showHeader = props.showHeader ?? true;\n\nconst isSortingEnabled = () => props.options?.sortable !== false;\n\n/* -----------------------------\n   SELECTION\n-------------------------------- */\n\nfunction isSelectable(row: any) {\n  if (!props.options?.selectable) return false;\n  if (props.options?.isRowSelectable) {\n    return props.options.isRowSelectable(row);\n  }\n  return true;\n}\n\nfunction emitSelectionChange() {\n  const selected = props.rows.filter((r) => r.__selected && isSelectable(r));\n  emit(\"row-selected\", selected);\n}\n\nwatch(allSelected, (val) => {\n  if (!props.options?.selectable) return;\n\n  props.rows.forEach((row) => {\n    if (isSelectable(row)) {\n      row.__selected = val;\n    }\n  });\n\n  emitSelectionChange();\n});\n\n/* -----------------------------\n   SORTING (FIXED)\n-------------------------------- */\n\nfunction onHeaderClick(col: { key: string; sortable?: boolean }) {\n  if (!isSortingEnabled()) return;\n  if (!col.sortable) return;\n\n  const currentKey = activeSortKey.value;\n  const currentDirection = activeSortDirection.value;\n\n  let newDirection: SortDirection = \"asc\";\n\n  if (currentKey === col.key) {\n    newDirection = currentDirection === \"asc\" ? \"desc\" : \"asc\";\n  }\n\n  // If uncontrolled, update internal state\n  if (!isControlledSort.value) {\n    internalSortKey.value = col.key;\n    internalSortDirection.value = newDirection;\n  }\n\n  // Always emit\n  emit(\"sort-change\", {\n    key: col.key,\n    direction: newDirection,\n  });\n}\n\n/* -----------------------------\n   ROW CLICK\n-------------------------------- */\n\nfunction handleRowClick(row: any) {\n  emit(\"row-clicked\", row);\n  props.options?.onRowClick?.(row);\n}\n\n/* -----------------------------\n   RESIZE\n-------------------------------- */\n\nlet resizingIndex: number | null = null;\nlet startX = 0;\nlet startWidth = 0;\n\nfunction startResize(e: MouseEvent, index: number) {\n  if (!props.options?.resizeColumn) return;\n\n  resizingIndex = index;\n  startX = e.clientX;\n  startWidth = parseInt(internalColumns.value[index].width as string, 10);\n\n  document.addEventListener(\"mousemove\", onResize);\n  document.addEventListener(\"mouseup\", stopResize);\n}\n\nfunction onResize(e: MouseEvent) {\n  if (resizingIndex === null) return;\n\n  const delta = e.clientX - startX;\n  internalColumns.value[resizingIndex].width = `${Math.max(60, startWidth + delta)}px`;\n}\n\nfunction stopResize() {\n  resizingIndex = null;\n  document.removeEventListener(\"mousemove\", onResize);\n  document.removeEventListener(\"mouseup\", stopResize);\n}\n\n/* -----------------------------\n   SCROLL FIX\n-------------------------------- */\n\nfunction wakeScroll() {\n  const el = tableWrapper.value;\n  if (!el) return;\n\n  el.style.overflowY = \"hidden\";\n  requestAnimationFrame(() => {\n    el.style.overflowY = \"auto\";\n  });\n}\n\nonMounted(() => {\n  wakeScroll();\n  window.addEventListener(\"resize\", wakeScroll);\n});\n\nonBeforeUnmount(() => {\n  window.removeEventListener(\"resize\", wakeScroll);\n  document.removeEventListener(\"mousemove\", onResize);\n  document.removeEventListener(\"mouseup\", stopResize);\n});\n</script>\n\n<style scoped lang=\"scss\">\n@import \"ListView.scss\";\n\n.fu-listview__th-sortable {\n  display: inline-flex;\n  align-items: center;\n  gap: 6px;\n  user-select: none;\n}\n\n.fu-listview__th-sortable.is-sortable {\n  cursor: pointer;\n}\n\n.fu-listview__th-sortable:not(.is-sortable) {\n  cursor: default;\n  opacity: 0.9;\n}\n\n.fu-listview__sort-indicator {\n  font-size: 10px;\n  opacity: 0.7;\n}\n\n.align-start {\n  text-align: left !important;\n  justify-content: flex-start !important;\n}\n.align-center {\n  text-align: center !important;\n  justify-content: center !important;\n}\n.align-end {\n  text-align: right !important;\n  justify-content: flex-end !important;\n}\n.align-justify {\n  text-align: justify !important;\n  justify-content: space-between !important;\n}\n</style>\n","<template>\n  <Teleport to=\"body\">\n    <div v-if=\"isVisible\" class=\"fu-modal__backdrop\" @click.self=\"onCancel\">\n      <div class=\"fu-confirm\" :class=\"`fu-confirm--${variant}`\">\n        <!-- BODY -->\n        <div class=\"fu-confirm__body\">\n          <div class=\"fu-confirm__icon\">\n            <component :is=\"icon\" />\n          </div>\n\n          <h3 class=\"fu-confirm__title\">{{ title }}</h3>\n          <p class=\"fu-confirm__message\">{{ message }}</p>\n        </div>\n\n        <!-- FOOTER -->\n        <div class=\"fu-confirm__footer\">\n          <FusionButton variant=\"outline\" buttonWidth=\"100%\" @click=\"onCancel\">\n            {{ cancelText }}\n          </FusionButton>\n\n          <FusionButton :variant=\"confirmVariant\" buttonWidth=\"100%\" @click=\"onConfirm\">\n            {{ confirmText }}\n          </FusionButton>\n        </div>\n      </div>\n    </div>\n  </Teleport>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, watch, onMounted, onBeforeUnmount } from \"vue\";\nimport FusionButton from \"../button/FusionButton.vue\";\nimport { Trash2, AlertTriangle, CheckCircle } from \"lucide-vue-next\";\n\nconst props = withDefaults(\n  defineProps<{\n    isVisible: boolean;\n    title: string;\n    message: string;\n    variant?: \"delete\" | \"warning\" | \"confirm\";\n    confirmText?: string;\n    cancelText?: string;\n  }>(),\n  {\n    variant: \"confirm\",\n    confirmText: \"Confirm\",\n    cancelText: \"Cancel\",\n  }\n);\n\nconst emit = defineEmits<{\n  (e: \"cancel\"): void;\n  (e: \"confirm\"): void;\n}>();\n\nconst onCancel = () => emit(\"cancel\");\nconst onConfirm = () => emit(\"confirm\");\n\n/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ICONS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */\n\nconst icon = computed(() => {\n  if (props.variant === \"delete\") return Trash2;\n  if (props.variant === \"warning\") return AlertTriangle;\n  return CheckCircle;\n});\n\nconst confirmVariant = computed(() => {\n  if (props.variant === \"delete\") return \"danger\";\n  if (props.variant === \"warning\") return \"danger\";\n  return \"solid\";\n});\n\n/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ KEYBOARD (ENTER â†’ CONFIRM) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */\n\n/**\n * Only triggers when dialog is visible\n * Prevents accidental confirms elsewhere\n */\nconst handleKeydown = (e: KeyboardEvent) => {\n  if (!props.isVisible) return;\n\n  if (e.key === \"Enter\") {\n    e.preventDefault();\n    onConfirm();\n  }\n\n  if (e.key === \"Escape\") {\n    onCancel();\n  }\n};\n\nonMounted(() => {\n  window.addEventListener(\"keydown\", handleKeydown);\n});\n\nonBeforeUnmount(() => {\n  window.removeEventListener(\"keydown\", handleKeydown);\n});\n</script>\n\n<style scoped>\n/* BACKDROP */\n.fu-modal__backdrop {\n  position: fixed;\n  inset: 0;\n  background: rgba(0, 0, 0, 0.5);\n  z-index: 999;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  padding: 1rem;\n}\n\n/* CONFIRM DIALOG */\n.fu-confirm {\n  background: var(--fu-modal-surface);\n  border-radius: var(--fu-rounded-xl, 0.75rem);\n  padding: 1rem;\n  max-width: 325px;\n  width: 100%;\n  text-align: center;\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);\n}\n\n.fu-confirm__body {\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n}\n\n.fu-confirm__icon {\n  display: flex;\n  justify-content: center;\n  margin-bottom: 0.5rem;\n}\n\n.fu-confirm__icon svg {\n  width: 32px;\n  height: 32px;\n}\n\n.fu-confirm__title {\n  margin: 0;\n  font-size: 1.1rem;\n  font-weight: 500;\n  color: var(--fu-color-text);\n}\n\n.fu-confirm__message {\n  font-size: 0.95rem;\n  color: #6b7280;\n}\n\n.fu-confirm__footer {\n  display: flex;\n  gap: 0.5rem;\n  margin-top: 1.25rem;\n}\n\n/* Variants */\n.fu-confirm--delete .fu-confirm__icon {\n  color: #ef4444;\n}\n\n.fu-confirm--warning .fu-confirm__icon {\n  color: #f59e0b;\n}\n\n.fu-confirm--confirm .fu-confirm__icon {\n  color: #10b981;\n}\n</style>\n","<template>\n  <Teleport to=\"body\">\n    <div v-if=\"isVisible\" class=\"fu-preview-backdrop\">\n      <div class=\"fu-preview-modal\">\n        <!-- HEADER 1 -->\n        <header class=\"fu-preview-header\">\n          <div class=\"fu-preview-header__left\">\n            <slot name=\"header-left\" />\n          </div>\n\n          <div class=\"fu-preview-header__right\">\n            <slot name=\"header-right\">\n              <FusionButton\n                variant=\"subtle\"\n                size=\"sm\"\n                text=\"Close preview\"\n                @click=\"onClose\"\n              />\n            </slot>\n          </div>\n        </header>\n\n        <!-- HEADER 2 -->\n        <header class=\"fu-preview-subheader\">\n          <slot name=\"subheader\" />\n        </header>\n\n        <!-- BODY -->\n        <main class=\"fu-preview-body\">\n          <slot />\n        </main>\n      </div>\n    </div>\n  </Teleport>\n</template>\n\n<script setup lang=\"ts\">\nimport { onMounted, onBeforeUnmount, watch } from \"vue\";\nimport FusionButton from \"../button/FusionButton.vue\";\n\nconst props = defineProps<{\n  isVisible: boolean;\n}>();\n\nconst emit = defineEmits<{\n  (e: \"close\"): void;\n}>();\n\nconst onClose = () => emit(\"close\");\n\n/* Lock body scroll */\nwatch(\n  () => props.isVisible,\n  (val) => {\n    document.body.style.overflow = val ? \"hidden\" : \"\";\n  },\n  { immediate: true }\n);\n\nfunction handleKeydown(e: KeyboardEvent) {\n  if (e.key === \"Escape\") onClose();\n}\n\nonMounted(() => {\n  window.addEventListener(\"keydown\", handleKeydown);\n});\n\nonBeforeUnmount(() => {\n  window.removeEventListener(\"keydown\", handleKeydown);\n  document.body.style.overflow = \"\";\n});\n</script>\n\n<style scoped lang=\"scss\">\n.fu-preview-backdrop {\n  position: fixed;\n  inset: 0;\n  z-index: 1200;\n  background: rgba(0, 0, 0, 0.55);\n}\n\n.fu-preview-modal {\n  width: 100vw;\n  height: 100vh;\n  background: var(--fu-surface-background);\n  display: flex;\n  flex-direction: column;\n}\n\n\n.fu-preview-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 1rem;\n  border-bottom: 1px solid var(--fu-border);\n  background: var(--fu-surface-background);\n}\n\n\n.fu-preview-subheader {\n  padding: 1rem;\n  border-bottom: 1px solid var(--fu-border);\n  background: var(--fu-surface-alt);\n}\n\n\n.fu-preview-body {\n  flex: 1;\n  overflow-y: auto;\n  padding: 0;\n  background: #f6f6f6;\n}\n</style>\n","<template>\n    <div class=\"fu-module-menu-wrapper scrollbar__control customScrollBar\">\n        <ul class=\"fu-module-menu-wrapper__list\">\n            <li v-for=\"item in items\" :key=\"item.path\"\n                :class=\"{ active: activePath && activePath.startsWith(item.path) }\">\n                <router-link class=\"fu-module-menu-link\" :to=\"item.path\">\n                    <component v-if=\"item.icon\" :is=\"item.icon\" :size=\"15\" class=\"fu-module-menu-icon\" />\n                    <span>{{ item.label }}</span>\n                </router-link>\n            </li>\n\n       \n            <li v-if=\"!items || !items.length\" class=\"fu-module-menu-empty\">\n                No menu items\n            </li>\n        </ul>\n    </div>\n</template>\n\n<script setup lang=\"ts\">\nimport type { Component } from \"vue\";\n\ninterface MenuItem {\n    label: string;\n    path: string;\n    icon?: Component;\n}\n\ndefineProps<{\n    items: MenuItem[];\n    activePath?: string;\n}>();\n</script>\n\n<style scoped lang=\"scss\">\n@import url(\"./FusionModuleMenu.scss\");\n</style>\n","<template>\n  <div class=\"fu-notification-dropdown\" ref=\"dropdown\">\n    <!-- Bell Trigger -->\n    <div class=\"fu-notification__trigger\"  @click=\"toggleDropdown\">\n      <div class=\"fu-bell-icon\">\n        <component v-if=\"bellIcon\" :is=\"bellIcon\" :stroke-width=\"1.5\" class=\"fu-bell-svg\" />\n        <Bell v-else class=\"fu-bell-svg\" :class=\"[props.bellStyle, props.bellClass]\" />\n        <span v-if=\"unreadCount > 0\" class=\"fu-badge\">{{ unreadCount }}</span>\n      </div>\n    </div>\n\n\n    <teleport to=\"body\">\n      <transition name=\"fade\">\n        <div v-if=\"dropdownOpen\" ref=\"panelEl\" class=\"fu-notification__panel\" :style=\"menuPosition\">\n          <slot>\n            <div class=\"fu-empty\">\n              <h4>No Content</h4>\n              <p>Use the default slot to pass custom dropdown body.</p>\n            </div>\n          </slot>\n        </div>\n      </transition>\n    </teleport>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, onMounted, onBeforeUnmount } from \"vue\";\nimport { Bell } from \"lucide-vue-next\";\n\ninterface Props {\n  unreadCount?: number;\n  bellIcon?: any;\n  align?: \"left\" | \"center\" | \"right\";\n  bellClass?: string;\n  bellStyle?: \"light\" | \"dark\"\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  unreadCount: 0,\n  bellIcon: undefined,\n  align: \"right\",\n  bellStyle: \"light\",\n  bellClass: \"\",\n});\n\nconst dropdownOpen = ref(false);\nconst dropdown = ref<HTMLElement | null>(null);\nconst panelEl = ref<HTMLElement | null>(null);\nconst menuPosition = ref<Record<string, string>>({});\n\nconst toggleDropdown = () => {\n  dropdownOpen.value = !dropdownOpen.value;\n  if (dropdownOpen.value && dropdown.value) {\n    const rect = dropdown.value.getBoundingClientRect();\n\n    let left = rect.left + window.scrollX;\n    if (props.align === \"right\") left = rect.right + window.scrollX - 300;\n    else if (props.align === \"center\") left = rect.left + window.scrollX - 160 + rect.width / 2;\n\n    menuPosition.value = {\n      top: `${rect.bottom + window.scrollY + 8}px`,\n      left: `${Math.max(left, 8)}px`,\n      position: \"absolute\",\n      zIndex: \"2000\",\n    };\n  }\n};\n\n\nconst handleClickOutside = (event: MouseEvent) => {\n  const target = event.target as Node;\n  if (\n    dropdownOpen.value &&\n    dropdown.value &&\n    !dropdown.value.contains(target) &&\n    (!panelEl.value || !panelEl.value.contains(target))\n  ) {\n    dropdownOpen.value = false;\n  }\n};\n\nonMounted(() => document.addEventListener(\"click\", handleClickOutside));\nonBeforeUnmount(() => document.removeEventListener(\"click\", handleClickOutside));\n</script>\n\n<style scoped lang=\"scss\">\n.fu-notification-dropdown {\n  position: relative;\n  display: inline-block;\n\n  .fu-notification__trigger {\n    cursor: pointer;\n    position: relative;\n\n\n\n    .fu-bell-icon {\n      position: relative;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n\n      .fu-bell-svg {\n        width: 22px;\n        height: 22px;\n\n        &.dark .fu-bell-svg {\n          color: #fff !important;\n        }\n\n        &.light .fu-bell-svg {\n          color: #241c15 !important;\n        }\n      }\n\n      .fu-badge {\n        position: absolute;\n        top: -6px;\n        right: -6px;\n        background: #ef4444;\n        color: #fff;\n        font-size: 11px;\n        font-weight: 600;\n        border-radius: 50%;\n        width: 16px;\n        height: 16px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      }\n    }\n  }\n}\n\n\n.fu-notification__panel {\n  position: absolute;\n  width: 300px;\n  background-color: var(--fu-surface-background);\n  border-radius: 8px;\n  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.15);\n  border: 0.5px solid var(--fu-border);\n  overflow: hidden;\n  animation: dropdown-fade 0.15s ease;\n  max-height: 472px;\n}\n\n\n.fu-empty {\n  text-align: center;\n  padding: 2rem;\n  color: #666;\n\n  h4 {\n    font-weight: 600;\n    margin-bottom: 0.25rem;\n  }\n\n  p {\n    font-size: 13px;\n    color: #777;\n  }\n}\n\n\n.fade-enter-active,\n.fade-leave-active {\n  transition: opacity 0.15s ease;\n}\n\n.fade-enter-from,\n.fade-leave-to {\n  opacity: 0;\n}\n\n@keyframes dropdown-fade {\n  from {\n    transform: translateY(-6px);\n    opacity: 0;\n  }\n\n  to {\n    transform: translateY(0);\n    opacity: 1;\n  }\n}\n</style>\n","<template>\n  <div\n    v-if=\"visible\"\n    :class=\"['fu-alert', `fu-alert--${variant}`, { 'fu-alert--bordered': border }]\"\n  >\n    <div v-if=\"icon\" class=\"fu-alert__icon\">\n      <slot name=\"icon\">\n        <CircleAlert />\n      </slot>\n    </div>\n\n    <div class=\"fu-alert__content\">\n      <slot />\n    </div>\n\n    <!-- Actions Slot -->\n    <div v-if=\"$slots.actions\" class=\"fu-alert__actions\">\n      <slot name=\"actions\" />\n    </div>\n\n    <div v-if=\"dismissible\" class=\"fu-alert__close\">\n      <FusionActionButton\n        :icon=\"XIcon\"\n        size=\"sm\"\n        variant=\"ghost\"\n        @click=\"visible = false\"\n      />\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref } from \"vue\";\nimport FusionActionButton from \"@/components/actionButton/FusionActionButton.vue\";\nimport { X as XIcon, CircleAlert } from \"lucide-vue-next\";\n\nconst props = defineProps<{\n  variant?: \"info\" | \"danger\" | \"success\" | \"warning\" | \"dark\";\n  icon?: boolean;\n  border?: boolean;\n  dismissible?: boolean;\n}>();\n\nconst visible = ref(true);\n</script>\n\n<style scoped>\n.fu-alert {\n  display: flex;\n  align-items: flex-start;\n  gap: 12px;\n  padding: 16px 20px;\n  border-radius: 14px;\n  font-size: 0.95rem;\n  line-height: 1.4;\n}\n\n.fu-alert--bordered {\n  border: 1px solid rgba(0, 0, 0, 0.12);\n}\n\n.fu-alert--info {\n  background: #eef4ff;\n  color: #1c3d8f;\n}\n\n.fu-alert--danger {\n  background: #fdecec;\n  color: #7a1e1e;\n}\n\n.fu-alert--success {\n  background: #edfdf4;\n  color: #0f5132;\n}\n\n.fu-alert--warning {\n  background: #fff7e6;\n  color: #7a4b14;\n}\n\n.fu-alert--dark {\n  background: #f4f5f7;\n  color: #1c1c1c;\n}\n\n.fu-alert__icon {\n  margin-top: 2px;\n  opacity: 0.85;\n  display: flex;\n}\n\n.fu-alert__content {\n  flex: 1;\n  font-weight: 400;\n}\n\n.fu-alert__actions {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.fu-alert__close {\n  display: flex;\n  align-items: center;\n}\n</style>\n","<template>\n  <teleport to=\"body\">\n    <transition name=\"fu-toast-fade\">\n      <div\n        v-if=\"visible\"\n        class=\"fu-toast\"\n        :class=\"[`fu-toast--${type}`]\"\n        role=\"alert\"\n      >\n        <div class=\"fu-toast__content\">\n          <component :is=\"iconMap[type]\" class=\"fu-toast__icon\" />\n          <span class=\"fu-toast__message\">{{ message }}</span>\n          <button class=\"fu-toast__close\" @click=\"close\">Ã—</button>\n        </div>\n      </div>\n    </transition>\n  </teleport>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, onMounted, defineProps } from \"vue\";\nimport { CheckCircle2, XCircle, Info } from \"lucide-vue-next\";\n\nexport type ToastType = \"success\" | \"error\" | \"info\" | \"dark\";\n\ninterface Props {\n  message: string;\n  type?: ToastType;\n  duration?: number;\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  type: \"info\",\n  duration: 3500,\n});\n\nconst visible = ref(false);\n\nconst iconMap: Record<ToastType, any> = {\n  success: CheckCircle2,\n  error: XCircle,\n  info: Info,\n  dark: Info,\n};\n\nonMounted(() => {\n  visible.value = true;\n  setTimeout(() => (visible.value = false), props.duration);\n});\n\nfunction close(): void {\n  visible.value = false;\n}\n</script>\n\n<style scoped lang=\"scss\">\n.fu-toast {\n  position: fixed;\n  bottom: 1.5rem; /* ðŸ‘ˆ moved from top to bottom */\n  right: 1.5rem;\n  min-width: 280px;\n  max-width: 400px;\n  background: var(--fu-surface-dark, #333);\n  color: #fff;\n  border-radius: 0.5rem;\n  padding: 0.75rem 1rem;\n  display: flex;\n  align-items: center;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.25);\n  z-index: 9999;\n\n  &__content {\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n    flex: 1;\n  }\n\n  &__icon {\n    flex-shrink: 0;\n    width: 18px;\n    height: 18px;\n  }\n\n  &__message {\n    flex: 1;\n    font-size: 14px;\n    line-height: 1.3;\n    word-break: break-word;\n  }\n\n  &__close {\n    background: transparent;\n    border: none;\n    color: inherit;\n    font-size: 18px;\n    cursor: pointer;\n    padding: 0;\n  }\n\n  &--success {\n    background: #16a34a;\n  }\n\n  &--error {\n    background: #dc2626;\n  }\n\n  &--info {\n    background: #2563eb;\n  }\n\n  &--dark {\n    background: #111;\n  }\n}\n\n/* Fade animation */\n.fu-toast-fade-enter-active,\n.fu-toast-fade-leave-active {\n  transition: all 0.25s ease;\n}\n.fu-toast-fade-enter-from,\n.fu-toast-fade-leave-to {\n  opacity: 0;\n  transform: translateY(10px); \n}\n</style>\n\n\n","<template>\n  <div class=\"fu-pagination\">\n    <!-- Left side -->\n    <div class=\"fu-pagination__left\">\n      <!-- Info -->\n      <div v-if=\"showInfo\" class=\"fu-pagination__info\">\n        {{ start }}â€“{{ end }} of {{ total }}\n      </div>\n\n      <!-- Rows per page -->\n      <FusionStatusDropdown\n        v-if=\"showPageSize\"\n        v-model=\"pageSizeModel\"\n        :options=\"pageSizeDropdownOptions\"\n        align=\"left\"\n        size=\"sm\"\n      />\n    </div>\n\n    <!-- Right side -->\n    <div class=\"fu-pagination__controls\">\n      <!-- Previous -->\n      <button\n        class=\"fu-pagination__btn\"\n        :disabled=\"page <= 1\"\n        @click=\"goTo(page - 1)\"\n        aria-label=\"Previous page\"\n      >\n        <ChevronLeft class=\"fu-pagination__icon\" />\n      </button>\n\n      <!-- Page numbers -->\n      <template v-if=\"variant !== 'simple'\">\n        <button\n          v-for=\"p in pages\"\n          :key=\"p.key\"\n          class=\"fu-pagination__btn\"\n          :class=\"{ active: p.page === page, ellipsis: p.ellipsis }\"\n          :disabled=\"!!p.ellipsis\"\n          @click=\"handlePageClick(p.page)\"\n        >\n          {{ p.label }}\n        </button>\n      </template>\n\n      <!-- Next -->\n      <button\n        class=\"fu-pagination__btn\"\n        :disabled=\"page >= totalPages\"\n        @click=\"goTo(page + 1)\"\n        aria-label=\"Next page\"\n      >\n        <ChevronRight class=\"fu-pagination__icon\" />\n      </button>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed } from \"vue\";\nimport { ChevronLeft, ChevronRight } from \"lucide-vue-next\";\nimport FusionStatusDropdown from \"@/components/StatusDropdown/FusionStatusDropdown.vue\";\n\ninterface PageSizeOption {\n  label: string;\n  value: number;\n}\n\ninterface Props {\n  page: number;\n  pageSize: number;\n  total: number;\n  variant?: \"default\" | \"simple\";\n  showInfo?: boolean;\n  siblingCount?: number;\n\n  showPageSize?: boolean;\n  pageSizeOptions?: number[];\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  variant: \"default\",\n  showInfo: true,\n  siblingCount: 1,\n  showPageSize: true,\n  pageSizeOptions: () => [10, 25, 50, 100],\n});\n\nconst emit = defineEmits<{\n  (e: \"update:page\", page: number): void;\n  (e: \"update:pageSize\", size: number): void;\n}>();\n\n/* -----------------------------\n   Page size dropdown mapping\n------------------------------ */\nconst pageSizeDropdownOptions = computed<PageSizeOption[]>(() =>\n  props.pageSizeOptions.map((size) => ({\n    label: String(size),\n    value: size,\n  }))\n);\n\nconst pageSizeModel = computed<PageSizeOption>({\n  get() {\n    return (\n      pageSizeDropdownOptions.value.find((o) => o.value === props.pageSize) ||\n      pageSizeDropdownOptions.value[0]\n    );\n  },\n  set(option) {\n    emit(\"update:pageSize\", option.value);\n    emit(\"update:page\", 1); // reset page\n  },\n});\n\n/* -----------------------------\n   Derived values\n------------------------------ */\nconst totalPages = computed(() => Math.max(1, Math.ceil(props.total / props.pageSize)));\n\nconst start = computed(() =>\n  props.total === 0 ? 0 : (props.page - 1) * props.pageSize + 1\n);\n\nconst end = computed(() => Math.min(props.page * props.pageSize, props.total));\n\n/* -----------------------------\n   Navigation\n------------------------------ */\nfunction goTo(page: number) {\n  if (page < 1 || page > totalPages.value) return;\n  emit(\"update:page\", page);\n}\n\nfunction handlePageClick(page?: number) {\n  if (!page) return;\n  goTo(page);\n}\n\n/* -----------------------------\n   Truncated pages\n------------------------------ */\nconst pages = computed(() => {\n  const result: Array<{\n    key: string;\n    label: string;\n    page?: number;\n    ellipsis?: boolean;\n  }> = [];\n\n  const total = totalPages.value;\n  const current = props.page;\n  const sibling = props.siblingCount;\n\n  const startPage = Math.max(2, current - sibling);\n  const endPage = Math.min(total - 1, current + sibling);\n\n  result.push({ key: \"p-1\", label: \"1\", page: 1 });\n\n  if (startPage > 2) {\n    result.push({ key: \"e-left\", label: \"â€¦\", ellipsis: true });\n  }\n\n  for (let p = startPage; p <= endPage; p++) {\n    result.push({ key: `p-${p}`, label: String(p), page: p });\n  }\n\n  if (endPage < total - 1) {\n    result.push({ key: \"e-right\", label: \"â€¦\", ellipsis: true });\n  }\n\n  if (total > 1) {\n    result.push({ key: `p-${total}`, label: String(total), page: total });\n  }\n\n  return result;\n});\n</script>\n\n<style scoped lang=\"scss\">\n.fu-pagination {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  gap: 1rem;\n  padding-top: 0.4rem;\n}\n\n.fu-pagination__left {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n}\n\n.fu-pagination__info {\n  font-size: 13px;\n  color: var(--fu-color-text-muted);\n  white-space: nowrap;\n}\n\n.fu-pagination__controls {\n  display: flex;\n  align-items: center;\n  gap: 0.25rem;\n}\n\n.fu-pagination__btn {\n  min-width: 28px;\n  height: 28px;\n  border-radius: 6px;\n  border: 1px solid var(--fu-border);\n  background: var(--fu-button-subtle);\n  cursor: pointer;\n  color: var(--fu-color-text);\n\n  &:hover:not(:disabled) {\n    background: var(--fu-surface-alt);\n  }\n\n  &:disabled {\n    opacity: 0.4;\n    cursor: not-allowed;\n  }\n\n  &.active {\n    background: var(--fu-surface-alt);\n    font-weight: 600;\n  }\n\n  &.ellipsis {\n    border-color: transparent;\n    background: transparent;\n    cursor: default;\n  }\n}\n\n.fu-pagination__icon {\n  width: 16px;\n  height: 16px;\n}\n</style>\n","<script lang=\"ts\" setup>\nimport { computed } from \"vue\";\n\nconst props = defineProps<{\n  title?: string;\n  basis?: string | number;\n}>();\n\nconst panelBasis = computed(() => {\n  if (!props.basis) return \"300px\";\n  return typeof props.basis === \"number\" ? `${props.basis}px` : props.basis;\n});\n</script>\n\n<template>\n  <div class=\"fu-panel\" :style=\"{ flexBasis: panelBasis }\">\n    <!-- HEADER -->\n    <div v-if=\"title || $slots.actions\" class=\"fu-panel__header px-2\">\n      <h3 v-if=\"title\" class=\"fu-panel__title\">\n        {{ title }}\n      </h3>\n\n      <div v-if=\"$slots.actions\" class=\"fu-panel__actions\">\n        <slot name=\"actions\" />\n      </div>\n    </div>\n\n    <!-- BODY WRAPPER -->\n    <div class=\"fu-panel__body-wrapper\">\n      <!-- SCROLL CONTAINER -->\n      <div class=\"fu-panel__body scrollbar__control customScrollBar px-2\">\n        <slot />\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\">\n.fu-panel {\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  flex-shrink: 0;\n  border-radius: var(--fu-radius-md, 8px);\n}\n\n.fu-panel__header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  border-bottom: 1px solid var(--fu-border);\n  flex-shrink: 0;\n  background-color: var(--fu-surface-background);\n}\n\n.fu-panel__title {\n  font-size: 0.95rem;\n  font-weight: 600;\n  line-height: 1.2;\n  color: var(--fu-color-text);\n}\n\n.fu-panel__actions {\n  display: flex;\n  align-items: center;\n}\n\n.fu-panel__body-wrapper {\n  flex: 1 1 auto;\n  min-height: 0;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n}\n\n.fu-panel__body {\n  flex: 1 1 auto;\n  min-height: 0;\n  overflow-y: auto;\n  overflow-x: hidden;\n  scroll-behavior: smooth;\n  -webkit-overflow-scrolling: touch;\n  padding: var(--pd-spacing-200);\n  padding-top: 1rem;\n}\n</style>\n","<template>\n  <div class=\"fu-input-wrapper\" :style=\"{ width: formWrapperWidth }\">\n    <label v-if=\"label\" class=\"fu-input-label\">\n      {{ label }}\n      <span v-if=\"required\" class=\"fu-input-required\">*</span>\n    </label>\n\n    <div\n      class=\"fu-input-container\"\n      :class=\"[\n        `fu-input--${size}`,\n        `fu-input--${variant}`,\n        { 'fu-input--error': error },\n      ]\"\n    >\n      <input\n        v-bind=\"$attrs\"\n        class=\"fu-input\"\n        :type=\"showPassword ? 'text' : 'password'\"\n        :placeholder=\"placeholder\"\n        :disabled=\"disabled\"\n        :required=\"required\"\n        v-model=\"innerValue\"\n      />\n\n      <!-- Toggle button -->\n      <button\n        type=\"button\"\n        class=\"fu-password-toggle\"\n        @click=\"togglePassword\"\n      >\n        <component\n          :is=\"showPassword ? EyeOff : Eye\"\n          class=\"fu-password-icon\"\n        />\n      </button>\n    </div>\n\n    <span v-if=\"error\" class=\"fu-input-error\">{{ error }}</span>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, watch } from \"vue\"\nimport { Eye, EyeOff } from \"lucide-vue-next\"\n\ninterface Props {\n  modelValue?: string\n  label?: string\n  placeholder?: string\n  size?: \"sm\" | \"md\" | \"lg\"\n  variant?: \"subtle\" | \"outline\" | \"plain\"\n  disabled?: boolean\n  error?: string | null\n  required?: boolean\n  formWrapperWidth?: string\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  modelValue: \"\",\n  label: \"\",\n  placeholder: \"Enter password\",\n  size: \"sm\",\n  variant: \"outline\",\n  disabled: false,\n  error: null,\n  required: false,\n  formWrapperWidth: \"fit-content\",\n})\n\nconst emit = defineEmits<{\n  (e: \"update:modelValue\", value: string): void\n}>()\n\nconst innerValue = ref(props.modelValue)\nconst showPassword = ref(false)\n\nconst togglePassword = () => {\n  showPassword.value = !showPassword.value\n}\n\nwatch(innerValue, (val) => emit(\"update:modelValue\", val))\nwatch(() => props.modelValue, (val) => (innerValue.value = val))\n</script>\n\n<style lang=\"scss\">\n/* import base text input styles (global scope) */\n@import \"../textInput/FusionTextInput.scss\";\n\n/* Allow absolute positioning inside */\n.fu-input-container {\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n\n/* Toggle Button */\n.fu-password-toggle {\n  position: absolute;\n  right: 0.6rem;\n  top: 50%;\n  transform: translateY(-50%);\n  background: transparent;\n  border: none;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: var(--fu-color-text-light, #777);\n  transition: color 0.2s ease;\n\n  &:hover {\n    color: var(--fu-color-text);\n  }\n\n  .fu-password-icon {\n    width: 18px;\n    height: 18px;\n    pointer-events: none;\n  }\n}\n\n\n\n</style>\n","<template>\n  <div class=\"fu-progress-stepper\">\n  \n    <div class=\"fu-progress-bar\">\n      <div class=\"fu-progress-fill\" :style=\"{ width: progressWidth }\"></div>\n    </div>\n\n  \n    <div v-if=\"showLabels && steps\" class=\"fu-step-labels\">\n      <div\n        v-for=\"(step, i) in steps\"\n        :key=\"i\"\n        class=\"fu-step-label\"\n        :class=\"{ active: currentStep === i }\"\n        @click=\"onStepClick(i)\"\n      >\n        <div class=\"circle\">{{ i + 1 }}</div>\n        <div class=\"label\">{{ step.title }}</div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed } from \"vue\"\n\nconst props = defineProps<{\n  currentStep: number\n  totalSteps: number\n  showLabels?: boolean\n  steps?: { title: string }[]\n}>()\n\nconst emit = defineEmits([\"step-click\"])\n\nconst progressWidth = computed(() =>\n  `${((props.currentStep + 1) / props.totalSteps) * 100}%`\n)\n\nconst onStepClick = (index: number) => emit(\"step-click\", index)\n</script>\n\n<style scoped lang=\"scss\">\n\n.fu-progress-bar {\n  height: 5px;\n  background: #e5e7eb;\n  border-radius: 4px;\n  overflow: hidden;\n  margin-bottom: 0.75rem;\n\n  .fu-progress-fill {\n    height: 100%;\n    background: #007aff;\n    transition: width 0.3s ease-in-out;\n  }\n}\n\n/* --- Step Circles and Labels --- */\n.fu-step-labels {\n  display: flex;\n  justify-content: space-between;\n  gap: 0.5rem;\n  text-align: center;\n\n  .fu-step-label {\n    flex: 1;\n    cursor: pointer;\n    transition: all 0.2s ease;\n\n    .circle {\n      width: 32px;\n      height: 32px;\n      border-radius: 50%;\n      border: 2px solid #ccc;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      margin: 0 auto 0.25rem auto;\n      font-size: 0.9rem;\n      font-weight: 500;\n      background: white;\n      color: #555;\n      transition: all 0.25s ease;\n    }\n\n    .label {\n      font-size: 0.75rem;\n      color: #666;\n      transition: color 0.25s ease;\n    }\n\n    &.active .circle {\n      background: #007aff;\n      color: #fff;\n      border-color: #007aff;\n    }\n\n    &.active .label {\n      color: #007aff;\n      font-weight: 600;\n    }\n\n    &:hover .circle {\n      border-color: #007aff;\n    }\n\n    &:hover .label {\n      color: #007aff;\n    }\n  }\n}\n</style>\n","<template>\n  <label\n    class=\"fu-radio\"\n    :class=\"[`fu-radio--${size}`, { 'is-checked': isChecked, 'is-disabled': disabled }]\"\n  >\n    <input\n      type=\"radio\"\n      class=\"fu-radio__input\"\n      :value=\"value\"\n      :disabled=\"disabled\"\n      :checked=\"isChecked\"\n      @change=\"emit('update:modelValue', value)\"\n    />\n\n    <!-- Outer Circle -->\n    <span class=\"fu-radio__control\">\n      <span class=\"fu-radio__dot\" v-if=\"isChecked\" />\n    </span>\n\n    <!-- Label -->\n    <span v-if=\"$slots.default\" class=\"fu-radio__label\">\n      <slot />\n    </span>\n  </label>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed } from \"vue\";\n\ntype Size = \"xs\" | \"sm\" | \"md\" | \"lg\" | \"xl\";\n\ninterface Props {\n  modelValue?: string | number;\n  value: string | number;\n  size?: Size;\n  disabled?: boolean;\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  size: \"md\",\n  disabled: false,\n});\n\nconst emit = defineEmits([\"update:modelValue\"]);\n\nconst model = computed<string | number>({\n  get: () => props.modelValue as string | number,\n  set: (val: string | number) => emit(\"update:modelValue\", val),\n});\n\nconst isChecked = computed(() => model.value === props.value);\n</script>\n\n<style scoped lang=\"scss\">\n.fu-radio {\n  display: inline-flex;\n  align-items: center;\n  gap: 10px;\n  cursor: pointer;\n  position: relative;\n\n  &__input {\n    display: none;\n  }\n\n  &__control {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border-radius: 50%;\n    border: 2px solid #9ca3af;\n    transition: all 0.2s ease;\n    background: transparent;\n  }\n\n  &__dot {\n    border-radius: 50%;\n    background: #3b82f6;\n    transition: all 0.2s ease;\n  }\n\n  &__label {\n    font-weight: 500;\n  }\n\n  /* Sizes */\n  &--xs &__control {\n    width: 14px;\n    height: 14px;\n  }\n  &--xs &__dot {\n    width: 6px;\n    height: 6px;\n  }\n\n  &--sm &__control {\n    width: 18px;\n    height: 18px;\n  }\n  &--sm &__dot {\n    width: 8px;\n    height: 8px;\n  }\n\n  &--md &__control {\n    width: 22px;\n    height: 22px;\n  }\n  &--md &__dot {\n    width: 10px;\n    height: 10px;\n  }\n\n  &--lg &__control {\n    width: 26px;\n    height: 26px;\n  }\n  &--lg &__dot {\n    width: 12px;\n    height: 12px;\n  }\n\n  &--xl &__control {\n    width: 32px;\n    height: 32px;\n  }\n  &--xl &__dot {\n    width: 14px;\n    height: 14px;\n  }\n\n  /* Checked state */\n  &.is-checked &__control {\n    border-color: #3b82f6;\n  }\n\n  /* Disabled */\n  &.is-disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n}\n</style>\n","<template>\n  <div class=\"fu-range-control\">\n    <!-- Label -->\n    <label v-if=\"label\" class=\"fu-range-label\">{{ label }}</label>\n\n    <!-- Slider and Value -->\n    <div class=\"fu-range-track\">\n      <input\n        type=\"range\"\n        :min=\"min\"\n        :max=\"max\"\n        :step=\"step\"\n        :value=\"modelValue\"\n        @input=\"onInput\"\n      />\n      <span class=\"fu-range-value\">{{ displayValue }}</span>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, defineProps, defineEmits } from \"vue\"\n\ninterface Props {\n  modelValue: number | string\n  min?: number\n  max?: number\n  step?: number\n  label?: string\n  unit?: string // e.g. '%', 'px'\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  modelValue: 0,\n  min: 0,\n  max: 100,\n  step: 1,\n  label: \"\",\n  unit: \"\",\n})\n\nconst emit = defineEmits<{\n  (e: \"update:modelValue\", value: number): void\n  (e: \"change\", value: number): void\n}>()\n\nfunction onInput(e: Event) {\n  const target = e.target as HTMLInputElement\n  const value = Number(target.value)\n  emit(\"update:modelValue\", value)\n  emit(\"change\", value)\n}\n\nconst displayValue = computed(() =>\n  props.unit ? `${props.modelValue}${props.unit}` : String(props.modelValue)\n)\n</script>\n\n<style scoped>\n.fu-range-control {\n  display: flex;\n  flex-direction: column;\n  gap: 6px;\n  width: 100%;\n}\n\n.fu-range-label {\n  font-size: 13px;\n  font-weight: 500;\n  color: var(--fu-color-text);\n}\n\n.fu-range-track {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  width: 100%;\n}\n\n.fu-range-track input[type=\"range\"] {\n  flex: 1;\n  cursor: pointer;\n  accent-color: var(--fu-color-primary, #2563eb);\n}\n\n.fu-range-value {\n  min-width: 50px;\n  text-align: right;\n  font-size: 12px;\n  color: #6b7280;\n}\n</style>\n","\n<template>\n  <div class=\"fu-section-header\">\n    <div class=\"fu-section-header__left\">\n      <slot name=\"left\"></slot>\n    </div>\n\n    <div class=\"fu-section-header__right\">\n      <slot name=\"right\"></slot>\n    </div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.fu-section-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  padding: 0.75rem 0;\n  border-bottom: 1px solid var(--fu-border) !important;\n\n  &__left {\n    font-size: 20px;\n    font-weight: 600;\n    color: var(--fu-color-text);\n  }\n\n  &__right {\n    display: flex;\n    align-items: center;\n    gap: 12px;\n  }\n}\n</style>\n","<template>\n  <nav class=\"fu-sidebar\" :style=\"sidebarStyle\">\n    <ul class=\"fu-sidebar__list\">\n      <li\n        v-for=\"mod in modules\"\n        :key=\"mod.name\"\n        :class=\"{ active: activeModule === mod.name }\"\n      >\n        <div class=\"fu-sidebar__item\" @click=\"$emit('select', mod)\">\n          <div class=\"fu-sidebar__icon-wrapper\">\n            <component :is=\"mod.icon\" class=\"fu-sidebar__icon\" :size=\"20\" />\n\n            <span v-if=\"mod.count\" class=\"fu-sidebar__badge\">\n              {{ mod.count > 99 ? \"99+\" : mod.count }}\n            </span>\n          </div>\n\n          <span class=\"fu-sidebar__label\">{{ mod.label }}</span>\n        </div>\n      </li>\n    </ul>\n  </nav>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, type Component } from \"vue\";\n\ninterface Module {\n  name: string;\n  label: string;\n  icon: Component;\n  count?: number;\n}\n\nconst props = defineProps<{\n  modules: Module[];\n  activeModule?: string;\n  backgroundColor?: string;\n  borderRadius?: string;\n}>();\n\ndefineEmits([\"select\"]);\n\nconst sidebarStyle = computed(() => ({\n  \"--fu-sidebar-bg\": props.backgroundColor ?? \"var(--fu-brand-background)\",\n  \"--fu-sidebar-radius\": props.borderRadius ?? \"0px\",\n}));\n</script>\n\n<style scoped lang=\"scss\">\n@import \"./FusionSidebar.scss\";\n</style>\n","<template>\n  <div\n    class=\"fu-split-button\"\n    :class=\"[sizeClass, variantClass]\"\n    :style=\"splitButtonStyle\"\n    ref=\"splitButtonRef\"\n  >\n    <!-- Main button -->\n    <button\n      class=\"fu-split-button__main\"\n      :disabled=\"disabled\"\n      @click=\"mainAction\"\n      type=\"button\"\n      aria-haspopup=\"true\"\n      :aria-expanded=\"isOpen\"\n    >\n      <component v-if=\"icon\" :is=\"icon\" class=\"fu-split-button__icon\" />\n      <span><slot /></span>\n    </button>\n\n    <!-- Toggle dropdown button -->\n    <button\n      class=\"fu-split-button__toggle\"\n      @click=\"toggleDropdown\"\n      :aria-expanded=\"isOpen\"\n      :disabled=\"disabled\"\n      type=\"button\"\n      aria-label=\"Toggle dropdown\"\n    >\n      <ChevronDown />\n    </button>\n\n    <!-- Teleported dropdown -->\n    <teleport to=\"body\">\n      <transition name=\"fade\">\n        <div\n          v-if=\"isOpen\"\n          class=\"fu-split-button__dropdown\"\n          :class=\"[`fu-split-button__dropdown--${align}`]\"\n          ref=\"dropdownRef\"\n          :style=\"menuStyle\"\n        >\n          <div\n            v-for=\"option in options\"\n            :key=\"option.value\"\n            class=\"fu-split-button__option\"\n            @click=\"selectOption(option)\"\n          >\n            <component\n              v-if=\"option.type === 'icon'\"\n              :is=\"option.icon\"\n              class=\"fu-split-button__option-icon\"\n            />\n            <img\n              v-else-if=\"option.type === 'image'\"\n              :src=\"option.imageUrl\"\n              class=\"fu-split-button__option-image\"\n              alt=\"\"\n            />\n            <span class=\"fu-split-button__option-label\">{{ option.label }}</span>\n          </div>\n        </div>\n      </transition>\n    </teleport>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, nextTick, onMounted, onBeforeUnmount } from \"vue\";\nimport { ChevronDown } from \"lucide-vue-next\";\n\ninterface Option {\n  label: string;\n  value: string | number;\n  type?: \"icon\" | \"image\";\n  icon?: any;\n  imageUrl?: string;\n}\n\nconst props = defineProps<{\n  options: Option[];\n  disabled?: boolean;\n  size?: \"sm\" | \"md\" | \"lg\";\n  variant?: \"solid\" | \"subtle\" | \"outline\" | \"ghost\" | \"danger\";\n  color?: string;\n  icon?: any;\n  align?: \"left\" | \"center\" | \"right\";\n  buttonWidth?: string;\n}>();\n\nconst emit = defineEmits<{\n  (e: \"main-action\"): void;\n  (e: \"select\", option: Option): void;\n}>();\n\nconst isOpen = ref(false);\nconst dropdownRef = ref<HTMLElement | null>(null);\nconst splitButtonRef = ref<HTMLElement | null>(null);\n\nconst align = computed(() => props.align ?? \"right\");\nconst menuStyle = ref<Record<string, string>>({});\n\nconst sizeClass = computed(() => `fu-split-button--${props.size ?? \"sm\"}`);\nconst variantClass = computed(() => `fu-split-button--${props.variant ?? \"solid\"}`);\n\n// NEW: Combined style for wrapper\nconst splitButtonStyle = computed(() => ({\n  ...(props.color ? { \"--fu-split-bg\": props.color } : {}),\n  ...(props.buttonWidth ? { width: props.buttonWidth } : {}),\n}));\n\n// Toggle dropdown\nfunction toggleDropdown() {\n  if (props.disabled) return;\n  isOpen.value = !isOpen.value;\n\n  if (isOpen.value) {\n    nextTick(() => {\n      positionDropdown();\n      window.addEventListener(\"click\", onClickOutside);\n      window.addEventListener(\"resize\", positionDropdown);\n    });\n  }\n}\n\n// Position dropdown\nfunction positionDropdown() {\n  if (!splitButtonRef.value || !dropdownRef.value) return;\n\n  const rect = splitButtonRef.value.getBoundingClientRect();\n  const menuWidth = dropdownRef.value.offsetWidth;\n\n  const positions: Record<string, string> = {\n    top: `${rect.bottom + window.scrollY + 4}px`,\n    left: `${rect.left + window.scrollX}px`,\n  };\n\n  if (align.value === \"right\") {\n    positions.left = `${rect.right - menuWidth + window.scrollX}px`;\n  } else if (align.value === \"center\") {\n    positions.left = `${rect.left + rect.width / 2 - menuWidth / 2 + window.scrollX}px`;\n  }\n\n  menuStyle.value = {\n    position: \"absolute\",\n    ...positions,\n    zIndex: \"1000\",\n  };\n}\n\n// Close on outside click\nfunction onClickOutside(e: MouseEvent) {\n  if (\n    splitButtonRef.value?.contains(e.target as Node) ||\n    dropdownRef.value?.contains(e.target as Node)\n  )\n    return;\n\n  isOpen.value = false;\n  window.removeEventListener(\"click\", onClickOutside);\n  window.removeEventListener(\"resize\", positionDropdown);\n}\n\n// Main button action\nfunction mainAction() {\n  if (!props.disabled) emit(\"main-action\");\n}\n\n// Select dropdown option\nfunction selectOption(option: Option) {\n  emit(\"select\", option);\n  isOpen.value = false;\n}\n\n// Clean up\nonMounted(() => {\n  onBeforeUnmount(() => {\n    window.removeEventListener(\"click\", onClickOutside);\n    window.removeEventListener(\"resize\", positionDropdown);\n  });\n});\n</script>\n\n<style scoped>\n/* =========================\n   Base\n========================= */\n\n.fu-split-button {\n  display: inline-flex;\n  position: relative;\n}\n\n.fu-split-button__main,\n.fu-split-button__toggle {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  gap: 8px;\n  border: 1px solid #fff;\n  cursor: pointer;\n  font-weight: 500;\n  transition: all 0.2s ease;\n}\n\n.fu-split-button__main {\n  border-top-left-radius: var(--fu-btn-radius);\n  border-bottom-left-radius: var(--fu-btn-radius);\n  border-right: none;\n  width: 100%;\n}\n\n.fu-split-button__toggle {\n  border-top-right-radius: var(--fu-btn-radius);\n  border-bottom-right-radius: var(--fu-btn-radius);\n  min-width: 38px;\n}\n\nbutton:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n/* =========================\n   Sizes\n========================= */\n\n.fu-split-button--sm .fu-split-button__main,\n.fu-split-button--sm .fu-split-button__toggle {\n  padding: 8px 8px;\n  font-size: 12px;\n  height: var(--fu-btn-height-sm);\n}\n\n.fu-split-button--md .fu-split-button__main,\n.fu-split-button--md .fu-split-button__toggle {\n  padding: 0.625rem 0.75rem;\n  font-size: 14px;\n  height: var(--fu-btn-height-md);\n}\n\n.fu-split-button--lg .fu-split-button__main,\n.fu-split-button--lg .fu-split-button__toggle {\n  padding: 0.75rem 1.25rem;\n  font-size: 16px;\n  height: var(--fu-btn-height-lg);\n}\n\n/* =========================\n   Split Button Variants\n========================= */\n\n/* SOLID */\n.fu-split-button--solid .fu-split-button__main,\n.fu-split-button--solid .fu-split-button__toggle {\n  background-color: var(--fu-split-bg, var(--fu-button-solid));\n  color: var(--fu-button-solid-text);\n}\n\n.fu-split-button--solid .fu-split-button__main:not(:disabled):hover,\n.fu-split-button--solid .fu-split-button__toggle:not(:disabled):hover {\n  background-color: var(--fu-button-solid-hover, var(--fu-button-solid));\n}\n\n/* SUBTLE */\n.fu-split-button--subtle .fu-split-button__main,\n.fu-split-button--subtle .fu-split-button__toggle {\n  background-color: var(--fu-button-subtle);\n  color: var(--fu-color-text);\n}\n\n.fu-split-button--subtle .fu-split-button__main:not(:disabled):hover,\n.fu-split-button--subtle .fu-split-button__toggle:not(:disabled):hover {\n  background-color: var(--fu-color-surface-gray-3);\n}\n\n/* OUTLINE */\n.fu-split-button--outline .fu-split-button__main,\n.fu-split-button--outline .fu-split-button__toggle {\n  background-color: var(--fu-color-surface-white);\n  border: 1px solid var(--fu-color-surface-gray-4);\n  color: var(--fu-color-text);\n}\n\n.fu-split-button--outline .fu-split-button__main:not(:disabled):hover,\n.fu-split-button--outline .fu-split-button__toggle:not(:disabled):hover {\n  background-color: var(--fu-color-surface-white);\n  border-color: var(--fu-color-surface-gray-5);\n  color: var(--fu-color-text);\n}\n\n/* GHOST */\n.fu-split-button--ghost .fu-split-button__main,\n.fu-split-button--ghost .fu-split-button__toggle {\n  background-color: transparent;\n  color: var(--fu-color-text);\n}\n\n.fu-split-button--ghost .fu-split-button__main:not(:disabled):hover,\n.fu-split-button--ghost .fu-split-button__toggle:not(:disabled):hover {\n  background-color: var(--fu-color-surface-gray-3);\n  color: var(--fu-color-text);\n}\n\n/* DANGER */\n.fu-split-button--danger .fu-split-button__main,\n.fu-split-button--danger .fu-split-button__toggle {\n  background-color: var(--fu-color-surface-red-5);\n  color: var(--fu-color-primary-contrast);\n}\n\n.fu-split-button--danger .fu-split-button__main:not(:disabled):hover,\n.fu-split-button--danger .fu-split-button__toggle:not(:disabled):hover {\n  background-color: var(--fu-color-surface-red-6);\n}\n\n/* DISABLED */\n.fu-split-button__main:disabled,\n.fu-split-button__toggle:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n/* =========================\n   Dropdown\n========================= */\n\n.fu-split-button__dropdown {\n  background-color: var(--fu-surface-background);\n  border: 0.5px solid var(--fu-border);\n  border-radius: var(--fu-radius);\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.15);\n  padding: 0.375rem;\n  font-size: 14px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  width: fit-content;\n  min-width: fit-content;\n  max-width: 220px;\n}\n\n.fu-split-button__dropdown--left {\n  left: 0 !important;\n  right: auto;\n}\n\n.fu-split-button__dropdown--center {\n  left: 50% !important;\n  transform: translateX(-50%);\n}\n\n.fu-split-button__dropdown--right {\n  right: 0 !important;\n  left: auto;\n}\n\n.fu-split-button__option {\n  display: flex;\n  align-items: center;\n  gap: 0.3rem;\n  padding: 0.3rem 0.6rem;\n  margin-bottom: 0.5rem;\n  border-radius: var(--fu-radius);\n  cursor: pointer;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.fu-split-button__option:hover {\n  background-color: var(--fu-surface-alt);\n}\n\n.fu-split-button__option-icon {\n  width: 16px;\n  height: 16px;\n  flex-shrink: 0;\n}\n\n.fu-split-button__option-image {\n  width: 24px;\n  height: 24px;\n  border-radius: 50%;\n  flex-shrink: 0;\n}\n\n.fu-split-button__option-label {\n  flex: 1;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n/* =========================\n   Fade transition\n========================= */\n\n.fade-enter-active,\n.fade-leave-active {\n  transition: opacity 0.15s ease, transform 0.15s ease;\n}\n\n.fade-enter-from,\n.fade-leave-to {\n  opacity: 0;\n  transform: translateY(-4px);\n}\n</style>\n","<template>\n  <button\n    type=\"button\"\n    class=\"fu-switch\"\n    :class=\"[{ 'fu-switch--checked': modelValue, disabled }, sizeClass]\"\n    role=\"switch\"\n    :aria-checked=\"modelValue\"\n    :disabled=\"disabled\"\n    @click=\"toggle\"\n  >\n    <span class=\"fu-switch__thumb\"></span>\n  </button>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed } from \"vue\"\n\ninterface Props {\n  modelValue: boolean\n  disabled?: boolean\n  size?: \"sm\" | \"md\" | \"lg\"\n}\n\nconst props = defineProps<Props>()\nconst emit = defineEmits<{ (e: \"update:modelValue\", value: boolean): void }>()\n\nfunction toggle() {\n  if (props.disabled) return\n  emit(\"update:modelValue\", !props.modelValue)\n}\n\nconst sizeClass = computed(() => {\n  switch (props.size) {\n    case \"sm\":\n      return \"fu-switch--sm\"\n    case \"lg\":\n      return \"fu-switch--lg\"\n    default:\n      return \"fu-switch--md\"\n  }\n})\n</script>\n\n<style scoped>\n.fu-switch {\n  position: relative;\n  display: inline-flex;\n  align-items: center;\n  justify-content: flex-start;\n  width: 38px;\n  height: 22px;\n  border-radius: 9999px;\n  background-color: #e5e7eb; /* gray-200 */\n  cursor: pointer;\n  transition: background-color 0.2s ease, box-shadow 0.2s ease;\n  border: none;\n  outline: none;\n}\n\n.fu-switch__thumb {\n  position: absolute;\n  top: 2px;\n  left: 2px;\n  width: 18px;\n  height: 18px;\n  background-color: white;\n  border-radius: 50%;\n  transition: transform 0.2s ease;\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.15);\n}\n\n.fu-switch--checked {\n  background-color: #2563eb; /* blue-600 */\n}\n.fu-switch--checked .fu-switch__thumb {\n  transform: translateX(16px);\n}\n\n/* Disabled */\n.fu-switch.disabled {\n  opacity: 0.6;\n  cursor: not-allowed;\n}\n\n/* Sizes */\n.fu-switch--sm {\n  width: 30px;\n  height: 18px;\n}\n.fu-switch--sm .fu-switch__thumb {\n  width: 14px;\n  height: 14px;\n  top: 2px;\n  left: 2px;\n}\n.fu-switch--sm.fu-switch--checked .fu-switch__thumb {\n  transform: translateX(12px);\n}\n\n.fu-switch--lg {\n  width: 48px;\n  height: 28px;\n}\n.fu-switch--lg .fu-switch__thumb {\n  width: 22px;\n  height: 22px;\n  top: 3px;\n  left: 3px;\n}\n.fu-switch--lg.fu-switch--checked .fu-switch__thumb {\n  transform: translateX(20px);\n}\n</style>\n","<template>\n  <div class=\"fu-tabs\">\n    <!-- Tab Headers -->\n    <div class=\"fu-tabs__header-wrapper\">\n      <div class=\"fu-tabs-buttons scrollbar__control customScrollBar\">\n       <button\n  v-for=\"tab in visibleTabs\"\n  :key=\"tab.key\"\n  @click=\"setActive(tab.key)\"\n  class=\"fu-tab\"\n  :class=\"{ 'fu-tab--active': activeTab === tab.key }\"\n  :disabled=\"tab.disabled\"\n>\n  <!-- AVATAR -->\n  <div\n    v-if=\"tab.avatarSrc || tab.avatarText\"\n    class=\"fu-tab__avatar\"\n  >\n    <img\n      v-if=\"tab.avatarSrc\"\n      :src=\"tab.avatarSrc\"\n      class=\"fu-tab__avatar-img\"\n      alt=\"avatar\"\n    />\n    <div v-else class=\"fu-tab__avatar-fallback\">\n      {{ tab.avatarText?.charAt(0)?.toUpperCase() }}\n    </div>\n  </div>\n\n  <!-- ICON -->\n  <component\n    v-else-if=\"tab.icon\"\n    :is=\"tab.icon\"\n    :size=\"16\"\n    class=\"fu-tab__icon\"\n  />\n\n  <!-- TITLE -->\n  <span\n    v-if=\"!tab.avatarSrc && !tab.avatarText && tab.title\"\n    class=\"fu-tab__title\"\n  >\n    {{ tab.title }}\n  </span>\n\n  <!-- COUNT -->\n  <span\n    v-if=\"typeof tab.count === 'number'\"\n    class=\"fu-tab__count\"\n  >\n    {{ tab.count }}\n  </span>\n</button>\n\n      </div>\n    </div>\n\n    <!-- Tab Body -->\n    <div class=\"fu-tabs__content-wrapper\">\n      <div class=\"fu-tabs__body scrollbar__control customScrollBar\" ref=\"tabBody\">\n\n        <keep-alive>\n          <div\n            v-for=\"tab in visibleTabs\"\n            :key=\"tab.key\"\n            class=\"fu-tab-panel\"\n            v-show=\"activeTab === tab.key\"\n          >\n            <slot :name=\"tab.key\" />\n          </div>\n        </keep-alive>\n\n      </div>\n\n      <div class=\"fu-tabs__footer\" v-if=\"$slots.footer\">\n        <slot name=\"footer\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, onMounted, onBeforeUnmount, nextTick } from \"vue\";\n\nconst props = defineProps({\n  tabs: Array,\n  defaultActiveDesktop: String,\n  defaultActiveMobile: String,\n});\n\nconst emit = defineEmits([\"tab-change\"]);\n\nconst isMobile = ref(window.innerWidth <= 768);\nconst activeTab = ref(\"\");\nconst tabBody = ref(null);\n\nconst visibleTabs = computed(() =>\n  props.tabs.filter(t => !t.mobileOnly || isMobile.value)\n);\n\nfunction wakeScroll() {\n  const el = tabBody.value;\n  if (!el) return;\n  el.style.overflowY = \"hidden\";\n  requestAnimationFrame(() => {\n    el.style.overflowY = \"auto\";\n  });\n}\n\nfunction setActive(key) {\n  const tab = props.tabs.find(t => t.key === key);\n  if (!tab || tab.disabled) return;\n\n  activeTab.value = key;\n  emit(\"tab-change\", key);\n\n  nextTick(() => {\n    const el = tabBody.value;\n    if (!el) return;\n    el.scrollTop = 0;\n    wakeScroll();\n  });\n}\n\nfunction setDefaultTab() {\n  const fallback = props.tabs[0]?.key;\n\n  const key = isMobile.value\n    ? props.defaultActiveMobile || fallback\n    : props.defaultActiveDesktop || fallback;\n\n  activeTab.value = key;\n}\n\nfunction updateDevice() {\n  const wasMobile = isMobile.value;\n  isMobile.value = window.innerWidth <= 768;\n  if (wasMobile !== isMobile.value) nextTick(setDefaultTab);\n}\n\nonMounted(() => {\n  updateDevice();\n  setDefaultTab();\n  wakeScroll();\n  window.addEventListener(\"resize\", updateDevice);\n});\n\nonBeforeUnmount(() => {\n  window.removeEventListener(\"resize\", updateDevice);\n});\ndefineExpose({ setActive });\n</script>\n\n<style scoped lang=\"scss\">\n.fu-tabs {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n\n  &__header-wrapper {\n    flex-shrink: 0;\n    border-bottom: 1px solid var(--fu-border);\n    background: var(--fu-surface-background);\n  }\n\n  &__content-wrapper {\n    display: flex;\n    flex-direction: column;\n    flex: 1 1 auto;\n    overflow: hidden;\n    height: 100%;\n  }\n\n  &__body {\n    flex: 1;\n    min-height: 0;\n    overflow-y: auto;\n    overflow-x: hidden;\n    padding: 0.5rem;\n    background: var(--fu-content-body);\n    padding-bottom: 4rem;\n    margin-bottom: 10px;\n    scroll-behavior: smooth;\n    -webkit-overflow-scrolling: touch;\n    overscroll-behavior: contain;\n    touch-action: pan-y;\n    transform: translateZ(0);\n  }\n\n  &__footer {\n    flex-shrink: 0;\n    border-top: 1px solid var(--fu-border);\n    background-color: var(--fu-surface-background);\n    padding: 0.75rem 1rem;\n    position: sticky;\n    bottom: 0;\n    z-index: 10;\n  }\n\n  .fu-tab {\n    display: inline-flex;\n    align-items: center;\n    gap: 0.5rem;\n    padding: 0.75rem 1rem;\n    border: none;\n    background: transparent;\n    cursor: pointer;\n    font-weight: 500;\n    color: #808080;\n    transition: color 0.2s, border-color 0.2s;\n    flex-shrink: 0;\n\n    &--active {\n      color: var(--fu-color-text);\n      border-bottom: 2px solid var(--fu-color-surface-gray-6);\n    }\n\n    &:hover:not(:disabled) {\n      color: var(--fu-color-text);\n    }\n\n    &:disabled {\n      cursor: not-allowed;\n      opacity: 0.5;\n    }\n\n    /* AVATAR */\n    &__avatar {\n      width: 28px;\n      height: 28px;\n      border-radius: 50%;\n      overflow: hidden;\n      flex-shrink: 0;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n    }\n\n    &__avatar-img {\n      width: 100%;\n      height: 100%;\n      object-fit: cover;\n    }\n\n    &__avatar-fallback {\n      width: 100%;\n      height: 100%;\n      background: #e7edff;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      font-weight: 600;\n      color: #333;\n      font-size: 12px;\n      border-radius: 50%;\n    }\n\n    &__icon {\n      display: flex;\n    }\n\n    &__title {\n      white-space: nowrap;\n    }\n\n    &__count {\n  margin-left: 0.5rem;\n  min-width: 20px;\n  height: 20px;\n  padding: 0 6px;\n\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n\n  font-size: 12px;\n  font-weight: 600;\n  line-height: 1;\n\n  border-radius: 999px;\n  background: var(--fu-color-surface-gray-5);\n  color: var(--fu-color-text);\n\n  flex-shrink: 0;\n}\n\n  &--active &__count {\n  background: var(--fu-color-primary);\n  color: #fff;\n}\n  }\n}\n\n.fu-tabs-buttons {\n  display: flex;\n  flex-wrap: nowrap;\n  overflow-x: auto;\n  overflow-y: hidden;\n  white-space: nowrap;\n  gap: 0.25rem;\n  z-index: 1;\n  position: relative;\n}\n\n\n\n</style>\n","<template>\n  <div class=\"fu-textarea-wrapper\">\n    <label v-if=\"label\" class=\"fu-textarea-label\">\n      {{ label }}\n      <span v-if=\"required\" class=\"fu-textarea-required\">*</span>\n    </label>\n\n    <textarea\n    v-bind=\"$attrs\"\n    class=\"fu-textarea fu-form-control\"\n    :class=\"[\n        `fu-textarea--${size}`,\n        { 'fu-textarea--error': error },\n        variant ? `fu-textarea--${variant}` : null\n    ]\"\n    :placeholder=\"placeholder\"\n    :disabled=\"disabled\"\n    :rows=\"rows\"\n    :required=\"required\"\n    v-model=\"innerValue\"\n    ></textarea>\n\n\n    <span v-if=\"error\" class=\"fu-textarea-error\">{{ error }}</span>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, watch } from \"vue\";\n\ninterface Props {\n  modelValue?: string;\n  label?: string;\n    variant?: \"subtle\" | \"outline\" | \"plain\";\n  placeholder?: string;\n  size?: \"sm\" | \"md\" | \"lg\";\n  disabled?: boolean;\n  error?: string | null;\n  rows?: number;\n  required?: boolean;\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  modelValue: \"\",\n  label: \"\",\n  placeholder: \"\",\n  size: \"sm\",\n  disabled: false,\n  error: null,\n  rows: 3,\n  required: false,\n  variant: \"subtle\",\n});\n\nconst emit = defineEmits<{\n  (e: \"update:modelValue\", value: string): void;\n}>();\n\nconst innerValue = ref(props.modelValue);\n\nwatch(innerValue, (val) => emit(\"update:modelValue\", val));\nwatch(\n  () => props.modelValue,\n  (val) => (innerValue.value = val)\n);\n</script>\n\n<style scoped lang=\"scss\">\n@import \"./FusionTextArea.scss\";\n\n\n</style>\n","<template>\n  <div class=\"fu-theme-selector\">\n\n    <div class=\"fu-theme-grid\">\n      <div\n        v-for=\"theme in themes\"\n        :key=\"theme.key\"\n        class=\"fu-theme-card\"\n        :class=\"{ 'is-active': modelValue === theme.key }\"\n        @click=\"selectTheme(theme.key)\"\n        tabindex=\"0\"\n        role=\"button\"\n      >\n        <!-- Preview box -->\n        <div\n          class=\"fu-theme-preview\"\n          :class=\"`fu-theme-preview--${theme.key}`\"\n        >\n          <div class=\"fu-theme-header\"></div>\n          <div class=\"fu-theme-body\"></div>\n          <div class=\"fu-theme-footer\"></div>\n\n          <div v-if=\"modelValue === theme.key\" class=\"fu-theme-check\">\n            <Check class=\"fu-check-icon\" />\n          </div>\n        </div>\n\n        <span class=\"fu-theme-label\">{{ theme.name }}</span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { Check } from \"lucide-vue-next\";\nimport { defineProps, defineEmits } from \"vue\";\n\ninterface ThemeOption {\n  key: \"light\" | \"dark\" | \"auto\" | string;\n  name: string;\n}\n\nconst props = withDefaults(\n  defineProps<{\n    modelValue?: string;\n    themes?: ThemeOption[];\n  }>(),\n  {\n    modelValue: \"auto\",\n    themes: () => [\n      { key: \"light\", name: \"Day Light\" },\n      { key: \"dark\", name: \"Timeless Night\" },\n      { key: \"auto\", name: \"Automatic\" },\n    ],\n  }\n);\n\nconst emit = defineEmits([\"update:modelValue\"]);\n\nfunction selectTheme(themeKey: string) {\n  emit(\"update:modelValue\", themeKey);\n}\n</script>\n\n<style scoped lang=\"scss\">\n.fu-theme-selector {\n  display: flex;\n  flex-direction: column;\n  gap: 1.5rem;\n  width: 100%;\n  max-width: 680px;\n  margin: 0 auto;\n  text-align: center;\n\n \n  .fu-theme-grid {\n    display: flex;\n    gap: 1.5rem;\n    justify-content: center;\n    flex-wrap: wrap;\n  }\n\n  .fu-theme-card {\n    cursor: pointer;\n    outline: none;\n    transition: all 0.2s ease;\n    display: flex;\n    flex-direction: column;\n    text-align: center;\n\n    &:hover {\n      transform: translateY(-2px);\n    }\n\n    &.is-active {\n      .fu-theme-preview {\n        border-color: #111;\n      }\n\n      .fu-theme-label {\n        font-weight: 600;\n        color: var(--fu-color-text);\n      }\n    }\n\n    .fu-theme-preview {\n      position: relative;\n      width: 124px;\n      height: 93px;\n      border-radius: 12px;\n      border: 1.5px solid #ccc;\n      background: #fff;\n      display: flex;\n      flex-direction: column;\n      justify-content: space-between;\n      overflow: hidden;\n      box-shadow: 0 1px 4px rgba(0, 0, 0, 0.05);\n      margin-bottom: 0.75rem;\n      transition: all 0.2s ease;\n\n      &--dark {\n        background: #1a1a1a;\n        border-color: #333;\n\n        .fu-theme-header {\n          background: #ccc;\n        }\n        .fu-theme-body {\n          background: #222;\n        }\n        .fu-theme-footer {\n          background: #333;\n        }\n      }\n\n      &--light {\n        background: #fff;\n        .fu-theme-header {\n          background: #e5e5e5;\n        }\n        .fu-theme-body {\n          background: #fafafa;\n        }\n        .fu-theme-footer {\n          background: #eee;\n        }\n      }\n\n      &--auto {\n        display: flex;\n        &::before,\n        &::after {\n          content: \"\";\n          flex: 1;\n          height: 100%;\n        }\n        &::before {\n          background: #fff;\n          border-right: 1px solid #ddd;\n        }\n        &::after {\n          background: #1a1a1a;\n        }\n      }\n\n      .fu-theme-header,\n      .fu-theme-body,\n      .fu-theme-footer {\n        height: 10px;\n      }\n\n      .fu-theme-check {\n        position: absolute;\n        bottom: 6px;\n        right: 6px;\n        background: rgba(0, 0, 0, 0.7);\n        color: #fff;\n        width: 20px;\n        height: 20px;\n        border-radius: 50%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n\n        .fu-check-icon {\n          width: 12px;\n          height: 12px;\n        }\n      }\n    }\n\n    .fu-theme-label {\n      display: block;\n      font-size: 14px;\n      color: var(--fu-color-text);\n      text-align: center;\n    }\n  }\n}\n</style>\n","<template>\n  <div class=\"fu-toolbar\" :class=\"toolbarClass\">\n    <!-- Left Section -->\n    <div class=\"fu-toolbar__left\">\n      <slot name=\"left\" />\n    </div>\n\n    <!-- Right / Actions Section -->\n    <div class=\"fu-toolbar__actions\">\n      <slot name=\"right\" />\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed } from \"vue\"; \n\nconst props = defineProps({\n  wrap: { type: Boolean, default: true },\n  gap: { type: String, default: \"md\" },\n  align: { type: String, default: \"center\" },\n});\n\nconst toolbarClass = computed(() => ({\n  \"flex--wrap\": props.wrap,\n  [`flex--gap-${props.gap}`]: !!props.gap,\n  [`align--${props.align}`]: !!props.align,\n}));\n</script>\n\n<style scoped lang=\"scss\">\n.fu-toolbar {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  flex-wrap: wrap;\n  gap: 0.75rem;\n  padding: 0;\n  background-color: inherit;\n  min-height: 48px;\n  width: 100%;\n  box-sizing: border-box;\n  color: var(--fu-color-text);\n\n  > * {\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n    flex-wrap: wrap;\n  }\n\n  &__left {\n    display: flex;\n    align-items: center;\n    gap: 0.75rem;\n    flex-wrap: wrap;\n    flex: 1 1 auto;\n  }\n\n  &__actions {\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n    flex-wrap: wrap;\n    justify-content: flex-end;\n  }\n\n  &__search {\n    flex: 1 1 240px;\n    min-width: 200px;\n    max-width: 480px;\n  }\n}\n</style>\n","import { createApp } from \"vue\";\nimport type { ComponentPublicInstance } from \"vue\";\nimport FusionToast from \"@/components/notifications/FusionToast.vue\";\n\nexport type ToastType = \"success\" | \"error\" | \"info\" | \"dark\";\n\nexport interface ToastOptions {\n  message: string;\n  type?: ToastType;\n  duration?: number;\n}\n\n/**\n * Programmatic toast composable\n * Usage:\n * const toast = useToast();\n * toast({ message: \"Saved!\", type: \"success\" });\n */\nexport function useToast() {\n  return ({ message, type = \"info\", duration = 3500 }: ToastOptions): void => {\n    const mount = document.createElement(\"div\");\n    document.body.appendChild(mount);\n\n    const app = createApp(FusionToast, { message, type, duration });\n    const vm = app.mount(mount) as ComponentPublicInstance;\n\n    setTimeout(() => {\n      app.unmount();\n      document.body.removeChild(mount);\n    }, duration + 500);\n  };\n}\n","import { ref, watchEffect } from \"vue\";\n\nexport type ThemeMode = \"light\" | \"dark\" | \"auto\";\n\n// Read user preference or fallback to auto\nconst saved = (localStorage.getItem(\"theme\") as ThemeMode) || \"auto\";\nconst theme = ref<ThemeMode>(saved);\n\nfunction getSystemTheme(): \"light\" | \"dark\" {\n  return window.matchMedia(\"(prefers-color-scheme: dark)\").matches\n    ? \"dark\"\n    : \"light\";\n}\n\nfunction applyTheme(value: ThemeMode, init = false) {\n\n  const resolved = value === \"auto\" ? getSystemTheme() : value;\n\n  \n  if (init) {\n    document.documentElement.setAttribute(\"data-theme\", resolved);\n    return;\n  }\n\n\n  document.documentElement.setAttribute(\"data-theme\", resolved);\n  localStorage.setItem(\"theme\", value);\n}\n\n\napplyTheme(saved, true);\n\n// ðŸŽ§ Listen for system theme changes (only if in auto)\nconst media = window.matchMedia(\"(prefers-color-scheme: dark)\");\nmedia.addEventListener(\"change\", () => {\n  if (theme.value === \"auto\") applyTheme(\"auto\");\n});\n\n// ðŸ‘€ Reactively apply whenever user toggles\nwatchEffect(() => {\n  applyTheme(theme.value);\n});\n\nexport function useTheme() {\n  return {\n    theme,\n    setTheme: (mode: ThemeMode) => {\n      theme.value = mode;\n      applyTheme(mode);\n    },\n    toggleTheme: () => {\n      theme.value = theme.value === \"dark\" ? \"light\" : \"dark\";\n      applyTheme(theme.value);\n    },\n  };\n}\n","import type { App, Plugin } from \"vue\";\nimport { useToast } from \"./composables/useToast\";\nimport \"./styles/index.scss\";\n\nconst modules = import.meta.glob(\"./components/**/*.vue\", { eager: true });\n\nconst FusionBinaryUI: Plugin = {\n  install(app: App) {\n    for (const path in modules) {\n      const component = (modules[path] as any).default;\n      const name = component.name || path.split(\"/\").pop()?.replace(\".vue\", \"\");\n      // console.log(\" âœ… Registering component:\", name);\n      app.component(name, component);\n    }\n\n    // Register globally for Vue components\n    app.config.globalProperties.FusionToast = (options: any) => {\n      const toast = useToast();\n      toast(options);\n    };\n\n    // Also make available as a global function in scripts\n    if (typeof window !== \"undefined\") {\n      (window as any).FusionToast = (options: any) => {\n        const toast = useToast();\n        toast(options);\n      };\n    }\n  },\n};\n\nexport default FusionBinaryUI;\n\nexport { UserStatus } from \"./components/avatar/UserStatus\";\nexport { useTheme } from \"./composables/useTheme\";\nexport { useToast } from \"./composables/useToast\";\n\nexport { default as FuAvatar } from \"./components/avatar/FuAvatar.vue\";"],"names":["toKebabCase","string","toCamelCase","match","p1","p2","toPascalCase","camelCase","mergeClasses","classes","className","index","array","isEmptyString","value","defaultAttributes","Icon","name","iconNode","absoluteStrokeWidth","absoluteStrokeWidthKebabCase","strokeWidth","strokeWidthKebabCase","size","color","props","slots","h","child","createLucideIcon","iconName","attrs","Bell","Check","ChevronDown","ChevronLeft","ChevronRight","ChevronUp","CircleAlert","CircleCheckBig","CircleCheck","CircleX","EllipsisVertical","EyeOff","Eye","FileText","Info","Maximize2","Minimize2","MonitorSmartphone","SquarePen","Trash2","TriangleAlert","Video","X","__props","emit","__emit","dropdownOpen","ref","dropdown","menuRef","selected","menuStyle","reactive","watch","val","calculatePosition","triggerRect","menuRect","spaceBelow","spaceAbove","openUpwards","left","transform","toggleDropdown","nextTick","selectStatus","option","handleClickOutside","e","target","handleViewportChange","handleKeyDown","onMounted","onBeforeUnmount","_createElementBlock","_hoisted_1","_toDisplayString","_createElementVNode","_hoisted_2","_createBlock","_resolveDynamicComponent","_normalizeStyle","_normalizeClass","_createVNode","_unref","_Teleport","_Transition","_Fragment","_renderList","$event","_hoisted_4","_cache","$emit","_openBlock","_hoisted_3","hover","triggerEdit","event","FusionActionButton","Edit","innerValue","_createTextVNode","$slots","_renderSlot","_ctx","_mergeProps","_hoisted_5","_hoisted_6","openKeys","isOpen","key","toggle","currentlyOpen","k","item","_withDirectives","searchQuery","dropdownRef","actionsRef","searchInputRef","dropdownStyle","selectedOption","selectedItems","isAsync","computed","query","filteredOptions","o","trigger","rect","inputEl","selectItem","exists","i","removeItem","closeDropdown","_withModifiers","_hoisted_7","_hoisted_9","FusionTextInput","_hoisted_10","_hoisted_11","_hoisted_14","_hoisted_15","UserStatus","fileInput","initials","n","onAvatarClick","onFileChange","file","reader","removeImage","statusClass","max","visibleAvatars","hiddenCount","user","FuAvatar","_hoisted_8","codeDigits","inputs","arr","onInput","onBackspace","onPaste","digits","d","lastIndex","digit","el","_withKeys","_vModelText","format","open","triggerRef","popoverStyle","togglePopover","positionPopover","popoverWidth","popoverHeight","padding","top","origin","onDocumentClick","t","hue","sat","outputInput","isTyping","hsvToRgb","s","v","c","x","m","r","g","b","rgbToHsv","min","rgbToHex","rgbToString","rgb","hexString","paletteStyle","emitColor","applyInput","parsed","hsv","onOutputInput","onOutputBlur","onOutputKeydown","onPalettePointer","y","comboboxRef","groupedOptions","buildGroups","filtered","opt","list","groups","group","title","items","selectOption","toggleOpen","module","this","u","a","f","l","$","M","D","p","S","_","w","O","Y","L","yearsPerPage","dayjs","customParseFormat","timeOpen","calendarOpen","activeInput","pickerRef","calendarRef","currentMonth","selectedDate","selectedRange","timeValue","weekdays","months","viewMode","yearRangeStart","yearRangeEnd","yearsRange","daysInCalendar","start","end","days","isDisabled","date","isSelected","isInRange","selectDate","closeCalendar","applyRange","toggleCalendar","input","positionCalendar","onClickOutside","calendarPosition","pickerRect","calendarRect","scrollY","scrollX","displayValue","displayRange","variantClass","toggleView","prevAction","nextAction","selectMonth","selectYear","year","selectToday","today","selectTomorrow","tomorrow","clearSelection","timeOptions","filteredTimeOptions","q","applyTypedTime","raw","selectTime","onTimeBlur","FusionButton","day","_hoisted_12","_hoisted_13","_hoisted_16","_hoisted_17","yearsRangeCount","currentYear","selectedMonth","isSelectedMonth","monthIndex","isDisabledMonth","selectThisMonth","now","combined","dropdownHeight","inputRef","inputRect","firstVisibleOption","opts","visibleTimeOptions","onTimeInput","normalizeTime","hour","meridian","hour12","displayMeridian","setFirstVisible","time","normalized","onResize","handleKeydown","activeDropdown","updateMenuPosition","button","menuWidth","positions","performClick","action","closeOtherDropdowns","inlineRef","editing","updatePosition","openDropdown","menuPosition","willOpen","positionMenu","baseTop","handleResize","handleGlobalClose","isEditing","editableValue","position","teleportRef","safeClone","toRaw","startEditing","openTeleport","closeEditor","popupWidth","handlePointerDown","__expose","isDragging","files","previews","generateId","triggerFileSelect","handleFileChange","addFiles","handleDrop","droppedFiles","fileList","incoming","maxBytes","msg","id","removeFile","menuSize","onApply","onCancel","handleClick","CheckCircle","isImage","isVideo","DropdownMenu","hovered","computedActions","addItemButtonText","addColumnButtonText","localColumns","dragContext","columnDragContext","hoveredColumnId","newVal","onItemDragStart","fromColumnId","onItemDragOver","columnId","onItemDragLeave","onItemDrop","toColumnId","targetIndex","ctx","fromCol","toCol","onColumnDragStart","fromIndex","onColumnDrop","toIndex","cols","moved","addColumn","newColumn","onAddItem","column","onCardClick","col","colIndex","onClose","BREAKPOINT","STORAGE_KEY","defaultAiWidth","maxAiWidth","isMenuOpen","isInnerMenuVisible","isAiOpen","aiWidth","isMaximized","windowWidth","isResizing","showMobileAiModal","toggleMenu","toggleAiPanel","persistState","toggleMaximize","startResizing","resizePanel","stopResizing","newWidth","closeMenuOnMobile","data","restoreState","saved","width","maximized","handleTabsReady","_component_FusionActionButton","FusionModal","internalColumns","allSelected","listviewRef","tableWrapper","internalSortKey","internalSortDirection","isControlledSort","activeSortKey","activeSortDirection","showHeader","isSortingEnabled","isSelectable","row","emitSelectionChange","onHeaderClick","currentKey","currentDirection","newDirection","handleRowClick","resizingIndex","startX","startWidth","startResize","stopResize","delta","wakeScroll","FusionCheckbox","onConfirm","icon","AlertTriangle","confirmVariant","_component_router_link","panelEl","visible","XIcon","iconMap","CheckCircle2","XCircle","close","pageSizeDropdownOptions","pageSizeModel","totalPages","goTo","page","handlePageClick","pages","result","total","current","sibling","startPage","endPage","FusionStatusDropdown","panelBasis","showPassword","togglePassword","progressWidth","onStepClick","step","model","isChecked","sidebarStyle","mod","splitButtonRef","align","sizeClass","splitButtonStyle","positionDropdown","mainAction","isMobile","activeTab","tabBody","visibleTabs","setActive","tab","setDefaultTab","fallback","updateDevice","wasMobile","_KeepAlive","selectTheme","themeKey","theme","toolbarClass","useToast","message","type","duration","mount","app","createApp","FusionToast","getSystemTheme","applyTheme","init","resolved","media","watchEffect","useTheme","mode","modules","__vite_glob_0_0","__vite_glob_0_1","__vite_glob_0_2","__vite_glob_0_3","__vite_glob_0_4","__vite_glob_0_5","__vite_glob_0_6","__vite_glob_0_7","__vite_glob_0_8","__vite_glob_0_9","__vite_glob_0_10","__vite_glob_0_11","__vite_glob_0_12","__vite_glob_0_13","__vite_glob_0_14","__vite_glob_0_15","__vite_glob_0_16","__vite_glob_0_17","__vite_glob_0_18","__vite_glob_0_19","__vite_glob_0_20","__vite_glob_0_21","__vite_glob_0_22","__vite_glob_0_23","__vite_glob_0_24","__vite_glob_0_25","__vite_glob_0_26","__vite_glob_0_27","__vite_glob_0_28","__vite_glob_0_29","__vite_glob_0_30","__vite_glob_0_31","__vite_glob_0_32","__vite_glob_0_33","__vite_glob_0_34","__vite_glob_0_35","__vite_glob_0_36","__vite_glob_0_37","__vite_glob_0_38","__vite_glob_0_39","__vite_glob_0_40","__vite_glob_0_41","__vite_glob_0_42","__vite_glob_0_43","__vite_glob_0_44","__vite_glob_0_45","__vite_glob_0_46","__vite_glob_0_47","__vite_glob_0_48","__vite_glob_0_49","__vite_glob_0_50","__vite_glob_0_51","__vite_glob_0_52","__vite_glob_0_53","__vite_glob_0_54","__vite_glob_0_55","__vite_glob_0_56","FusionBinaryUI","path","component","options"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,43,44]}