import{s as B,r as f,m as E,q as V,o as L,a as i,g as _,d as k,y as h,b as M,w as q,x as z,T as N,j as a,f as m,n as S,l as T,F as $,h as F,k as R,v as I,t as W,i as A}from"./iframe-4anGkjM3.js";import{_ as P}from"./_plugin-vue_export-helper-DlAUqK2U.js";const U={key:0,class:"content"},X=["onClick"],b=B({__name:"DropdownMenu",props:{actions:{},align:{default:"right"},content:{type:Boolean,default:!1},isOpen:{type:Boolean,default:void 0},closeOnSelect:{type:Boolean,default:!1}},emits:["open","close","update:isOpen"],setup(r,{emit:C}){const d=C,p=r,t=f(!1),s=f(null),l=f(null),v=f({top:"0px",left:"0px"});E(()=>p.isOpen,e=>{typeof e=="boolean"&&(t.value=e)});function x(e){e?.stopPropagation();const n=!t.value;n&&document.dispatchEvent(new CustomEvent("close-all-dropdowns")),t.value=n,d(n?"open":"close"),d("update:isOpen",n),n&&A(O)}function O(){if(!s.value||!l.value)return;const e=s.value.getBoundingClientRect(),n=e.bottom+window.scrollY+6,o=l.value.offsetWidth;let c=e.left+window.scrollX;p.align==="center"?c+=e.width/2-o/2:p.align==="right"&&(c=e.right-o+window.scrollX),v.value={position:"absolute",top:`${n}px`,left:`${c}px`,zIndex:"2000"}}function D(e,n){e.onClick?.(),u()}function w(e){t.value&&s.value&&!s.value.contains(e.target)&&l.value&&!l.value.contains(e.target)&&u()}function g(){t.value&&u()}function u(){t.value=!1,d("close"),d("update:isOpen",!1)}function y(){u()}return V(()=>{document.addEventListener("click",w),window.addEventListener("resize",g),document.addEventListener("close-all-dropdowns",y)}),L(()=>{document.removeEventListener("click",w),window.removeEventListener("resize",g),document.removeEventListener("close-all-dropdowns",y)}),(e,n)=>(a(),i("div",{class:"fu-dropdown",ref_key:"dropdown",ref:s},[_("div",{class:"fu-dropdown__trigger",onClick:x},[h(e.$slots,"trigger",{},void 0,!0)]),(a(),k(N,{to:"body"},[M(z,{name:"fade"},{default:q(()=>[t.value?(a(),i("div",{key:0,class:T(["fu-dropdown__menu",[`fu-dropdown__menu--${r.align}`]]),style:S(v.value),ref_key:"menuRef",ref:l},[r.content?(a(),i("div",U,[h(e.$slots,"content",{},void 0,!0)])):m("",!0),(a(!0),i($,null,F(r.actions,o=>(a(),i("div",{class:"flex w-100",key:o.label},[_("a",{class:"fu-dropdown__item",onClick:c=>D(o)},[o.icon?(a(),k(I(o.icon),{key:0,class:"fu-dropdown__icon"})):m("",!0),R(" "+W(o.label),1)],8,X)]))),128))],6)):m("",!0)]),_:3})]))],512))}}),Y=P(b,[["__scopeId","data-v-d9e510d8"]]);b.__docgenInfo={exportName:"default",displayName:"DropdownMenu",description:"",tags:{},props:[{name:"actions",required:!0,type:{name:"Array",elements:[{name:"Action"}]}},{name:"align",required:!1,type:{name:"union",elements:[{name:'"left"'},{name:'"center"'},{name:'"right"'}]},defaultValue:{func:!1,value:'"right"'}},{name:"content",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"isOpen",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"undefined"}},{name:"closeOnSelect",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],events:[{name:"open"},{name:"close"},{name:"update:isOpen"}],slots:[{name:"trigger"},{name:"content"}],sourceFiles:["/Users/xavier/Documents/Websites/Skkido/Fusion-binary-ui/src/components/dropdownMenu/DropdownMenu.vue"]};export{Y as D};
